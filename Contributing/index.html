<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1"><link rel="stylesheet" href="../assets/css/light.css" integrity="sha512-Oh+Yyq/HCrOsyFvK1WsZ5nF7PZNqQOnlF81+2TiSbB3GOVUt7oIgkkQy/4uOzgc+4L0BS6GoyxMvrCPgKXMv0g=="><link rel="stylesheet" href="../assets/css/highlight.css" integrity="sha512-/AZvSp2ONGYOeJSr2xXUbsyhW6M12OnxAkxsowJXDTNqhKU6BXnwQCnki8wOoiisTyv0A//fK5TajfqCCt1xEw=="><title>Programming Language Foundations in Agda – Contributing</title><script src="../assets/js/anchor.js" integrity="sha512-zPB79j2C+3sFS9zcA3vg/z6bVKzJVEyu9pY5w89akQRys76zpAT2t6S3wZKla3QQ14O5l/Yt0RUQ/DHXx82Y5g=="></script><script>document.addEventListener("DOMContentLoaded",function(d){anchors.add("h1").add("h2").add("h3").add("h4")})</script></head><body><header class="site-header"><div class="wrapper"><a class="site-title" href="../">Programming Language Foundations in Agda</a><nav class="site-nav"><span class="menu-icon"><svg viewBox="0 0 18 15" width="18px" height="15px"></svg></span><div class="trigger"><a class="page-link" href="../">The Book</a> <a class="page-link" href="../Announcements/">Announcements</a> <a class="page-link" href="../GettingStarted/">Getting Started</a> <a class="page-link" href="../Citing/">Citing</a> <a class="page-link" href="https://agda-zh.github.io/PLFA-zh/">中文</a></div></nav></div></header><main class="page-content" aria-label="Content"><div class="wrapper"><article class="post"><nav class="pager"><ul class="pagination"><li><a class="pagelink" href="https://github.com/plfa/plfa.github.io/blob/dev/CONTRIBUTING.md">Source</a></li><li class="separator">•</li></ul></nav><header class="post-header"><h1 class="post-title">Contributing</h1></header><div class="post-content"><h2 id="how-to-publish-the-current-version-of-plfa">How to publish the current version of PLFA</h2><p>Any changes to the development branch <code>dev</code> are automatically published to the live version of the book, provided that they pass certain tests. If you’ve made changes though the book, and they are not propagated to the live version, please check the build status on (GitHub Actions)<a href="https://github.com/plfa/plfa.github.io/actions">GitHub-Actions</a>.</p><p>The copy of PLFA hosted at <a href="https://plfa.inf.ed.ac.uk" class="uri">https://plfa.inf.ed.ac.uk</a> updates daily.</p><h2 id="how-to-publish-an-announcement">How to publish an announcement</h2><p>PLFA announcements are files with names of the form <code>YYYY-0M-0D-SLUG.md</code>, where <code>YYYY</code> is the long year, <code>0M</code> is the zero-padded month, <code>0D</code> is the zero-padded day, and <code>SLUG</code> is the URL slug for the post, usually an URL-safe version of the title.</p><p>There are several steps to writing an announcement for PLFA:</p><ul><li>Create a new file in <code>web/posts</code> with the name <code>YYYY-0M-0D-SLUG.md</code>.</li><li>Add the metadata block, setting at least the <code>title</code> field.</li><li>Write the announcement in the remainder of the file.</li></ul><p>If the announcement is short, it will be displayed in full in on the announcements page. If the announcement is long, insert a <code>&lt;!--more--&gt;</code> tag after the first paragraph. Everything before this tag will be displayed on the announcements page, followed by a link to the full announcement.</p><h2 id="how-to-publish-a-new-release">How to publish a new release</h2><p>For a project such as PLFA, <a href="https://semver.org/">Semantic Versioning</a> doesn’t make a huge amount of sense. Instead, we’ve adopted <a href="https://calver.org">Calendar Versioning</a>, following, e.g., <a href="https://www.ubuntu.com">Ubuntu</a>. PLFA versions are of the form <code>YY.0M</code>, where <code>YY</code> is the short year, and <code>0M</code> is the zero-padded month. For each release, there are two tags in the repository:</p><ul><li><code>dev-YY.0M</code>: a copy of the contents of the <code>dev</code> branch at the time of release; and</li><li><code>web-YY.0M</code>: a copy of the web version of PLFA only.</li></ul><p>The former contains everything you’d need to work with that version of PLFA, whereas the latter consists only of the relevant files to deploy a web version of PLFA.</p><p>To create a new release for PLFA, follow these steps:</p><ul><li>Write <a href="#how-to-publish-an-announcement">an announcement</a> for the release, which describes any major changes.</li><li>Update the version in <code>plfa.cabal</code> to <code>YY.M</code>. Don’t use zero padding for the month, as Cabal does not allow leading zeros.</li><li>Run <code>make test</code> and handle any warnings or errors.</li><li>Push your changes to the <code>dev</code> branch.</li><li>Wait for your changes to be propagated to the live version.</li><li>Draft [a new release]]<a href="https://github.com/plfa/plfa.github.io/releases">GitHub-Releases</a> of the <code>dev</code> branch titled <code>dev-YY.0M</code>. Use a new tag with the same name.</li><li>Draft [a new release]]<a href="https://github.com/plfa/plfa.github.io/releases">GitHub-Releases</a> of the <code>web</code> branch titled <code>web-YY.0M</code>. Use a new tag with the same name.</li></ul><p>Then, we need to make sure that the release is published to live versions of PLFA:</p><ul><li>Update the build task in the <code>Makefile</code> to download a copy of the web release you just created, and place it in <code>_site/YY.0M/</code>.</li><li>Run <code>make test</code> and handle any warnings or errors.</li><li>Push your changes to the <code>dev</code> branch.</li><li>Wait for your changes to be propagated to the live version.</li></ul><p>The first two releases, 19.08 and 20.07, are included in the <code>dev</code> branch of the repository under <code>data/legacy/</code>, because these versions do not use relative URLs, and as such cannot simply be moved into a subdirectory. Later releases should use relative URLs, and therefore can simply be downloaded from GitHub, and copied into their appropriate subdirectories.</p><h2 id="how-to-add-a-citation">How to add a citation</h2><p>You can cite works by writing <code>@</code> followed by a citation key, e.g., <code>@plfa20.07</code>. For instance, the first release of PLFA was by <span class="citation" data-cites="plfa19.08">Wadler and Kokke (2019)</span>. See the <a href="#bibliography">Bibliography</a> section below for the bibliography. Citations and the bibliography are currently styled using Pandoc’s default citation style. Other styles can easily be found using the <a href="https://www.zotero.org/styles">Zotero Style Repository</a> and added into the build file by setting the <code>citation-style</code> meta-variable. The citation keys are cross-referenced with <code>data/bibliography.bib</code>.</p><h2 id="the-structure-of-the-plfa-repository">The structure of the PLFA repository</h2><pre><code>plfa
├── book
│   ├── epub
│   └── pdf
├── courses
│   └── TSPL/2019
├── data
│   ├── authors
│   ├── contributors
│   ├── dotagda
│   └── bibliography.bib
│   └── metadata.yml
│   └── tableOfContents.yml
├── extra
├── papers
├── src
│   └── plfa
│       ├── backmatter
│       ├── frontmatter
│       ├── part1
│       ├── part2
│       └── part3
├── tools
│   └── Buildfile.hs
│   └── UpdateContributors.hs
└── web
    ├── assets
    ├── posts
    ├── sass
    └── templates</code></pre><h2 class="unnumbered" id="references">References</h2><div id="refs" class="references csl-bib-body hanging-indent" role="doc-bibliography"><div id="ref-plfa19.08" class="csl-entry" role="doc-biblioentry">Wadler, Philip, and Wen Kokke. 2019. <em>Programming Language Foundations in <span>A</span>gda</em>. <a href="https://plfa.inf.ed.ac.uk/19.08/">https://plfa.inf.ed.ac.uk/19.08/</a>.</div></div></div><nav class="pager"><ul class="pagination"><li><a class="pagelink" href="https://github.com/plfa/plfa.github.io/blob/dev/CONTRIBUTING.md">Source</a></li><li class="separator">•</li></ul></nav></article></div></main><footer class="site-footer h-card"><div class="wrapper"><h2 class="footer-heading">Programming Language Foundations in Agda</h2><div class="footer-col-wrapper"><div class="footer-col footer-col-1"><ul class="contact-list"><li class="p-name">Philip Wadler</li><li><a class="u-email" href="mailto:wadler@inf.ed.ac.uk">wadler@inf.ed.ac.uk</a></li></ul></div><div class="footer-col footer-col-2"><ul class="social-media-list"><li><a rel="me" href="https://github.com/wadler" title="wadler"><svg class="svg-icon grey"></svg>  wadler</a></li></ul></div></div><div class="footer-col-wrapper"><div class="footer-col footer-col-1"><ul class="contact-list"><li class="p-name">Wen Kokke</li><li><a class="u-email" href="mailto:me@wen.works">me@wen.works</a></li></ul></div><div class="footer-col footer-col-2"><ul class="social-media-list"><li><a rel="me" href="https://github.com/wenkokke" title="wenkokke"><svg class="svg-icon grey"></svg>  wenkokke</a></li><li><a rel="me" href="https://twitter.com/wenkokke" title="wenkokke"><svg class="svg-icon grey"></svg>  wenkokke</a></li></ul></div></div><div class="footer-col-wrapper"><div class="footer-col footer-col-1"><ul class="contact-list"><li class="p-name">Jeremy G. Siek</li><li><a class="u-email" href="mailto:jsiek@indiana.edu">jsiek@indiana.edu</a></li></ul></div><div class="footer-col footer-col-2"><ul class="social-media-list"><li><a rel="me" href="https://github.com/jsiek" title="jsiek"><svg class="svg-icon grey"></svg>  jsiek</a></li><li><a rel="me" href="https://twitter.com/jeremysiek" title="jeremysiek"><svg class="svg-icon grey"></svg>  jeremysiek</a></li></ul></div></div>This work is licensed under a <a rel="license" href="https://creativecommons.org/licenses/by/4.0/">Creative Commons Attribution 4.0 International License</a></div></footer></body></html>