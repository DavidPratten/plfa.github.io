<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1"><link rel="stylesheet" href="../assets/css/style.css"><title>Programming Language Foundations in Agda – Denotational</title></head><body><header class="site-header"><div class="wrapper"><a class="site-title" href="../">Programming Language Foundations in Agda</a><nav class="site-nav"><span class="menu-icon"><svg viewBox="0 0 18 15" width="18px" height="15px"><path fill="#424242" d="M18,1.484c0,0.82-0.665,1.484-1.484,1.484H1.484C0.665,2.969,0,2.304,0,1.484l0,0C0,0.665,0.665,0,1.484,0 h15.031C17.335,0,18,0.665,18,1.484L18,1.484z"></path><path fill="#424242" d="M18,7.516C18,8.335,17.335,9,16.516,9H1.484C0.665,9,0,8.335,0,7.516l0,0c0-0.82,0.665-1.484,1.484-1.484 h15.031C17.335,6.031,18,6.696,18,7.516L18,7.516z"></path><path fill="#424242" d="M18,13.516C18,14.335,17.335,15,16.516,15H1.484C0.665,15,0,14.335,0,13.516l0,0 c0-0.82,0.665-1.484,1.484-1.484h15.031C17.335,12.031,18,12.696,18,13.516L18,13.516z"></path></svg></span><div class="trigger"><a class="page-link" href="../">The Book</a> <a class="page-link" href="../Announcements/">Announcements</a> <a class="page-link" href="../GettingStarted/">Getting Started</a> <a class="page-link" href="../Citing/">Citing</a> <a class="page-link" href="https://agda-zh.github.io/PLFA-zh/">中文</a></div></nav></div></header><main class="page-content" aria-label="Content"><div class="wrapper"><article class="post"><nav class="pager"><ul class="pagination"><li><a class="pagelink" href="../BigStep/">Prev</a></li><li class="separator">•</li><li><a class="pagelink" href="https://github.com/plfa/plfa.github.io/blob/dev/src/plfa/part3/Denotational.lagda.md">Source</a></li><li class="separator">•</li><li><a class="pagelink" href="../Compositional/">Next</a></li><li class="separator">•</li></ul></nav><header class="post-header"><h1 class="post-title">Denotational: Denotational semantics of untyped lambda calculus</h1></header><div class="post-content"><pre class="Agda"><a id="plfa_plfa-part3-Denotational-123" class="Keyword">module</a> <a id="plfa_plfa-part3-Denotational-130" href="../Denotational/#" class="Module">plfa.part3.Denotational</a> <a id="plfa_plfa-part3-Denotational-154" class="Keyword">where</a>
</pre><p>The lambda calculus is a language about <em>functions</em>, that is, mappings from input to output. In computing we often think of such mappings as being carried out by a sequence of operations that transform an input into an output. But functions can also be represented as data. For example, one can tabulate a function, that is, create a table where each row has two entries, an input and the corresponding output for the function. Function application is then the process of looking up the row for a given input and reading off the output.</p><p>We shall create a semantics for the untyped lambda calculus based on this idea of functions-as-tables. However, there are two difficulties that arise. First, functions often have an infinite domain, so it would seem that we would need infinitely long tables to represent functions. Second, in the lambda calculus, functions can be applied to functions. They can even be applied to themselves! So it would seem that the tables would contain cycles. One might start to worry that advanced techniques are necessary to address these issues, but fortunately this is not the case!</p><p>The first problem, of functions with infinite domains, is solved by observing that in the execution of a terminating program, each lambda abstraction will only be applied to a finite number of distinct arguments. (We come back later to discuss diverging programs.) This observation is another way of looking at Dana Scott’s insight that only continuous functions are needed to model the lambda calculus.</p><p>The second problem, that of self-application, is solved by relaxing the way in which we lookup an argument in a function’s table. Naively, one would look in the table for a row in which the input entry exactly matches the argument. In the case of self-application, this would require the table to contain a copy of itself. Impossible! (At least, it is impossible if we want to build tables using inductive data type definitions, which indeed we do.) Instead it is sufficient to find an input such that every row of the input appears as a row of the argument (that is, the input is a subset of the argument). In the case of self-application, the table only needs to contain a smaller copy of itself, which is fine.</p><p>With these two observations in hand, it is straightforward to write down a denotational semantics of the lambda calculus.</p><h2 id="imports">Imports</h2><pre class="Agda"><a id="plfa_plfa-part3-Denotational-2545" class="Keyword">open</a> <a id="plfa_plfa-part3-Denotational-2550" class="Keyword">import</a> <a id="plfa_plfa-part3-Denotational-2557" href="https://agda.github.io/agda-stdlib/v1.3/Agda.Primitive.html" class="Module">Agda.Primitive</a> <a id="plfa_plfa-part3-Denotational-2572" class="Keyword">using</a> <a id="plfa_plfa-part3-Denotational-2578" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-2579" href="https://agda.github.io/agda-stdlib/v1.3/Agda.Primitive.html#764" class="Primitive">lzero</a><a id="plfa_plfa-part3-Denotational-2584" class="Symbol">;</a> <a id="plfa_plfa-part3-Denotational-2586" href="https://agda.github.io/agda-stdlib/v1.3/Agda.Primitive.html#780" class="Primitive">lsuc</a><a id="plfa_plfa-part3-Denotational-2590" class="Symbol">)</a>
<a id="plfa_plfa-part3-Denotational-2592" class="Keyword">open</a> <a id="plfa_plfa-part3-Denotational-2597" class="Keyword">import</a> <a id="plfa_plfa-part3-Denotational-2604" href="https://agda.github.io/agda-stdlib/v1.3/Data.Nat.html" class="Module">Data.Nat</a> <a id="plfa_plfa-part3-Denotational-2613" class="Keyword">using</a> <a id="plfa_plfa-part3-Denotational-2619" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-2620" href="https://agda.github.io/agda-stdlib/v1.3/Agda.Builtin.Nat.html#192" class="Datatype">ℕ</a><a id="plfa_plfa-part3-Denotational-2621" class="Symbol">;</a> <a id="plfa_plfa-part3-Denotational-2623" href="https://agda.github.io/agda-stdlib/v1.3/Agda.Builtin.Nat.html#210" class="InductiveConstructor">zero</a><a id="plfa_plfa-part3-Denotational-2627" class="Symbol">;</a> <a id="plfa_plfa-part3-Denotational-2629" href="https://agda.github.io/agda-stdlib/v1.3/Agda.Builtin.Nat.html#223" class="InductiveConstructor">suc</a><a id="plfa_plfa-part3-Denotational-2632" class="Symbol">)</a>
<a id="plfa_plfa-part3-Denotational-2634" class="Keyword">open</a> <a id="plfa_plfa-part3-Denotational-2639" class="Keyword">import</a> <a id="plfa_plfa-part3-Denotational-2646" href="https://agda.github.io/agda-stdlib/v1.3/Data.Product.html" class="Module">Data.Product</a> <a id="plfa_plfa-part3-Denotational-2659" class="Keyword">using</a> <a id="plfa_plfa-part3-Denotational-2665" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-2666" href="https://agda.github.io/agda-stdlib/v1.3/Data.Product.html#1167" class="Function Operator">_×_</a><a id="plfa_plfa-part3-Denotational-2669" class="Symbol">;</a> <a id="plfa_plfa-part3-Denotational-2671" href="https://agda.github.io/agda-stdlib/v1.3/Agda.Builtin.Sigma.html#166" class="Record">Σ</a><a id="plfa_plfa-part3-Denotational-2672" class="Symbol">;</a> <a id="plfa_plfa-part3-Denotational-2674" href="https://agda.github.io/agda-stdlib/v1.3/Data.Product.html#916" class="Function">Σ-syntax</a><a id="plfa_plfa-part3-Denotational-2682" class="Symbol">;</a> <a id="plfa_plfa-part3-Denotational-2684" href="https://agda.github.io/agda-stdlib/v1.3/Data.Product.html#1369" class="Function">∃</a><a id="plfa_plfa-part3-Denotational-2685" class="Symbol">;</a> <a id="plfa_plfa-part3-Denotational-2687" href="https://agda.github.io/agda-stdlib/v1.3/Data.Product.html#1788" class="Function">∃-syntax</a><a id="plfa_plfa-part3-Denotational-2695" class="Symbol">;</a> <a id="plfa_plfa-part3-Denotational-2697" href="https://agda.github.io/agda-stdlib/v1.3/Agda.Builtin.Sigma.html#252" class="Field">proj₁</a><a id="plfa_plfa-part3-Denotational-2702" class="Symbol">;</a> <a id="plfa_plfa-part3-Denotational-2704" href="https://agda.github.io/agda-stdlib/v1.3/Agda.Builtin.Sigma.html#264" class="Field">proj₂</a><a id="plfa_plfa-part3-Denotational-2709" class="Symbol">)</a>
  <a id="plfa_plfa-part3-Denotational-2713" class="Keyword">renaming</a> <a id="plfa_plfa-part3-Denotational-2722" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-2723" href="https://agda.github.io/agda-stdlib/v1.3/Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">_,_</a> <a id="plfa_plfa-part3-Denotational-2727" class="Symbol">to</a> <a id="plfa_plfa-part3-Denotational-2730" class="InductiveConstructor Operator">⟨_,_⟩</a><a id="plfa_plfa-part3-Denotational-2735" class="Symbol">)</a>
<a id="plfa_plfa-part3-Denotational-2737" class="Keyword">open</a> <a id="plfa_plfa-part3-Denotational-2742" class="Keyword">import</a> <a id="plfa_plfa-part3-Denotational-2749" href="https://agda.github.io/agda-stdlib/v1.3/Data.Sum.html" class="Module">Data.Sum</a>
<a id="plfa_plfa-part3-Denotational-2758" class="Keyword">open</a> <a id="plfa_plfa-part3-Denotational-2763" class="Keyword">import</a> <a id="plfa_plfa-part3-Denotational-2770" href="https://agda.github.io/agda-stdlib/v1.3/Data.Vec.html" class="Module">Data.Vec</a> <a id="plfa_plfa-part3-Denotational-2779" class="Keyword">using</a> <a id="plfa_plfa-part3-Denotational-2785" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-2786" href="https://agda.github.io/agda-stdlib/v1.3/Data.Vec.Base.html#959" class="Datatype">Vec</a><a id="plfa_plfa-part3-Denotational-2789" class="Symbol">;</a> <a id="plfa_plfa-part3-Denotational-2791" href="https://agda.github.io/agda-stdlib/v1.3/Data.Vec.Base.html#995" class="InductiveConstructor">[]</a><a id="plfa_plfa-part3-Denotational-2793" class="Symbol">;</a> <a id="plfa_plfa-part3-Denotational-2795" href="https://agda.github.io/agda-stdlib/v1.3/Data.Vec.Base.html#1014" class="InductiveConstructor Operator">_∷_</a><a id="plfa_plfa-part3-Denotational-2798" class="Symbol">)</a>
<a id="plfa_plfa-part3-Denotational-2800" class="Keyword">open</a> <a id="plfa_plfa-part3-Denotational-2805" class="Keyword">import</a> <a id="plfa_plfa-part3-Denotational-2812" href="https://agda.github.io/agda-stdlib/v1.3/Relation.Binary.PropositionalEquality.html" class="Module">Relation.Binary.PropositionalEquality</a>
  <a id="plfa_plfa-part3-Denotational-2852" class="Keyword">using</a> <a id="plfa_plfa-part3-Denotational-2858" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-2859" href="https://agda.github.io/agda-stdlib/v1.3/Agda.Builtin.Equality.html#151" class="Datatype Operator">_≡_</a><a id="plfa_plfa-part3-Denotational-2862" class="Symbol">;</a> <a id="plfa_plfa-part3-Denotational-2864" href="https://agda.github.io/agda-stdlib/v1.3/Relation.Binary.PropositionalEquality.Core.html#840" class="Function Operator">_≢_</a><a id="plfa_plfa-part3-Denotational-2867" class="Symbol">;</a> <a id="plfa_plfa-part3-Denotational-2869" href="https://agda.github.io/agda-stdlib/v1.3/Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a><a id="plfa_plfa-part3-Denotational-2873" class="Symbol">;</a> <a id="plfa_plfa-part3-Denotational-2875" href="https://agda.github.io/agda-stdlib/v1.3/Relation.Binary.PropositionalEquality.Core.html#980" class="Function">sym</a><a id="plfa_plfa-part3-Denotational-2878" class="Symbol">;</a> <a id="plfa_plfa-part3-Denotational-2880" href="https://agda.github.io/agda-stdlib/v1.3/Relation.Binary.PropositionalEquality.Core.html#1131" class="Function">cong</a><a id="plfa_plfa-part3-Denotational-2884" class="Symbol">;</a> <a id="plfa_plfa-part3-Denotational-2886" href="https://agda.github.io/agda-stdlib/v1.3/Relation.Binary.PropositionalEquality.html#1524" class="Function">cong₂</a><a id="plfa_plfa-part3-Denotational-2891" class="Symbol">;</a> <a id="plfa_plfa-part3-Denotational-2893" href="https://agda.github.io/agda-stdlib/v1.3/Relation.Binary.PropositionalEquality.html#1396" class="Function">cong-app</a><a id="plfa_plfa-part3-Denotational-2901" class="Symbol">)</a>
<a id="plfa_plfa-part3-Denotational-2903" class="Keyword">open</a> <a id="plfa_plfa-part3-Denotational-2908" class="Keyword">import</a> <a id="plfa_plfa-part3-Denotational-2915" href="https://agda.github.io/agda-stdlib/v1.3/Relation.Nullary.html" class="Module">Relation.Nullary</a> <a id="plfa_plfa-part3-Denotational-2932" class="Keyword">using</a> <a id="plfa_plfa-part3-Denotational-2938" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-2939" href="https://agda.github.io/agda-stdlib/v1.3/Relation.Nullary.html#653" class="Function Operator">¬_</a><a id="plfa_plfa-part3-Denotational-2941" class="Symbol">)</a>
<a id="plfa_plfa-part3-Denotational-2943" class="Keyword">open</a> <a id="plfa_plfa-part3-Denotational-2948" class="Keyword">import</a> <a id="plfa_plfa-part3-Denotational-2955" href="https://agda.github.io/agda-stdlib/v1.3/Relation.Nullary.Negation.html" class="Module">Relation.Nullary.Negation</a> <a id="plfa_plfa-part3-Denotational-2981" class="Keyword">using</a> <a id="plfa_plfa-part3-Denotational-2987" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-2988" href="https://agda.github.io/agda-stdlib/v1.3/Relation.Nullary.Negation.html#858" class="Function">contradiction</a><a id="plfa_plfa-part3-Denotational-3001" class="Symbol">)</a>
<a id="plfa_plfa-part3-Denotational-3003" class="Keyword">open</a> <a id="plfa_plfa-part3-Denotational-3008" class="Keyword">import</a> <a id="plfa_plfa-part3-Denotational-3015" href="https://agda.github.io/agda-stdlib/v1.3/Function.html" class="Module">Function</a> <a id="plfa_plfa-part3-Denotational-3024" class="Keyword">using</a> <a id="plfa_plfa-part3-Denotational-3030" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-3031" href="https://agda.github.io/agda-stdlib/v1.3/Function.Base.html#992" class="Function Operator">_∘_</a><a id="plfa_plfa-part3-Denotational-3034" class="Symbol">)</a>
<a id="plfa_plfa-part3-Denotational-3036" class="Keyword">open</a> <a id="plfa_plfa-part3-Denotational-3041" class="Keyword">import</a> <a id="plfa_plfa-part3-Denotational-3048" href="../Untyped/#" class="Module">plfa.part2.Untyped</a>
  <a id="plfa_plfa-part3-Denotational-3069" class="Keyword">using</a> <a id="plfa_plfa-part3-Denotational-3075" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-3076" href="../Untyped/#plfa_plfa-part2-Untyped-3093" class="Datatype">Context</a><a id="plfa_plfa-part3-Denotational-3083" class="Symbol">;</a> <a id="plfa_plfa-part3-Denotational-3085" href="../Untyped/#plfa_plfa-part2-Untyped-2820" class="InductiveConstructor">★</a><a id="plfa_plfa-part3-Denotational-3086" class="Symbol">;</a> <a id="plfa_plfa-part3-Denotational-3088" href="../Untyped/#plfa_plfa-part2-Untyped-3469" class="Datatype Operator">_∋_</a><a id="plfa_plfa-part3-Denotational-3091" class="Symbol">;</a> <a id="plfa_plfa-part3-Denotational-3093" href="../Untyped/#plfa_plfa-part2-Untyped-3115" class="InductiveConstructor">∅</a><a id="plfa_plfa-part3-Denotational-3094" class="Symbol">;</a> <a id="plfa_plfa-part3-Denotational-3096" href="../Untyped/#plfa_plfa-part2-Untyped-3131" class="InductiveConstructor Operator">_,_</a><a id="plfa_plfa-part3-Denotational-3099" class="Symbol">;</a> <a id="plfa_plfa-part3-Denotational-3101" href="../Untyped/#plfa_plfa-part2-Untyped-3505" class="InductiveConstructor">Z</a><a id="plfa_plfa-part3-Denotational-3102" class="Symbol">;</a> <a id="plfa_plfa-part3-Denotational-3104" href="../Untyped/#plfa_plfa-part2-Untyped-3550" class="InductiveConstructor Operator">S_</a><a id="plfa_plfa-part3-Denotational-3106" class="Symbol">;</a> <a id="plfa_plfa-part3-Denotational-3108" href="../Untyped/#plfa_plfa-part2-Untyped-4246" class="Datatype Operator">_⊢_</a><a id="plfa_plfa-part3-Denotational-3111" class="Symbol">;</a> <a id="plfa_plfa-part3-Denotational-3113" href="../Untyped/#plfa_plfa-part2-Untyped-4282" class="InductiveConstructor Operator">`_</a><a id="plfa_plfa-part3-Denotational-3115" class="Symbol">;</a> <a id="plfa_plfa-part3-Denotational-3117" href="../Untyped/#plfa_plfa-part2-Untyped-4394" class="InductiveConstructor Operator">_·_</a><a id="plfa_plfa-part3-Denotational-3120" class="Symbol">;</a> <a id="plfa_plfa-part3-Denotational-3122" href="../Untyped/#plfa_plfa-part2-Untyped-4334" class="InductiveConstructor Operator">ƛ_</a><a id="plfa_plfa-part3-Denotational-3124" class="Symbol">;</a>
         <a id="plfa_plfa-part3-Denotational-3135" href="../Untyped/#plfa_plfa-part2-Untyped-5071" class="Function Operator">#_</a><a id="plfa_plfa-part3-Denotational-3137" class="Symbol">;</a> <a id="plfa_plfa-part3-Denotational-3139" href="../Untyped/#plfa_plfa-part2-Untyped-5206" class="Function">twoᶜ</a><a id="plfa_plfa-part3-Denotational-3143" class="Symbol">;</a> <a id="plfa_plfa-part3-Denotational-3145" href="../Untyped/#plfa_plfa-part2-Untyped-5893" class="Function">ext</a><a id="plfa_plfa-part3-Denotational-3148" class="Symbol">;</a> <a id="plfa_plfa-part3-Denotational-3150" href="../Untyped/#plfa_plfa-part2-Untyped-6207" class="Function">rename</a><a id="plfa_plfa-part3-Denotational-3156" class="Symbol">;</a> <a id="plfa_plfa-part3-Denotational-3158" href="../Untyped/#plfa_plfa-part2-Untyped-6647" class="Function">exts</a><a id="plfa_plfa-part3-Denotational-3162" class="Symbol">;</a> <a id="plfa_plfa-part3-Denotational-3164" href="../Untyped/#plfa_plfa-part2-Untyped-6943" class="Function">subst</a><a id="plfa_plfa-part3-Denotational-3169" class="Symbol">;</a> <a id="plfa_plfa-part3-Denotational-3171" href="../Untyped/#plfa_plfa-part2-Untyped-7359" class="Function">subst-zero</a><a id="plfa_plfa-part3-Denotational-3181" class="Symbol">;</a> <a id="plfa_plfa-part3-Denotational-3183" href="../Untyped/#plfa_plfa-part2-Untyped-7475" class="Function Operator">_[_]</a><a id="plfa_plfa-part3-Denotational-3187" class="Symbol">)</a>
<a id="plfa_plfa-part3-Denotational-3189" class="Keyword">open</a> <a id="plfa_plfa-part3-Denotational-3194" class="Keyword">import</a> <a id="plfa_plfa-part3-Denotational-3201" href="../Substitution/#" class="Module">plfa.part2.Substitution</a> <a id="plfa_plfa-part3-Denotational-3225" class="Keyword">using</a> <a id="plfa_plfa-part3-Denotational-3231" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-3232" href="../Substitution/#plfa_plfa-part2-Substitution-2124" class="Function">Rename</a><a id="plfa_plfa-part3-Denotational-3238" class="Symbol">;</a> <a id="plfa_plfa-part3-Denotational-3240" href="../Substitution/#plfa_plfa-part2-Substitution-1855" class="Postulate">extensionality</a><a id="plfa_plfa-part3-Denotational-3254" class="Symbol">;</a> <a id="plfa_plfa-part3-Denotational-3256" href="../Substitution/#plfa_plfa-part2-Substitution-17386" class="Function">rename-id</a><a id="plfa_plfa-part3-Denotational-3265" class="Symbol">)</a>
</pre><h2 id="values">Values</h2><p>The <code>Value</code> data type represents a finite portion of a function. We think of a value as a finite set of pairs that represent input-output mappings. The <code>Value</code> data type represents the set as a binary tree whose internal nodes are the union operator and whose leaves represent either a single mapping or the empty set.</p><ul><li><p>The ⊥ value provides no information about the computation.</p></li><li><p>A value of the form <code>v ↦ w</code> is a single input-output mapping, from input <code>v</code> to output <code>w</code>.</p></li><li><p>A value of the form <code>v ⊔ w</code> is a function that maps inputs to outputs according to both <code>v</code> and <code>w</code>. Think of it as taking the union of the two sets.</p></li></ul><pre class="Agda"><a id="plfa_plfa-part3-Denotational-3942" class="Keyword">infixr</a> <a id="plfa_plfa-part3-Denotational-3949" class="Number">7</a> <a id="plfa_plfa-part3-Denotational-3951" href="../Denotational/#plfa_plfa-part3-Denotational-4006" class="InductiveConstructor Operator">_↦_</a>
<a id="plfa_plfa-part3-Denotational-3955" class="Keyword">infixl</a> <a id="plfa_plfa-part3-Denotational-3962" class="Number">5</a> <a id="plfa_plfa-part3-Denotational-3964" href="../Denotational/#plfa_plfa-part3-Denotational-4036" class="InductiveConstructor Operator">_⊔_</a>

<a id="plfa_plfa-part3-Denotational-3969" class="Keyword">data</a> <a id="plfa_plfa-part3-Denotational-Value"></a><a id="plfa_plfa-part3-Denotational-3974" href="../Denotational/#plfa_plfa-part3-Denotational-3974" class="Datatype">Value</a> <a id="plfa_plfa-part3-Denotational-3980" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-3982" href="https://agda.github.io/agda-stdlib/v1.3/Agda.Primitive.html#326" class="Primitive">Set</a> <a id="plfa_plfa-part3-Denotational-3986" class="Keyword">where</a>
  <a id="plfa_plfa-part3-Denotational-Value.⊥"></a><a id="plfa_plfa-part3-Denotational-3994" href="../Denotational/#plfa_plfa-part3-Denotational-3994" class="InductiveConstructor">⊥</a> <a id="plfa_plfa-part3-Denotational-3996" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-3998" href="../Denotational/#plfa_plfa-part3-Denotational-3974" class="Datatype">Value</a>
  <a id="plfa_plfa-part3-Denotational-Value._↦_"></a><a id="plfa_plfa-part3-Denotational-4006" href="../Denotational/#plfa_plfa-part3-Denotational-4006" class="InductiveConstructor Operator">_↦_</a> <a id="plfa_plfa-part3-Denotational-4010" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-4012" href="../Denotational/#plfa_plfa-part3-Denotational-3974" class="Datatype">Value</a> <a id="plfa_plfa-part3-Denotational-4018" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-4020" href="../Denotational/#plfa_plfa-part3-Denotational-3974" class="Datatype">Value</a> <a id="plfa_plfa-part3-Denotational-4026" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-4028" href="../Denotational/#plfa_plfa-part3-Denotational-3974" class="Datatype">Value</a>
  <a id="plfa_plfa-part3-Denotational-Value._⊔_"></a><a id="plfa_plfa-part3-Denotational-4036" href="../Denotational/#plfa_plfa-part3-Denotational-4036" class="InductiveConstructor Operator">_⊔_</a> <a id="plfa_plfa-part3-Denotational-4040" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-4042" href="../Denotational/#plfa_plfa-part3-Denotational-3974" class="Datatype">Value</a> <a id="plfa_plfa-part3-Denotational-4048" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-4050" href="../Denotational/#plfa_plfa-part3-Denotational-3974" class="Datatype">Value</a> <a id="plfa_plfa-part3-Denotational-4056" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-4058" href="../Denotational/#plfa_plfa-part3-Denotational-3974" class="Datatype">Value</a>
</pre><p>The <code>⊑</code> relation adapts the familiar notion of subset to the Value data type. This relation plays the key role in enabling self-application. There are two rules that are specific to functions, <code>⊑-fun</code> and <code>⊑-dist</code>, which we discuss below.</p><pre class="Agda"><a id="plfa_plfa-part3-Denotational-4317" class="Keyword">infix</a> <a id="plfa_plfa-part3-Denotational-4323" class="Number">4</a> <a id="plfa_plfa-part3-Denotational-4325" href="../Denotational/#plfa_plfa-part3-Denotational-4335" class="Datatype Operator">_⊑_</a>

<a id="plfa_plfa-part3-Denotational-4330" class="Keyword">data</a> <a id="plfa_plfa-part3-Denotational-_⊑_"></a><a id="plfa_plfa-part3-Denotational-4335" href="../Denotational/#plfa_plfa-part3-Denotational-4335" class="Datatype Operator">_⊑_</a> <a id="plfa_plfa-part3-Denotational-4339" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-4341" href="../Denotational/#plfa_plfa-part3-Denotational-3974" class="Datatype">Value</a> <a id="plfa_plfa-part3-Denotational-4347" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-4349" href="../Denotational/#plfa_plfa-part3-Denotational-3974" class="Datatype">Value</a> <a id="plfa_plfa-part3-Denotational-4355" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-4357" href="https://agda.github.io/agda-stdlib/v1.3/Agda.Primitive.html#326" class="Primitive">Set</a> <a id="plfa_plfa-part3-Denotational-4361" class="Keyword">where</a>

  <a id="plfa_plfa-part3-Denotational-_⊑_.⊑-bot"></a><a id="plfa_plfa-part3-Denotational-4370" href="../Denotational/#plfa_plfa-part3-Denotational-4370" class="InductiveConstructor">⊑-bot</a> <a id="plfa_plfa-part3-Denotational-4376" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-4378" class="Symbol">∀</a> <a id="plfa_plfa-part3-Denotational-4380" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-4381" href="../Denotational/#plfa_plfa-part3-Denotational-4381" class="Bound">v</a><a id="plfa_plfa-part3-Denotational-4382" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-4384" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-4386" href="../Denotational/#plfa_plfa-part3-Denotational-3994" class="InductiveConstructor">⊥</a> <a id="plfa_plfa-part3-Denotational-4388" href="../Denotational/#plfa_plfa-part3-Denotational-4335" class="Datatype Operator">⊑</a> <a id="plfa_plfa-part3-Denotational-4390" href="../Denotational/#plfa_plfa-part3-Denotational-4381" class="Bound">v</a>

  <a id="plfa_plfa-part3-Denotational-_⊑_.⊑-conj-L"></a><a id="plfa_plfa-part3-Denotational-4395" href="../Denotational/#plfa_plfa-part3-Denotational-4395" class="InductiveConstructor">⊑-conj-L</a> <a id="plfa_plfa-part3-Denotational-4404" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-4406" class="Symbol">∀</a> <a id="plfa_plfa-part3-Denotational-4408" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-4409" href="../Denotational/#plfa_plfa-part3-Denotational-4409" class="Bound">u</a> <a id="plfa_plfa-part3-Denotational-4411" href="../Denotational/#plfa_plfa-part3-Denotational-4411" class="Bound">v</a> <a id="plfa_plfa-part3-Denotational-4413" href="../Denotational/#plfa_plfa-part3-Denotational-4413" class="Bound">w</a><a id="plfa_plfa-part3-Denotational-4414" class="Symbol">}</a>
    <a id="plfa_plfa-part3-Denotational-4420" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-4422" href="../Denotational/#plfa_plfa-part3-Denotational-4411" class="Bound">v</a> <a id="plfa_plfa-part3-Denotational-4424" href="../Denotational/#plfa_plfa-part3-Denotational-4335" class="Datatype Operator">⊑</a> <a id="plfa_plfa-part3-Denotational-4426" href="../Denotational/#plfa_plfa-part3-Denotational-4409" class="Bound">u</a>
    <a id="plfa_plfa-part3-Denotational-4432" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-4434" href="../Denotational/#plfa_plfa-part3-Denotational-4413" class="Bound">w</a> <a id="plfa_plfa-part3-Denotational-4436" href="../Denotational/#plfa_plfa-part3-Denotational-4335" class="Datatype Operator">⊑</a> <a id="plfa_plfa-part3-Denotational-4438" href="../Denotational/#plfa_plfa-part3-Denotational-4409" class="Bound">u</a>
      <a id="plfa_plfa-part3-Denotational-4446" class="Comment">-----------</a>
    <a id="plfa_plfa-part3-Denotational-4462" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-4464" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-4465" href="../Denotational/#plfa_plfa-part3-Denotational-4411" class="Bound">v</a> <a id="plfa_plfa-part3-Denotational-4467" href="../Denotational/#plfa_plfa-part3-Denotational-4036" class="InductiveConstructor Operator">⊔</a> <a id="plfa_plfa-part3-Denotational-4469" href="../Denotational/#plfa_plfa-part3-Denotational-4413" class="Bound">w</a><a id="plfa_plfa-part3-Denotational-4470" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-4472" href="../Denotational/#plfa_plfa-part3-Denotational-4335" class="Datatype Operator">⊑</a> <a id="plfa_plfa-part3-Denotational-4474" href="../Denotational/#plfa_plfa-part3-Denotational-4409" class="Bound">u</a>

  <a id="plfa_plfa-part3-Denotational-_⊑_.⊑-conj-R1"></a><a id="plfa_plfa-part3-Denotational-4479" href="../Denotational/#plfa_plfa-part3-Denotational-4479" class="InductiveConstructor">⊑-conj-R1</a> <a id="plfa_plfa-part3-Denotational-4489" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-4491" class="Symbol">∀</a> <a id="plfa_plfa-part3-Denotational-4493" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-4494" href="../Denotational/#plfa_plfa-part3-Denotational-4494" class="Bound">u</a> <a id="plfa_plfa-part3-Denotational-4496" href="../Denotational/#plfa_plfa-part3-Denotational-4496" class="Bound">v</a> <a id="plfa_plfa-part3-Denotational-4498" href="../Denotational/#plfa_plfa-part3-Denotational-4498" class="Bound">w</a><a id="plfa_plfa-part3-Denotational-4499" class="Symbol">}</a>
    <a id="plfa_plfa-part3-Denotational-4505" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-4507" href="../Denotational/#plfa_plfa-part3-Denotational-4494" class="Bound">u</a> <a id="plfa_plfa-part3-Denotational-4509" href="../Denotational/#plfa_plfa-part3-Denotational-4335" class="Datatype Operator">⊑</a> <a id="plfa_plfa-part3-Denotational-4511" href="../Denotational/#plfa_plfa-part3-Denotational-4496" class="Bound">v</a>
      <a id="plfa_plfa-part3-Denotational-4519" class="Comment">-----------</a>
    <a id="plfa_plfa-part3-Denotational-4535" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-4537" href="../Denotational/#plfa_plfa-part3-Denotational-4494" class="Bound">u</a> <a id="plfa_plfa-part3-Denotational-4539" href="../Denotational/#plfa_plfa-part3-Denotational-4335" class="Datatype Operator">⊑</a> <a id="plfa_plfa-part3-Denotational-4541" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-4542" href="../Denotational/#plfa_plfa-part3-Denotational-4496" class="Bound">v</a> <a id="plfa_plfa-part3-Denotational-4544" href="../Denotational/#plfa_plfa-part3-Denotational-4036" class="InductiveConstructor Operator">⊔</a> <a id="plfa_plfa-part3-Denotational-4546" href="../Denotational/#plfa_plfa-part3-Denotational-4498" class="Bound">w</a><a id="plfa_plfa-part3-Denotational-4547" class="Symbol">)</a>

  <a id="plfa_plfa-part3-Denotational-_⊑_.⊑-conj-R2"></a><a id="plfa_plfa-part3-Denotational-4552" href="../Denotational/#plfa_plfa-part3-Denotational-4552" class="InductiveConstructor">⊑-conj-R2</a> <a id="plfa_plfa-part3-Denotational-4562" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-4564" class="Symbol">∀</a> <a id="plfa_plfa-part3-Denotational-4566" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-4567" href="../Denotational/#plfa_plfa-part3-Denotational-4567" class="Bound">u</a> <a id="plfa_plfa-part3-Denotational-4569" href="../Denotational/#plfa_plfa-part3-Denotational-4569" class="Bound">v</a> <a id="plfa_plfa-part3-Denotational-4571" href="../Denotational/#plfa_plfa-part3-Denotational-4571" class="Bound">w</a><a id="plfa_plfa-part3-Denotational-4572" class="Symbol">}</a>
    <a id="plfa_plfa-part3-Denotational-4578" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-4580" href="../Denotational/#plfa_plfa-part3-Denotational-4567" class="Bound">u</a> <a id="plfa_plfa-part3-Denotational-4582" href="../Denotational/#plfa_plfa-part3-Denotational-4335" class="Datatype Operator">⊑</a> <a id="plfa_plfa-part3-Denotational-4584" href="../Denotational/#plfa_plfa-part3-Denotational-4571" class="Bound">w</a>
      <a id="plfa_plfa-part3-Denotational-4592" class="Comment">-----------</a>
    <a id="plfa_plfa-part3-Denotational-4608" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-4610" href="../Denotational/#plfa_plfa-part3-Denotational-4567" class="Bound">u</a> <a id="plfa_plfa-part3-Denotational-4612" href="../Denotational/#plfa_plfa-part3-Denotational-4335" class="Datatype Operator">⊑</a> <a id="plfa_plfa-part3-Denotational-4614" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-4615" href="../Denotational/#plfa_plfa-part3-Denotational-4569" class="Bound">v</a> <a id="plfa_plfa-part3-Denotational-4617" href="../Denotational/#plfa_plfa-part3-Denotational-4036" class="InductiveConstructor Operator">⊔</a> <a id="plfa_plfa-part3-Denotational-4619" href="../Denotational/#plfa_plfa-part3-Denotational-4571" class="Bound">w</a><a id="plfa_plfa-part3-Denotational-4620" class="Symbol">)</a>

  <a id="plfa_plfa-part3-Denotational-_⊑_.⊑-trans"></a><a id="plfa_plfa-part3-Denotational-4625" href="../Denotational/#plfa_plfa-part3-Denotational-4625" class="InductiveConstructor">⊑-trans</a> <a id="plfa_plfa-part3-Denotational-4633" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-4635" class="Symbol">∀</a> <a id="plfa_plfa-part3-Denotational-4637" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-4638" href="../Denotational/#plfa_plfa-part3-Denotational-4638" class="Bound">u</a> <a id="plfa_plfa-part3-Denotational-4640" href="../Denotational/#plfa_plfa-part3-Denotational-4640" class="Bound">v</a> <a id="plfa_plfa-part3-Denotational-4642" href="../Denotational/#plfa_plfa-part3-Denotational-4642" class="Bound">w</a><a id="plfa_plfa-part3-Denotational-4643" class="Symbol">}</a>
    <a id="plfa_plfa-part3-Denotational-4649" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-4651" href="../Denotational/#plfa_plfa-part3-Denotational-4638" class="Bound">u</a> <a id="plfa_plfa-part3-Denotational-4653" href="../Denotational/#plfa_plfa-part3-Denotational-4335" class="Datatype Operator">⊑</a> <a id="plfa_plfa-part3-Denotational-4655" href="../Denotational/#plfa_plfa-part3-Denotational-4640" class="Bound">v</a>
    <a id="plfa_plfa-part3-Denotational-4661" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-4663" href="../Denotational/#plfa_plfa-part3-Denotational-4640" class="Bound">v</a> <a id="plfa_plfa-part3-Denotational-4665" href="../Denotational/#plfa_plfa-part3-Denotational-4335" class="Datatype Operator">⊑</a> <a id="plfa_plfa-part3-Denotational-4667" href="../Denotational/#plfa_plfa-part3-Denotational-4642" class="Bound">w</a>
      <a id="plfa_plfa-part3-Denotational-4675" class="Comment">-----</a>
    <a id="plfa_plfa-part3-Denotational-4685" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-4687" href="../Denotational/#plfa_plfa-part3-Denotational-4638" class="Bound">u</a> <a id="plfa_plfa-part3-Denotational-4689" href="../Denotational/#plfa_plfa-part3-Denotational-4335" class="Datatype Operator">⊑</a> <a id="plfa_plfa-part3-Denotational-4691" href="../Denotational/#plfa_plfa-part3-Denotational-4642" class="Bound">w</a>

  <a id="plfa_plfa-part3-Denotational-_⊑_.⊑-fun"></a><a id="plfa_plfa-part3-Denotational-4696" href="../Denotational/#plfa_plfa-part3-Denotational-4696" class="InductiveConstructor">⊑-fun</a> <a id="plfa_plfa-part3-Denotational-4702" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-4704" class="Symbol">∀</a> <a id="plfa_plfa-part3-Denotational-4706" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-4707" href="../Denotational/#plfa_plfa-part3-Denotational-4707" class="Bound">v</a> <a id="plfa_plfa-part3-Denotational-4709" href="../Denotational/#plfa_plfa-part3-Denotational-4709" class="Bound">w</a> <a id="plfa_plfa-part3-Denotational-4711" href="../Denotational/#plfa_plfa-part3-Denotational-4711" class="Bound">v′</a> <a id="plfa_plfa-part3-Denotational-4714" href="../Denotational/#plfa_plfa-part3-Denotational-4714" class="Bound">w′</a><a id="plfa_plfa-part3-Denotational-4716" class="Symbol">}</a>
    <a id="plfa_plfa-part3-Denotational-4722" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-4724" href="../Denotational/#plfa_plfa-part3-Denotational-4711" class="Bound">v′</a> <a id="plfa_plfa-part3-Denotational-4727" href="../Denotational/#plfa_plfa-part3-Denotational-4335" class="Datatype Operator">⊑</a> <a id="plfa_plfa-part3-Denotational-4729" href="../Denotational/#plfa_plfa-part3-Denotational-4707" class="Bound">v</a>
    <a id="plfa_plfa-part3-Denotational-4735" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-4737" href="../Denotational/#plfa_plfa-part3-Denotational-4709" class="Bound">w</a> <a id="plfa_plfa-part3-Denotational-4739" href="../Denotational/#plfa_plfa-part3-Denotational-4335" class="Datatype Operator">⊑</a> <a id="plfa_plfa-part3-Denotational-4741" href="../Denotational/#plfa_plfa-part3-Denotational-4714" class="Bound">w′</a>
      <a id="plfa_plfa-part3-Denotational-4750" class="Comment">-------------------</a>
    <a id="plfa_plfa-part3-Denotational-4774" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-4776" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-4777" href="../Denotational/#plfa_plfa-part3-Denotational-4707" class="Bound">v</a> <a id="plfa_plfa-part3-Denotational-4779" href="../Denotational/#plfa_plfa-part3-Denotational-4006" class="InductiveConstructor Operator">↦</a> <a id="plfa_plfa-part3-Denotational-4781" href="../Denotational/#plfa_plfa-part3-Denotational-4709" class="Bound">w</a><a id="plfa_plfa-part3-Denotational-4782" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-4784" href="../Denotational/#plfa_plfa-part3-Denotational-4335" class="Datatype Operator">⊑</a> <a id="plfa_plfa-part3-Denotational-4786" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-4787" href="../Denotational/#plfa_plfa-part3-Denotational-4711" class="Bound">v′</a> <a id="plfa_plfa-part3-Denotational-4790" href="../Denotational/#plfa_plfa-part3-Denotational-4006" class="InductiveConstructor Operator">↦</a> <a id="plfa_plfa-part3-Denotational-4792" href="../Denotational/#plfa_plfa-part3-Denotational-4714" class="Bound">w′</a><a id="plfa_plfa-part3-Denotational-4794" class="Symbol">)</a>

  <a id="plfa_plfa-part3-Denotational-_⊑_.⊑-dist"></a><a id="plfa_plfa-part3-Denotational-4799" href="../Denotational/#plfa_plfa-part3-Denotational-4799" class="InductiveConstructor">⊑-dist</a> <a id="plfa_plfa-part3-Denotational-4806" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-4808" class="Symbol">∀{</a><a id="plfa_plfa-part3-Denotational-4810" href="../Denotational/#plfa_plfa-part3-Denotational-4810" class="Bound">v</a> <a id="plfa_plfa-part3-Denotational-4812" href="../Denotational/#plfa_plfa-part3-Denotational-4812" class="Bound">w</a> <a id="plfa_plfa-part3-Denotational-4814" href="../Denotational/#plfa_plfa-part3-Denotational-4814" class="Bound">w′</a><a id="plfa_plfa-part3-Denotational-4816" class="Symbol">}</a>
      <a id="plfa_plfa-part3-Denotational-4824" class="Comment">---------------------------------</a>
    <a id="plfa_plfa-part3-Denotational-4862" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-4864" href="../Denotational/#plfa_plfa-part3-Denotational-4810" class="Bound">v</a> <a id="plfa_plfa-part3-Denotational-4866" href="../Denotational/#plfa_plfa-part3-Denotational-4006" class="InductiveConstructor Operator">↦</a> <a id="plfa_plfa-part3-Denotational-4868" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-4869" href="../Denotational/#plfa_plfa-part3-Denotational-4812" class="Bound">w</a> <a id="plfa_plfa-part3-Denotational-4871" href="../Denotational/#plfa_plfa-part3-Denotational-4036" class="InductiveConstructor Operator">⊔</a> <a id="plfa_plfa-part3-Denotational-4873" href="../Denotational/#plfa_plfa-part3-Denotational-4814" class="Bound">w′</a><a id="plfa_plfa-part3-Denotational-4875" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-4877" href="../Denotational/#plfa_plfa-part3-Denotational-4335" class="Datatype Operator">⊑</a> <a id="plfa_plfa-part3-Denotational-4879" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-4880" href="../Denotational/#plfa_plfa-part3-Denotational-4810" class="Bound">v</a> <a id="plfa_plfa-part3-Denotational-4882" href="../Denotational/#plfa_plfa-part3-Denotational-4006" class="InductiveConstructor Operator">↦</a> <a id="plfa_plfa-part3-Denotational-4884" href="../Denotational/#plfa_plfa-part3-Denotational-4812" class="Bound">w</a><a id="plfa_plfa-part3-Denotational-4885" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-4887" href="../Denotational/#plfa_plfa-part3-Denotational-4036" class="InductiveConstructor Operator">⊔</a> <a id="plfa_plfa-part3-Denotational-4889" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-4890" href="../Denotational/#plfa_plfa-part3-Denotational-4810" class="Bound">v</a> <a id="plfa_plfa-part3-Denotational-4892" href="../Denotational/#plfa_plfa-part3-Denotational-4006" class="InductiveConstructor Operator">↦</a> <a id="plfa_plfa-part3-Denotational-4894" href="../Denotational/#plfa_plfa-part3-Denotational-4814" class="Bound">w′</a><a id="plfa_plfa-part3-Denotational-4896" class="Symbol">)</a>
</pre><p>The first five rules are straightforward. The rule <code>⊑-fun</code> captures when it is OK to match a higher-order argument <code>v′ ↦ w′</code> to a table entry whose input is <code>v ↦ w</code>. Considering a call to the higher-order argument. It is OK to pass a larger argument than expected, so <code>v</code> can be larger than <code>v′</code>. Also, it is OK to disregard some of the output, so <code>w</code> can be smaller than <code>w′</code>. The rule <code>⊑-dist</code> says that if you have two entries for the same input, then you can combine them into a single entry and joins the two outputs.</p><p>The <code>⊑</code> relation is reflexive.</p><pre class="Agda"><a id="plfa_plfa-part3-Denotational-⊑-refl"></a><a id="plfa_plfa-part3-Denotational-5469" href="../Denotational/#plfa_plfa-part3-Denotational-5469" class="Function">⊑-refl</a> <a id="plfa_plfa-part3-Denotational-5476" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-5478" class="Symbol">∀</a> <a id="plfa_plfa-part3-Denotational-5480" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-5481" href="../Denotational/#plfa_plfa-part3-Denotational-5481" class="Bound">v</a><a id="plfa_plfa-part3-Denotational-5482" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-5484" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-5486" href="../Denotational/#plfa_plfa-part3-Denotational-5481" class="Bound">v</a> <a id="plfa_plfa-part3-Denotational-5488" href="../Denotational/#plfa_plfa-part3-Denotational-4335" class="Datatype Operator">⊑</a> <a id="plfa_plfa-part3-Denotational-5490" href="../Denotational/#plfa_plfa-part3-Denotational-5481" class="Bound">v</a>
<a id="plfa_plfa-part3-Denotational-5492" href="../Denotational/#plfa_plfa-part3-Denotational-5469" class="Function">⊑-refl</a> <a id="plfa_plfa-part3-Denotational-5499" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-5500" href="../Denotational/#plfa_plfa-part3-Denotational-3994" class="InductiveConstructor">⊥</a><a id="plfa_plfa-part3-Denotational-5501" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-5503" class="Symbol">=</a> <a id="plfa_plfa-part3-Denotational-5505" href="../Denotational/#plfa_plfa-part3-Denotational-4370" class="InductiveConstructor">⊑-bot</a>
<a id="plfa_plfa-part3-Denotational-5511" href="../Denotational/#plfa_plfa-part3-Denotational-5469" class="Function">⊑-refl</a> <a id="plfa_plfa-part3-Denotational-5518" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-5519" href="../Denotational/#plfa_plfa-part3-Denotational-5519" class="Bound">v</a> <a id="plfa_plfa-part3-Denotational-5521" href="../Denotational/#plfa_plfa-part3-Denotational-4006" class="InductiveConstructor Operator">↦</a> <a id="plfa_plfa-part3-Denotational-5523" href="../Denotational/#plfa_plfa-part3-Denotational-5523" class="Bound">v′</a><a id="plfa_plfa-part3-Denotational-5525" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-5527" class="Symbol">=</a> <a id="plfa_plfa-part3-Denotational-5529" href="../Denotational/#plfa_plfa-part3-Denotational-4696" class="InductiveConstructor">⊑-fun</a> <a id="plfa_plfa-part3-Denotational-5535" href="../Denotational/#plfa_plfa-part3-Denotational-5469" class="Function">⊑-refl</a> <a id="plfa_plfa-part3-Denotational-5542" href="../Denotational/#plfa_plfa-part3-Denotational-5469" class="Function">⊑-refl</a>
<a id="plfa_plfa-part3-Denotational-5549" href="../Denotational/#plfa_plfa-part3-Denotational-5469" class="Function">⊑-refl</a> <a id="plfa_plfa-part3-Denotational-5556" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-5557" href="../Denotational/#plfa_plfa-part3-Denotational-5557" class="Bound">v₁</a> <a id="plfa_plfa-part3-Denotational-5560" href="../Denotational/#plfa_plfa-part3-Denotational-4036" class="InductiveConstructor Operator">⊔</a> <a id="plfa_plfa-part3-Denotational-5562" href="../Denotational/#plfa_plfa-part3-Denotational-5562" class="Bound">v₂</a><a id="plfa_plfa-part3-Denotational-5564" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-5566" class="Symbol">=</a> <a id="plfa_plfa-part3-Denotational-5568" href="../Denotational/#plfa_plfa-part3-Denotational-4395" class="InductiveConstructor">⊑-conj-L</a> <a id="plfa_plfa-part3-Denotational-5577" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-5578" href="../Denotational/#plfa_plfa-part3-Denotational-4479" class="InductiveConstructor">⊑-conj-R1</a> <a id="plfa_plfa-part3-Denotational-5588" href="../Denotational/#plfa_plfa-part3-Denotational-5469" class="Function">⊑-refl</a><a id="plfa_plfa-part3-Denotational-5594" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-5596" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-5597" href="../Denotational/#plfa_plfa-part3-Denotational-4552" class="InductiveConstructor">⊑-conj-R2</a> <a id="plfa_plfa-part3-Denotational-5607" href="../Denotational/#plfa_plfa-part3-Denotational-5469" class="Function">⊑-refl</a><a id="plfa_plfa-part3-Denotational-5613" class="Symbol">)</a>
</pre><p>The <code>⊔</code> operation is monotonic with respect to <code>⊑</code>, that is, given two larger values it produces a larger value.</p><pre class="Agda"><a id="plfa_plfa-part3-Denotational-⊔⊑⊔"></a><a id="plfa_plfa-part3-Denotational-5742" href="../Denotational/#plfa_plfa-part3-Denotational-5742" class="Function">⊔⊑⊔</a> <a id="plfa_plfa-part3-Denotational-5746" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-5748" class="Symbol">∀</a> <a id="plfa_plfa-part3-Denotational-5750" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-5751" href="../Denotational/#plfa_plfa-part3-Denotational-5751" class="Bound">v</a> <a id="plfa_plfa-part3-Denotational-5753" href="../Denotational/#plfa_plfa-part3-Denotational-5753" class="Bound">w</a> <a id="plfa_plfa-part3-Denotational-5755" href="../Denotational/#plfa_plfa-part3-Denotational-5755" class="Bound">v′</a> <a id="plfa_plfa-part3-Denotational-5758" href="../Denotational/#plfa_plfa-part3-Denotational-5758" class="Bound">w′</a><a id="plfa_plfa-part3-Denotational-5760" class="Symbol">}</a>
  <a id="plfa_plfa-part3-Denotational-5764" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-5766" href="../Denotational/#plfa_plfa-part3-Denotational-5751" class="Bound">v</a> <a id="plfa_plfa-part3-Denotational-5768" href="../Denotational/#plfa_plfa-part3-Denotational-4335" class="Datatype Operator">⊑</a> <a id="plfa_plfa-part3-Denotational-5770" href="../Denotational/#plfa_plfa-part3-Denotational-5755" class="Bound">v′</a>  <a id="plfa_plfa-part3-Denotational-5774" class="Symbol">→</a>  <a id="plfa_plfa-part3-Denotational-5777" href="../Denotational/#plfa_plfa-part3-Denotational-5753" class="Bound">w</a> <a id="plfa_plfa-part3-Denotational-5779" href="../Denotational/#plfa_plfa-part3-Denotational-4335" class="Datatype Operator">⊑</a> <a id="plfa_plfa-part3-Denotational-5781" href="../Denotational/#plfa_plfa-part3-Denotational-5758" class="Bound">w′</a>
    <a id="plfa_plfa-part3-Denotational-5788" class="Comment">-----------------------</a>
  <a id="plfa_plfa-part3-Denotational-5814" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-5816" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-5817" href="../Denotational/#plfa_plfa-part3-Denotational-5751" class="Bound">v</a> <a id="plfa_plfa-part3-Denotational-5819" href="../Denotational/#plfa_plfa-part3-Denotational-4036" class="InductiveConstructor Operator">⊔</a> <a id="plfa_plfa-part3-Denotational-5821" href="../Denotational/#plfa_plfa-part3-Denotational-5753" class="Bound">w</a><a id="plfa_plfa-part3-Denotational-5822" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-5824" href="../Denotational/#plfa_plfa-part3-Denotational-4335" class="Datatype Operator">⊑</a> <a id="plfa_plfa-part3-Denotational-5826" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-5827" href="../Denotational/#plfa_plfa-part3-Denotational-5755" class="Bound">v′</a> <a id="plfa_plfa-part3-Denotational-5830" href="../Denotational/#plfa_plfa-part3-Denotational-4036" class="InductiveConstructor Operator">⊔</a> <a id="plfa_plfa-part3-Denotational-5832" href="../Denotational/#plfa_plfa-part3-Denotational-5758" class="Bound">w′</a><a id="plfa_plfa-part3-Denotational-5834" class="Symbol">)</a>
<a id="plfa_plfa-part3-Denotational-5836" href="../Denotational/#plfa_plfa-part3-Denotational-5742" class="Function">⊔⊑⊔</a> <a id="plfa_plfa-part3-Denotational-5840" href="../Denotational/#plfa_plfa-part3-Denotational-5840" class="Bound">d₁</a> <a id="plfa_plfa-part3-Denotational-5843" href="../Denotational/#plfa_plfa-part3-Denotational-5843" class="Bound">d₂</a> <a id="plfa_plfa-part3-Denotational-5846" class="Symbol">=</a> <a id="plfa_plfa-part3-Denotational-5848" href="../Denotational/#plfa_plfa-part3-Denotational-4395" class="InductiveConstructor">⊑-conj-L</a> <a id="plfa_plfa-part3-Denotational-5857" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-5858" href="../Denotational/#plfa_plfa-part3-Denotational-4479" class="InductiveConstructor">⊑-conj-R1</a> <a id="plfa_plfa-part3-Denotational-5868" href="../Denotational/#plfa_plfa-part3-Denotational-5840" class="Bound">d₁</a><a id="plfa_plfa-part3-Denotational-5870" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-5872" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-5873" href="../Denotational/#plfa_plfa-part3-Denotational-4552" class="InductiveConstructor">⊑-conj-R2</a> <a id="plfa_plfa-part3-Denotational-5883" href="../Denotational/#plfa_plfa-part3-Denotational-5843" class="Bound">d₂</a><a id="plfa_plfa-part3-Denotational-5885" class="Symbol">)</a>
</pre><p>The <code>⊑-dist</code> rule can be used to combine two entries even when the input values are not identical. One can first combine the two inputs using ⊔ and then apply the <code>⊑-dist</code> rule to obtain the following property.</p><pre class="Agda"><a id="plfa_plfa-part3-Denotational-⊔↦⊔-dist"></a><a id="plfa_plfa-part3-Denotational-6112" href="../Denotational/#plfa_plfa-part3-Denotational-6112" class="Function">⊔↦⊔-dist</a> <a id="plfa_plfa-part3-Denotational-6121" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-6123" class="Symbol">∀{</a><a id="plfa_plfa-part3-Denotational-6125" href="../Denotational/#plfa_plfa-part3-Denotational-6125" class="Bound">v</a> <a id="plfa_plfa-part3-Denotational-6127" href="../Denotational/#plfa_plfa-part3-Denotational-6127" class="Bound">v′</a> <a id="plfa_plfa-part3-Denotational-6130" href="../Denotational/#plfa_plfa-part3-Denotational-6130" class="Bound">w</a> <a id="plfa_plfa-part3-Denotational-6132" href="../Denotational/#plfa_plfa-part3-Denotational-6132" class="Bound">w′</a> <a id="plfa_plfa-part3-Denotational-6135" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-6137" href="../Denotational/#plfa_plfa-part3-Denotational-3974" class="Datatype">Value</a><a id="plfa_plfa-part3-Denotational-6142" class="Symbol">}</a>
  <a id="plfa_plfa-part3-Denotational-6146" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-6148" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-6149" href="../Denotational/#plfa_plfa-part3-Denotational-6125" class="Bound">v</a> <a id="plfa_plfa-part3-Denotational-6151" href="../Denotational/#plfa_plfa-part3-Denotational-4036" class="InductiveConstructor Operator">⊔</a> <a id="plfa_plfa-part3-Denotational-6153" href="../Denotational/#plfa_plfa-part3-Denotational-6127" class="Bound">v′</a><a id="plfa_plfa-part3-Denotational-6155" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-6157" href="../Denotational/#plfa_plfa-part3-Denotational-4006" class="InductiveConstructor Operator">↦</a> <a id="plfa_plfa-part3-Denotational-6159" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-6160" href="../Denotational/#plfa_plfa-part3-Denotational-6130" class="Bound">w</a> <a id="plfa_plfa-part3-Denotational-6162" href="../Denotational/#plfa_plfa-part3-Denotational-4036" class="InductiveConstructor Operator">⊔</a> <a id="plfa_plfa-part3-Denotational-6164" href="../Denotational/#plfa_plfa-part3-Denotational-6132" class="Bound">w′</a><a id="plfa_plfa-part3-Denotational-6166" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-6168" href="../Denotational/#plfa_plfa-part3-Denotational-4335" class="Datatype Operator">⊑</a> <a id="plfa_plfa-part3-Denotational-6170" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-6171" href="../Denotational/#plfa_plfa-part3-Denotational-6125" class="Bound">v</a> <a id="plfa_plfa-part3-Denotational-6173" href="../Denotational/#plfa_plfa-part3-Denotational-4006" class="InductiveConstructor Operator">↦</a> <a id="plfa_plfa-part3-Denotational-6175" href="../Denotational/#plfa_plfa-part3-Denotational-6130" class="Bound">w</a><a id="plfa_plfa-part3-Denotational-6176" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-6178" href="../Denotational/#plfa_plfa-part3-Denotational-4036" class="InductiveConstructor Operator">⊔</a> <a id="plfa_plfa-part3-Denotational-6180" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-6181" href="../Denotational/#plfa_plfa-part3-Denotational-6127" class="Bound">v′</a> <a id="plfa_plfa-part3-Denotational-6184" href="../Denotational/#plfa_plfa-part3-Denotational-4006" class="InductiveConstructor Operator">↦</a> <a id="plfa_plfa-part3-Denotational-6186" href="../Denotational/#plfa_plfa-part3-Denotational-6132" class="Bound">w′</a><a id="plfa_plfa-part3-Denotational-6188" class="Symbol">)</a>
<a id="plfa_plfa-part3-Denotational-6190" href="../Denotational/#plfa_plfa-part3-Denotational-6112" class="Function">⊔↦⊔-dist</a> <a id="plfa_plfa-part3-Denotational-6199" class="Symbol">=</a> <a id="plfa_plfa-part3-Denotational-6201" href="../Denotational/#plfa_plfa-part3-Denotational-4625" class="InductiveConstructor">⊑-trans</a> <a id="plfa_plfa-part3-Denotational-6209" href="../Denotational/#plfa_plfa-part3-Denotational-4799" class="InductiveConstructor">⊑-dist</a> <a id="plfa_plfa-part3-Denotational-6216" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-6217" href="../Denotational/#plfa_plfa-part3-Denotational-5742" class="Function">⊔⊑⊔</a> <a id="plfa_plfa-part3-Denotational-6221" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-6222" href="../Denotational/#plfa_plfa-part3-Denotational-4696" class="InductiveConstructor">⊑-fun</a> <a id="plfa_plfa-part3-Denotational-6228" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-6229" href="../Denotational/#plfa_plfa-part3-Denotational-4479" class="InductiveConstructor">⊑-conj-R1</a> <a id="plfa_plfa-part3-Denotational-6239" href="../Denotational/#plfa_plfa-part3-Denotational-5469" class="Function">⊑-refl</a><a id="plfa_plfa-part3-Denotational-6245" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-6247" href="../Denotational/#plfa_plfa-part3-Denotational-5469" class="Function">⊑-refl</a><a id="plfa_plfa-part3-Denotational-6253" class="Symbol">)</a>
                            <a id="plfa_plfa-part3-Denotational-6283" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-6284" href="../Denotational/#plfa_plfa-part3-Denotational-4696" class="InductiveConstructor">⊑-fun</a> <a id="plfa_plfa-part3-Denotational-6290" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-6291" href="../Denotational/#plfa_plfa-part3-Denotational-4552" class="InductiveConstructor">⊑-conj-R2</a> <a id="plfa_plfa-part3-Denotational-6301" href="../Denotational/#plfa_plfa-part3-Denotational-5469" class="Function">⊑-refl</a><a id="plfa_plfa-part3-Denotational-6307" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-6309" href="../Denotational/#plfa_plfa-part3-Denotational-5469" class="Function">⊑-refl</a><a id="plfa_plfa-part3-Denotational-6315" class="Symbol">))</a>
</pre><p>If the join <code>u ⊔ v</code> is less than another value <code>w</code>, then both <code>u</code> and <code>v</code> are less than <code>w</code>.</p><pre class="Agda"><a id="plfa_plfa-part3-Denotational-⊔⊑-invL"></a><a id="plfa_plfa-part3-Denotational-6513" href="../Denotational/#plfa_plfa-part3-Denotational-6513" class="Function">⊔⊑-invL</a> <a id="plfa_plfa-part3-Denotational-6521" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-6523" class="Symbol">∀{</a><a id="plfa_plfa-part3-Denotational-6525" href="../Denotational/#plfa_plfa-part3-Denotational-6525" class="Bound">u</a> <a id="plfa_plfa-part3-Denotational-6527" href="../Denotational/#plfa_plfa-part3-Denotational-6527" class="Bound">v</a> <a id="plfa_plfa-part3-Denotational-6529" href="../Denotational/#plfa_plfa-part3-Denotational-6529" class="Bound">w</a> <a id="plfa_plfa-part3-Denotational-6531" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-6533" href="../Denotational/#plfa_plfa-part3-Denotational-3974" class="Datatype">Value</a><a id="plfa_plfa-part3-Denotational-6538" class="Symbol">}</a>
  <a id="plfa_plfa-part3-Denotational-6542" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-6544" href="../Denotational/#plfa_plfa-part3-Denotational-6525" class="Bound">u</a> <a id="plfa_plfa-part3-Denotational-6546" href="../Denotational/#plfa_plfa-part3-Denotational-4036" class="InductiveConstructor Operator">⊔</a> <a id="plfa_plfa-part3-Denotational-6548" href="../Denotational/#plfa_plfa-part3-Denotational-6527" class="Bound">v</a> <a id="plfa_plfa-part3-Denotational-6550" href="../Denotational/#plfa_plfa-part3-Denotational-4335" class="Datatype Operator">⊑</a> <a id="plfa_plfa-part3-Denotational-6552" href="../Denotational/#plfa_plfa-part3-Denotational-6529" class="Bound">w</a>
    <a id="plfa_plfa-part3-Denotational-6558" class="Comment">---------</a>
  <a id="plfa_plfa-part3-Denotational-6570" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-6572" href="../Denotational/#plfa_plfa-part3-Denotational-6525" class="Bound">u</a> <a id="plfa_plfa-part3-Denotational-6574" href="../Denotational/#plfa_plfa-part3-Denotational-4335" class="Datatype Operator">⊑</a> <a id="plfa_plfa-part3-Denotational-6576" href="../Denotational/#plfa_plfa-part3-Denotational-6529" class="Bound">w</a>
<a id="plfa_plfa-part3-Denotational-6578" href="../Denotational/#plfa_plfa-part3-Denotational-6513" class="Function">⊔⊑-invL</a> <a id="plfa_plfa-part3-Denotational-6586" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-6587" href="../Denotational/#plfa_plfa-part3-Denotational-4395" class="InductiveConstructor">⊑-conj-L</a> <a id="plfa_plfa-part3-Denotational-6596" href="../Denotational/#plfa_plfa-part3-Denotational-6596" class="Bound">lt1</a> <a id="plfa_plfa-part3-Denotational-6600" href="../Denotational/#plfa_plfa-part3-Denotational-6600" class="Bound">lt2</a><a id="plfa_plfa-part3-Denotational-6603" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-6605" class="Symbol">=</a> <a id="plfa_plfa-part3-Denotational-6607" href="../Denotational/#plfa_plfa-part3-Denotational-6596" class="Bound">lt1</a>
<a id="plfa_plfa-part3-Denotational-6611" href="../Denotational/#plfa_plfa-part3-Denotational-6513" class="Function">⊔⊑-invL</a> <a id="plfa_plfa-part3-Denotational-6619" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-6620" href="../Denotational/#plfa_plfa-part3-Denotational-4479" class="InductiveConstructor">⊑-conj-R1</a> <a id="plfa_plfa-part3-Denotational-6630" href="../Denotational/#plfa_plfa-part3-Denotational-6630" class="Bound">lt</a><a id="plfa_plfa-part3-Denotational-6632" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-6634" class="Symbol">=</a> <a id="plfa_plfa-part3-Denotational-6636" href="../Denotational/#plfa_plfa-part3-Denotational-4479" class="InductiveConstructor">⊑-conj-R1</a> <a id="plfa_plfa-part3-Denotational-6646" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-6647" href="../Denotational/#plfa_plfa-part3-Denotational-6513" class="Function">⊔⊑-invL</a> <a id="plfa_plfa-part3-Denotational-6655" href="../Denotational/#plfa_plfa-part3-Denotational-6630" class="Bound">lt</a><a id="plfa_plfa-part3-Denotational-6657" class="Symbol">)</a>
<a id="plfa_plfa-part3-Denotational-6659" href="../Denotational/#plfa_plfa-part3-Denotational-6513" class="Function">⊔⊑-invL</a> <a id="plfa_plfa-part3-Denotational-6667" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-6668" href="../Denotational/#plfa_plfa-part3-Denotational-4552" class="InductiveConstructor">⊑-conj-R2</a> <a id="plfa_plfa-part3-Denotational-6678" href="../Denotational/#plfa_plfa-part3-Denotational-6678" class="Bound">lt</a><a id="plfa_plfa-part3-Denotational-6680" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-6682" class="Symbol">=</a> <a id="plfa_plfa-part3-Denotational-6684" href="../Denotational/#plfa_plfa-part3-Denotational-4552" class="InductiveConstructor">⊑-conj-R2</a> <a id="plfa_plfa-part3-Denotational-6694" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-6695" href="../Denotational/#plfa_plfa-part3-Denotational-6513" class="Function">⊔⊑-invL</a> <a id="plfa_plfa-part3-Denotational-6703" href="../Denotational/#plfa_plfa-part3-Denotational-6678" class="Bound">lt</a><a id="plfa_plfa-part3-Denotational-6705" class="Symbol">)</a>
<a id="plfa_plfa-part3-Denotational-6707" href="../Denotational/#plfa_plfa-part3-Denotational-6513" class="Function">⊔⊑-invL</a> <a id="plfa_plfa-part3-Denotational-6715" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-6716" href="../Denotational/#plfa_plfa-part3-Denotational-4625" class="InductiveConstructor">⊑-trans</a> <a id="plfa_plfa-part3-Denotational-6724" href="../Denotational/#plfa_plfa-part3-Denotational-6724" class="Bound">lt1</a> <a id="plfa_plfa-part3-Denotational-6728" href="../Denotational/#plfa_plfa-part3-Denotational-6728" class="Bound">lt2</a><a id="plfa_plfa-part3-Denotational-6731" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-6733" class="Symbol">=</a> <a id="plfa_plfa-part3-Denotational-6735" href="../Denotational/#plfa_plfa-part3-Denotational-4625" class="InductiveConstructor">⊑-trans</a> <a id="plfa_plfa-part3-Denotational-6743" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-6744" href="../Denotational/#plfa_plfa-part3-Denotational-6513" class="Function">⊔⊑-invL</a> <a id="plfa_plfa-part3-Denotational-6752" href="../Denotational/#plfa_plfa-part3-Denotational-6724" class="Bound">lt1</a><a id="plfa_plfa-part3-Denotational-6755" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-6757" href="../Denotational/#plfa_plfa-part3-Denotational-6728" class="Bound">lt2</a>

<a id="plfa_plfa-part3-Denotational-⊔⊑-invR"></a><a id="plfa_plfa-part3-Denotational-6762" href="../Denotational/#plfa_plfa-part3-Denotational-6762" class="Function">⊔⊑-invR</a> <a id="plfa_plfa-part3-Denotational-6770" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-6772" class="Symbol">∀{</a><a id="plfa_plfa-part3-Denotational-6774" href="../Denotational/#plfa_plfa-part3-Denotational-6774" class="Bound">u</a> <a id="plfa_plfa-part3-Denotational-6776" href="../Denotational/#plfa_plfa-part3-Denotational-6776" class="Bound">v</a> <a id="plfa_plfa-part3-Denotational-6778" href="../Denotational/#plfa_plfa-part3-Denotational-6778" class="Bound">w</a> <a id="plfa_plfa-part3-Denotational-6780" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-6782" href="../Denotational/#plfa_plfa-part3-Denotational-3974" class="Datatype">Value</a><a id="plfa_plfa-part3-Denotational-6787" class="Symbol">}</a>
  <a id="plfa_plfa-part3-Denotational-6791" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-6793" href="../Denotational/#plfa_plfa-part3-Denotational-6774" class="Bound">u</a> <a id="plfa_plfa-part3-Denotational-6795" href="../Denotational/#plfa_plfa-part3-Denotational-4036" class="InductiveConstructor Operator">⊔</a> <a id="plfa_plfa-part3-Denotational-6797" href="../Denotational/#plfa_plfa-part3-Denotational-6776" class="Bound">v</a> <a id="plfa_plfa-part3-Denotational-6799" href="../Denotational/#plfa_plfa-part3-Denotational-4335" class="Datatype Operator">⊑</a> <a id="plfa_plfa-part3-Denotational-6801" href="../Denotational/#plfa_plfa-part3-Denotational-6778" class="Bound">w</a>
    <a id="plfa_plfa-part3-Denotational-6807" class="Comment">---------</a>
  <a id="plfa_plfa-part3-Denotational-6819" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-6821" href="../Denotational/#plfa_plfa-part3-Denotational-6776" class="Bound">v</a> <a id="plfa_plfa-part3-Denotational-6823" href="../Denotational/#plfa_plfa-part3-Denotational-4335" class="Datatype Operator">⊑</a> <a id="plfa_plfa-part3-Denotational-6825" href="../Denotational/#plfa_plfa-part3-Denotational-6778" class="Bound">w</a>
<a id="plfa_plfa-part3-Denotational-6827" href="../Denotational/#plfa_plfa-part3-Denotational-6762" class="Function">⊔⊑-invR</a> <a id="plfa_plfa-part3-Denotational-6835" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-6836" href="../Denotational/#plfa_plfa-part3-Denotational-4395" class="InductiveConstructor">⊑-conj-L</a> <a id="plfa_plfa-part3-Denotational-6845" href="../Denotational/#plfa_plfa-part3-Denotational-6845" class="Bound">lt1</a> <a id="plfa_plfa-part3-Denotational-6849" href="../Denotational/#plfa_plfa-part3-Denotational-6849" class="Bound">lt2</a><a id="plfa_plfa-part3-Denotational-6852" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-6854" class="Symbol">=</a> <a id="plfa_plfa-part3-Denotational-6856" href="../Denotational/#plfa_plfa-part3-Denotational-6849" class="Bound">lt2</a>
<a id="plfa_plfa-part3-Denotational-6860" href="../Denotational/#plfa_plfa-part3-Denotational-6762" class="Function">⊔⊑-invR</a> <a id="plfa_plfa-part3-Denotational-6868" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-6869" href="../Denotational/#plfa_plfa-part3-Denotational-4479" class="InductiveConstructor">⊑-conj-R1</a> <a id="plfa_plfa-part3-Denotational-6879" href="../Denotational/#plfa_plfa-part3-Denotational-6879" class="Bound">lt</a><a id="plfa_plfa-part3-Denotational-6881" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-6883" class="Symbol">=</a> <a id="plfa_plfa-part3-Denotational-6885" href="../Denotational/#plfa_plfa-part3-Denotational-4479" class="InductiveConstructor">⊑-conj-R1</a> <a id="plfa_plfa-part3-Denotational-6895" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-6896" href="../Denotational/#plfa_plfa-part3-Denotational-6762" class="Function">⊔⊑-invR</a> <a id="plfa_plfa-part3-Denotational-6904" href="../Denotational/#plfa_plfa-part3-Denotational-6879" class="Bound">lt</a><a id="plfa_plfa-part3-Denotational-6906" class="Symbol">)</a>
<a id="plfa_plfa-part3-Denotational-6908" href="../Denotational/#plfa_plfa-part3-Denotational-6762" class="Function">⊔⊑-invR</a> <a id="plfa_plfa-part3-Denotational-6916" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-6917" href="../Denotational/#plfa_plfa-part3-Denotational-4552" class="InductiveConstructor">⊑-conj-R2</a> <a id="plfa_plfa-part3-Denotational-6927" href="../Denotational/#plfa_plfa-part3-Denotational-6927" class="Bound">lt</a><a id="plfa_plfa-part3-Denotational-6929" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-6931" class="Symbol">=</a> <a id="plfa_plfa-part3-Denotational-6933" href="../Denotational/#plfa_plfa-part3-Denotational-4552" class="InductiveConstructor">⊑-conj-R2</a> <a id="plfa_plfa-part3-Denotational-6943" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-6944" href="../Denotational/#plfa_plfa-part3-Denotational-6762" class="Function">⊔⊑-invR</a> <a id="plfa_plfa-part3-Denotational-6952" href="../Denotational/#plfa_plfa-part3-Denotational-6927" class="Bound">lt</a><a id="plfa_plfa-part3-Denotational-6954" class="Symbol">)</a>
<a id="plfa_plfa-part3-Denotational-6956" href="../Denotational/#plfa_plfa-part3-Denotational-6762" class="Function">⊔⊑-invR</a> <a id="plfa_plfa-part3-Denotational-6964" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-6965" href="../Denotational/#plfa_plfa-part3-Denotational-4625" class="InductiveConstructor">⊑-trans</a> <a id="plfa_plfa-part3-Denotational-6973" href="../Denotational/#plfa_plfa-part3-Denotational-6973" class="Bound">lt1</a> <a id="plfa_plfa-part3-Denotational-6977" href="../Denotational/#plfa_plfa-part3-Denotational-6977" class="Bound">lt2</a><a id="plfa_plfa-part3-Denotational-6980" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-6982" class="Symbol">=</a> <a id="plfa_plfa-part3-Denotational-6984" href="../Denotational/#plfa_plfa-part3-Denotational-4625" class="InductiveConstructor">⊑-trans</a> <a id="plfa_plfa-part3-Denotational-6992" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-6993" href="../Denotational/#plfa_plfa-part3-Denotational-6762" class="Function">⊔⊑-invR</a> <a id="plfa_plfa-part3-Denotational-7001" href="../Denotational/#plfa_plfa-part3-Denotational-6973" class="Bound">lt1</a><a id="plfa_plfa-part3-Denotational-7004" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-7006" href="../Denotational/#plfa_plfa-part3-Denotational-6977" class="Bound">lt2</a>
</pre><h2 id="environments">Environments</h2><p>An environment gives meaning to the free variables in a term by mapping variables to values.</p><pre class="Agda"><a id="plfa_plfa-part3-Denotational-Env"></a><a id="plfa_plfa-part3-Denotational-7135" href="../Denotational/#plfa_plfa-part3-Denotational-7135" class="Function">Env</a> <a id="plfa_plfa-part3-Denotational-7139" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-7141" href="../Untyped/#plfa_plfa-part2-Untyped-3093" class="Datatype">Context</a> <a id="plfa_plfa-part3-Denotational-7149" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-7151" href="https://agda.github.io/agda-stdlib/v1.3/Agda.Primitive.html#326" class="Primitive">Set</a>
<a id="plfa_plfa-part3-Denotational-7155" href="../Denotational/#plfa_plfa-part3-Denotational-7135" class="Function">Env</a> <a id="plfa_plfa-part3-Denotational-7159" href="../Denotational/#plfa_plfa-part3-Denotational-7159" class="Bound">Γ</a> <a id="plfa_plfa-part3-Denotational-7161" class="Symbol">=</a> <a id="plfa_plfa-part3-Denotational-7163" class="Symbol">∀</a> <a id="plfa_plfa-part3-Denotational-7165" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-7166" href="../Denotational/#plfa_plfa-part3-Denotational-7166" class="Bound">x</a> <a id="plfa_plfa-part3-Denotational-7168" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-7170" href="../Denotational/#plfa_plfa-part3-Denotational-7159" class="Bound">Γ</a> <a id="plfa_plfa-part3-Denotational-7172" href="../Untyped/#plfa_plfa-part2-Untyped-3469" class="Datatype Operator">∋</a> <a id="plfa_plfa-part3-Denotational-7174" href="../Untyped/#plfa_plfa-part2-Untyped-2820" class="InductiveConstructor">★</a><a id="plfa_plfa-part3-Denotational-7175" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-7177" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-7179" href="../Denotational/#plfa_plfa-part3-Denotational-3974" class="Datatype">Value</a>
</pre>We have the empty environment, and we can extend an environment.<pre class="Agda"><a id="plfa_plfa-part3-Denotational-`∅"></a><a id="plfa_plfa-part3-Denotational-7263" href="../Denotational/#plfa_plfa-part3-Denotational-7263" class="Function">`∅</a> <a id="plfa_plfa-part3-Denotational-7266" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-7268" href="../Denotational/#plfa_plfa-part3-Denotational-7135" class="Function">Env</a> <a id="plfa_plfa-part3-Denotational-7272" href="../Untyped/#plfa_plfa-part2-Untyped-3115" class="InductiveConstructor">∅</a>
<a id="plfa_plfa-part3-Denotational-7274" href="../Denotational/#plfa_plfa-part3-Denotational-7263" class="Function">`∅</a> <a id="plfa_plfa-part3-Denotational-7277" class="Symbol">()</a>

<a id="plfa_plfa-part3-Denotational-7281" class="Keyword">infixl</a> <a id="plfa_plfa-part3-Denotational-7288" class="Number">5</a> <a id="plfa_plfa-part3-Denotational-7290" href="../Denotational/#plfa_plfa-part3-Denotational-7296" class="Function Operator">_`,_</a>

<a id="plfa_plfa-part3-Denotational-_`,_"></a><a id="plfa_plfa-part3-Denotational-7296" href="../Denotational/#plfa_plfa-part3-Denotational-7296" class="Function Operator">_`,_</a> <a id="plfa_plfa-part3-Denotational-7301" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-7303" class="Symbol">∀</a> <a id="plfa_plfa-part3-Denotational-7305" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-7306" href="../Denotational/#plfa_plfa-part3-Denotational-7306" class="Bound">Γ</a><a id="plfa_plfa-part3-Denotational-7307" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-7309" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-7311" href="../Denotational/#plfa_plfa-part3-Denotational-7135" class="Function">Env</a> <a id="plfa_plfa-part3-Denotational-7315" href="../Denotational/#plfa_plfa-part3-Denotational-7306" class="Bound">Γ</a> <a id="plfa_plfa-part3-Denotational-7317" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-7319" href="../Denotational/#plfa_plfa-part3-Denotational-3974" class="Datatype">Value</a> <a id="plfa_plfa-part3-Denotational-7325" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-7327" href="../Denotational/#plfa_plfa-part3-Denotational-7135" class="Function">Env</a> <a id="plfa_plfa-part3-Denotational-7331" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-7332" href="../Denotational/#plfa_plfa-part3-Denotational-7306" class="Bound">Γ</a> <a id="plfa_plfa-part3-Denotational-7334" href="../Untyped/#plfa_plfa-part2-Untyped-3131" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part3-Denotational-7336" href="../Untyped/#plfa_plfa-part2-Untyped-2820" class="InductiveConstructor">★</a><a id="plfa_plfa-part3-Denotational-7337" class="Symbol">)</a>
<a id="plfa_plfa-part3-Denotational-7339" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-7340" href="../Denotational/#plfa_plfa-part3-Denotational-7340" class="Bound">γ</a> <a id="plfa_plfa-part3-Denotational-7342" href="../Denotational/#plfa_plfa-part3-Denotational-7296" class="Function Operator">`,</a> <a id="plfa_plfa-part3-Denotational-7345" href="../Denotational/#plfa_plfa-part3-Denotational-7345" class="Bound">v</a><a id="plfa_plfa-part3-Denotational-7346" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-7348" href="../Untyped/#plfa_plfa-part2-Untyped-3505" class="InductiveConstructor">Z</a> <a id="plfa_plfa-part3-Denotational-7350" class="Symbol">=</a> <a id="plfa_plfa-part3-Denotational-7352" href="../Denotational/#plfa_plfa-part3-Denotational-7345" class="Bound">v</a>
<a id="plfa_plfa-part3-Denotational-7354" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-7355" href="../Denotational/#plfa_plfa-part3-Denotational-7355" class="Bound">γ</a> <a id="plfa_plfa-part3-Denotational-7357" href="../Denotational/#plfa_plfa-part3-Denotational-7296" class="Function Operator">`,</a> <a id="plfa_plfa-part3-Denotational-7360" href="../Denotational/#plfa_plfa-part3-Denotational-7360" class="Bound">v</a><a id="plfa_plfa-part3-Denotational-7361" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-7363" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-7364" href="../Untyped/#plfa_plfa-part2-Untyped-3550" class="InductiveConstructor Operator">S</a> <a id="plfa_plfa-part3-Denotational-7366" href="../Denotational/#plfa_plfa-part3-Denotational-7366" class="Bound">x</a><a id="plfa_plfa-part3-Denotational-7367" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-7369" class="Symbol">=</a> <a id="plfa_plfa-part3-Denotational-7371" href="../Denotational/#plfa_plfa-part3-Denotational-7355" class="Bound">γ</a> <a id="plfa_plfa-part3-Denotational-7373" href="../Denotational/#plfa_plfa-part3-Denotational-7366" class="Bound">x</a>
</pre>We can recover the previous environment from an extended environment, and the last value. Putting them together again takes us back to where we started.<pre class="Agda"><a id="plfa_plfa-part3-Denotational-init"></a><a id="plfa_plfa-part3-Denotational-7541" href="../Denotational/#plfa_plfa-part3-Denotational-7541" class="Function">init</a> <a id="plfa_plfa-part3-Denotational-7546" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-7548" class="Symbol">∀</a> <a id="plfa_plfa-part3-Denotational-7550" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-7551" href="../Denotational/#plfa_plfa-part3-Denotational-7551" class="Bound">Γ</a><a id="plfa_plfa-part3-Denotational-7552" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-7554" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-7556" href="../Denotational/#plfa_plfa-part3-Denotational-7135" class="Function">Env</a> <a id="plfa_plfa-part3-Denotational-7560" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-7561" href="../Denotational/#plfa_plfa-part3-Denotational-7551" class="Bound">Γ</a> <a id="plfa_plfa-part3-Denotational-7563" href="../Untyped/#plfa_plfa-part2-Untyped-3131" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part3-Denotational-7565" href="../Untyped/#plfa_plfa-part2-Untyped-2820" class="InductiveConstructor">★</a><a id="plfa_plfa-part3-Denotational-7566" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-7568" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-7570" href="../Denotational/#plfa_plfa-part3-Denotational-7135" class="Function">Env</a> <a id="plfa_plfa-part3-Denotational-7574" href="../Denotational/#plfa_plfa-part3-Denotational-7551" class="Bound">Γ</a>
<a id="plfa_plfa-part3-Denotational-7576" href="../Denotational/#plfa_plfa-part3-Denotational-7541" class="Function">init</a> <a id="plfa_plfa-part3-Denotational-7581" href="../Denotational/#plfa_plfa-part3-Denotational-7581" class="Bound">γ</a> <a id="plfa_plfa-part3-Denotational-7583" href="../Denotational/#plfa_plfa-part3-Denotational-7583" class="Bound">x</a> <a id="plfa_plfa-part3-Denotational-7585" class="Symbol">=</a> <a id="plfa_plfa-part3-Denotational-7587" href="../Denotational/#plfa_plfa-part3-Denotational-7581" class="Bound">γ</a> <a id="plfa_plfa-part3-Denotational-7589" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-7590" href="../Untyped/#plfa_plfa-part2-Untyped-3550" class="InductiveConstructor Operator">S</a> <a id="plfa_plfa-part3-Denotational-7592" href="../Denotational/#plfa_plfa-part3-Denotational-7583" class="Bound">x</a><a id="plfa_plfa-part3-Denotational-7593" class="Symbol">)</a>

<a id="plfa_plfa-part3-Denotational-last"></a><a id="plfa_plfa-part3-Denotational-7596" href="../Denotational/#plfa_plfa-part3-Denotational-7596" class="Function">last</a> <a id="plfa_plfa-part3-Denotational-7601" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-7603" class="Symbol">∀</a> <a id="plfa_plfa-part3-Denotational-7605" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-7606" href="../Denotational/#plfa_plfa-part3-Denotational-7606" class="Bound">Γ</a><a id="plfa_plfa-part3-Denotational-7607" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-7609" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-7611" href="../Denotational/#plfa_plfa-part3-Denotational-7135" class="Function">Env</a> <a id="plfa_plfa-part3-Denotational-7615" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-7616" href="../Denotational/#plfa_plfa-part3-Denotational-7606" class="Bound">Γ</a> <a id="plfa_plfa-part3-Denotational-7618" href="../Untyped/#plfa_plfa-part2-Untyped-3131" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part3-Denotational-7620" href="../Untyped/#plfa_plfa-part2-Untyped-2820" class="InductiveConstructor">★</a><a id="plfa_plfa-part3-Denotational-7621" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-7623" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-7625" href="../Denotational/#plfa_plfa-part3-Denotational-3974" class="Datatype">Value</a>
<a id="plfa_plfa-part3-Denotational-7631" href="../Denotational/#plfa_plfa-part3-Denotational-7596" class="Function">last</a> <a id="plfa_plfa-part3-Denotational-7636" href="../Denotational/#plfa_plfa-part3-Denotational-7636" class="Bound">γ</a> <a id="plfa_plfa-part3-Denotational-7638" class="Symbol">=</a> <a id="plfa_plfa-part3-Denotational-7640" href="../Denotational/#plfa_plfa-part3-Denotational-7636" class="Bound">γ</a> <a id="plfa_plfa-part3-Denotational-7642" href="../Untyped/#plfa_plfa-part2-Untyped-3505" class="InductiveConstructor">Z</a>

<a id="plfa_plfa-part3-Denotational-init-last"></a><a id="plfa_plfa-part3-Denotational-7645" href="../Denotational/#plfa_plfa-part3-Denotational-7645" class="Function">init-last</a> <a id="plfa_plfa-part3-Denotational-7655" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-7657" class="Symbol">∀</a> <a id="plfa_plfa-part3-Denotational-7659" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-7660" href="../Denotational/#plfa_plfa-part3-Denotational-7660" class="Bound">Γ</a><a id="plfa_plfa-part3-Denotational-7661" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-7663" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-7665" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-7666" href="../Denotational/#plfa_plfa-part3-Denotational-7666" class="Bound">γ</a> <a id="plfa_plfa-part3-Denotational-7668" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-7670" href="../Denotational/#plfa_plfa-part3-Denotational-7135" class="Function">Env</a> <a id="plfa_plfa-part3-Denotational-7674" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-7675" href="../Denotational/#plfa_plfa-part3-Denotational-7660" class="Bound">Γ</a> <a id="plfa_plfa-part3-Denotational-7677" href="../Untyped/#plfa_plfa-part2-Untyped-3131" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part3-Denotational-7679" href="../Untyped/#plfa_plfa-part2-Untyped-2820" class="InductiveConstructor">★</a><a id="plfa_plfa-part3-Denotational-7680" class="Symbol">))</a> <a id="plfa_plfa-part3-Denotational-7683" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-7685" href="../Denotational/#plfa_plfa-part3-Denotational-7666" class="Bound">γ</a> <a id="plfa_plfa-part3-Denotational-7687" href="https://agda.github.io/agda-stdlib/v1.3/Agda.Builtin.Equality.html#151" class="Datatype Operator">≡</a> <a id="plfa_plfa-part3-Denotational-7689" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-7690" href="../Denotational/#plfa_plfa-part3-Denotational-7541" class="Function">init</a> <a id="plfa_plfa-part3-Denotational-7695" href="../Denotational/#plfa_plfa-part3-Denotational-7666" class="Bound">γ</a> <a id="plfa_plfa-part3-Denotational-7697" href="../Denotational/#plfa_plfa-part3-Denotational-7296" class="Function Operator">`,</a> <a id="plfa_plfa-part3-Denotational-7700" href="../Denotational/#plfa_plfa-part3-Denotational-7596" class="Function">last</a> <a id="plfa_plfa-part3-Denotational-7705" href="../Denotational/#plfa_plfa-part3-Denotational-7666" class="Bound">γ</a><a id="plfa_plfa-part3-Denotational-7706" class="Symbol">)</a>
<a id="plfa_plfa-part3-Denotational-7708" href="../Denotational/#plfa_plfa-part3-Denotational-7645" class="Function">init-last</a> <a id="plfa_plfa-part3-Denotational-7718" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-7719" href="../Denotational/#plfa_plfa-part3-Denotational-7719" class="Bound">Γ</a><a id="plfa_plfa-part3-Denotational-7720" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-7722" href="../Denotational/#plfa_plfa-part3-Denotational-7722" class="Bound">γ</a> <a id="plfa_plfa-part3-Denotational-7724" class="Symbol">=</a> <a id="plfa_plfa-part3-Denotational-7726" href="../Substitution/#plfa_plfa-part2-Substitution-1855" class="Postulate">extensionality</a> <a id="plfa_plfa-part3-Denotational-7741" href="../Denotational/#plfa_plfa-part3-Denotational-7755" class="Function">lemma</a>
  <a id="plfa_plfa-part3-Denotational-7749" class="Keyword">where</a> <a id="plfa_plfa-part3-Denotational-7755" href="../Denotational/#plfa_plfa-part3-Denotational-7755" class="Function">lemma</a> <a id="plfa_plfa-part3-Denotational-7761" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-7763" class="Symbol">∀</a> <a id="plfa_plfa-part3-Denotational-7765" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-7766" href="../Denotational/#plfa_plfa-part3-Denotational-7766" class="Bound">x</a> <a id="plfa_plfa-part3-Denotational-7768" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-7770" href="../Denotational/#plfa_plfa-part3-Denotational-7719" class="Bound">Γ</a> <a id="plfa_plfa-part3-Denotational-7772" href="../Untyped/#plfa_plfa-part2-Untyped-3131" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part3-Denotational-7774" href="../Untyped/#plfa_plfa-part2-Untyped-2820" class="InductiveConstructor">★</a> <a id="plfa_plfa-part3-Denotational-7776" href="../Untyped/#plfa_plfa-part2-Untyped-3469" class="Datatype Operator">∋</a> <a id="plfa_plfa-part3-Denotational-7778" href="../Untyped/#plfa_plfa-part2-Untyped-2820" class="InductiveConstructor">★</a><a id="plfa_plfa-part3-Denotational-7779" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-7781" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-7783" href="../Denotational/#plfa_plfa-part3-Denotational-7722" class="Bound">γ</a> <a id="plfa_plfa-part3-Denotational-7785" href="../Denotational/#plfa_plfa-part3-Denotational-7766" class="Bound">x</a> <a id="plfa_plfa-part3-Denotational-7787" href="https://agda.github.io/agda-stdlib/v1.3/Agda.Builtin.Equality.html#151" class="Datatype Operator">≡</a> <a id="plfa_plfa-part3-Denotational-7789" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-7790" href="../Denotational/#plfa_plfa-part3-Denotational-7541" class="Function">init</a> <a id="plfa_plfa-part3-Denotational-7795" href="../Denotational/#plfa_plfa-part3-Denotational-7722" class="Bound">γ</a> <a id="plfa_plfa-part3-Denotational-7797" href="../Denotational/#plfa_plfa-part3-Denotational-7296" class="Function Operator">`,</a> <a id="plfa_plfa-part3-Denotational-7800" href="../Denotational/#plfa_plfa-part3-Denotational-7596" class="Function">last</a> <a id="plfa_plfa-part3-Denotational-7805" href="../Denotational/#plfa_plfa-part3-Denotational-7722" class="Bound">γ</a><a id="plfa_plfa-part3-Denotational-7806" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-7808" href="../Denotational/#plfa_plfa-part3-Denotational-7766" class="Bound">x</a>
        <a id="plfa_plfa-part3-Denotational-7818" href="../Denotational/#plfa_plfa-part3-Denotational-7755" class="Function">lemma</a> <a id="plfa_plfa-part3-Denotational-7824" href="../Untyped/#plfa_plfa-part2-Untyped-3505" class="InductiveConstructor">Z</a>      <a id="plfa_plfa-part3-Denotational-7831" class="Symbol">=</a>  <a id="plfa_plfa-part3-Denotational-7834" href="https://agda.github.io/agda-stdlib/v1.3/Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a>
        <a id="plfa_plfa-part3-Denotational-7847" href="../Denotational/#plfa_plfa-part3-Denotational-7755" class="Function">lemma</a> <a id="plfa_plfa-part3-Denotational-7853" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-7854" href="../Untyped/#plfa_plfa-part2-Untyped-3550" class="InductiveConstructor Operator">S</a> <a id="plfa_plfa-part3-Denotational-7856" href="../Denotational/#plfa_plfa-part3-Denotational-7856" class="Bound">x</a><a id="plfa_plfa-part3-Denotational-7857" class="Symbol">)</a>  <a id="plfa_plfa-part3-Denotational-7860" class="Symbol">=</a>  <a id="plfa_plfa-part3-Denotational-7863" href="https://agda.github.io/agda-stdlib/v1.3/Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a>
</pre><p>We extend the <code>⊑</code> relation point-wise to environments with the following definition.</p><pre class="Agda"><a id="plfa_plfa-part3-Denotational-_`⊑_"></a><a id="plfa_plfa-part3-Denotational-7967" href="../Denotational/#plfa_plfa-part3-Denotational-7967" class="Function Operator">_`⊑_</a> <a id="plfa_plfa-part3-Denotational-7972" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-7974" class="Symbol">∀</a> <a id="plfa_plfa-part3-Denotational-7976" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-7977" href="../Denotational/#plfa_plfa-part3-Denotational-7977" class="Bound">Γ</a><a id="plfa_plfa-part3-Denotational-7978" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-7980" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-7982" href="../Denotational/#plfa_plfa-part3-Denotational-7135" class="Function">Env</a> <a id="plfa_plfa-part3-Denotational-7986" href="../Denotational/#plfa_plfa-part3-Denotational-7977" class="Bound">Γ</a> <a id="plfa_plfa-part3-Denotational-7988" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-7990" href="../Denotational/#plfa_plfa-part3-Denotational-7135" class="Function">Env</a> <a id="plfa_plfa-part3-Denotational-7994" href="../Denotational/#plfa_plfa-part3-Denotational-7977" class="Bound">Γ</a> <a id="plfa_plfa-part3-Denotational-7996" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-7998" href="https://agda.github.io/agda-stdlib/v1.3/Agda.Primitive.html#326" class="Primitive">Set</a>
<a id="plfa_plfa-part3-Denotational-8002" href="../Denotational/#plfa_plfa-part3-Denotational-7967" class="Function Operator">_`⊑_</a> <a id="plfa_plfa-part3-Denotational-8007" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-8008" href="../Denotational/#plfa_plfa-part3-Denotational-8008" class="Bound">Γ</a><a id="plfa_plfa-part3-Denotational-8009" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-8011" href="../Denotational/#plfa_plfa-part3-Denotational-8011" class="Bound">γ</a> <a id="plfa_plfa-part3-Denotational-8013" href="../Denotational/#plfa_plfa-part3-Denotational-8013" class="Bound">δ</a> <a id="plfa_plfa-part3-Denotational-8015" class="Symbol">=</a> <a id="plfa_plfa-part3-Denotational-8017" class="Symbol">∀</a> <a id="plfa_plfa-part3-Denotational-8019" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-8020" href="../Denotational/#plfa_plfa-part3-Denotational-8020" class="Bound">x</a> <a id="plfa_plfa-part3-Denotational-8022" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-8024" href="../Denotational/#plfa_plfa-part3-Denotational-8008" class="Bound">Γ</a> <a id="plfa_plfa-part3-Denotational-8026" href="../Untyped/#plfa_plfa-part2-Untyped-3469" class="Datatype Operator">∋</a> <a id="plfa_plfa-part3-Denotational-8028" href="../Untyped/#plfa_plfa-part2-Untyped-2820" class="InductiveConstructor">★</a><a id="plfa_plfa-part3-Denotational-8029" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-8031" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-8033" href="../Denotational/#plfa_plfa-part3-Denotational-8011" class="Bound">γ</a> <a id="plfa_plfa-part3-Denotational-8035" href="../Denotational/#plfa_plfa-part3-Denotational-8020" class="Bound">x</a> <a id="plfa_plfa-part3-Denotational-8037" href="../Denotational/#plfa_plfa-part3-Denotational-4335" class="Datatype Operator">⊑</a> <a id="plfa_plfa-part3-Denotational-8039" href="../Denotational/#plfa_plfa-part3-Denotational-8013" class="Bound">δ</a> <a id="plfa_plfa-part3-Denotational-8041" href="../Denotational/#plfa_plfa-part3-Denotational-8020" class="Bound">x</a>
</pre><p>We define a bottom environment and a join operator on environments, which takes the point-wise join of their values.</p><pre class="Agda"><a id="plfa_plfa-part3-Denotational-`⊥"></a><a id="plfa_plfa-part3-Denotational-8174" href="../Denotational/#plfa_plfa-part3-Denotational-8174" class="Function">`⊥</a> <a id="plfa_plfa-part3-Denotational-8177" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-8179" class="Symbol">∀</a> <a id="plfa_plfa-part3-Denotational-8181" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-8182" href="../Denotational/#plfa_plfa-part3-Denotational-8182" class="Bound">Γ</a><a id="plfa_plfa-part3-Denotational-8183" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-8185" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-8187" href="../Denotational/#plfa_plfa-part3-Denotational-7135" class="Function">Env</a> <a id="plfa_plfa-part3-Denotational-8191" href="../Denotational/#plfa_plfa-part3-Denotational-8182" class="Bound">Γ</a>
<a id="plfa_plfa-part3-Denotational-8193" href="../Denotational/#plfa_plfa-part3-Denotational-8174" class="Function">`⊥</a> <a id="plfa_plfa-part3-Denotational-8196" href="../Denotational/#plfa_plfa-part3-Denotational-8196" class="Bound">x</a> <a id="plfa_plfa-part3-Denotational-8198" class="Symbol">=</a> <a id="plfa_plfa-part3-Denotational-8200" href="../Denotational/#plfa_plfa-part3-Denotational-3994" class="InductiveConstructor">⊥</a>

<a id="plfa_plfa-part3-Denotational-_`⊔_"></a><a id="plfa_plfa-part3-Denotational-8203" href="../Denotational/#plfa_plfa-part3-Denotational-8203" class="Function Operator">_`⊔_</a> <a id="plfa_plfa-part3-Denotational-8208" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-8210" class="Symbol">∀</a> <a id="plfa_plfa-part3-Denotational-8212" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-8213" href="../Denotational/#plfa_plfa-part3-Denotational-8213" class="Bound">Γ</a><a id="plfa_plfa-part3-Denotational-8214" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-8216" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-8218" href="../Denotational/#plfa_plfa-part3-Denotational-7135" class="Function">Env</a> <a id="plfa_plfa-part3-Denotational-8222" href="../Denotational/#plfa_plfa-part3-Denotational-8213" class="Bound">Γ</a> <a id="plfa_plfa-part3-Denotational-8224" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-8226" href="../Denotational/#plfa_plfa-part3-Denotational-7135" class="Function">Env</a> <a id="plfa_plfa-part3-Denotational-8230" href="../Denotational/#plfa_plfa-part3-Denotational-8213" class="Bound">Γ</a> <a id="plfa_plfa-part3-Denotational-8232" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-8234" href="../Denotational/#plfa_plfa-part3-Denotational-7135" class="Function">Env</a> <a id="plfa_plfa-part3-Denotational-8238" href="../Denotational/#plfa_plfa-part3-Denotational-8213" class="Bound">Γ</a>
<a id="plfa_plfa-part3-Denotational-8240" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-8241" href="../Denotational/#plfa_plfa-part3-Denotational-8241" class="Bound">γ</a> <a id="plfa_plfa-part3-Denotational-8243" href="../Denotational/#plfa_plfa-part3-Denotational-8203" class="Function Operator">`⊔</a> <a id="plfa_plfa-part3-Denotational-8246" href="../Denotational/#plfa_plfa-part3-Denotational-8246" class="Bound">δ</a><a id="plfa_plfa-part3-Denotational-8247" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-8249" href="../Denotational/#plfa_plfa-part3-Denotational-8249" class="Bound">x</a> <a id="plfa_plfa-part3-Denotational-8251" class="Symbol">=</a> <a id="plfa_plfa-part3-Denotational-8253" href="../Denotational/#plfa_plfa-part3-Denotational-8241" class="Bound">γ</a> <a id="plfa_plfa-part3-Denotational-8255" href="../Denotational/#plfa_plfa-part3-Denotational-8249" class="Bound">x</a> <a id="plfa_plfa-part3-Denotational-8257" href="../Denotational/#plfa_plfa-part3-Denotational-4036" class="InductiveConstructor Operator">⊔</a> <a id="plfa_plfa-part3-Denotational-8259" href="../Denotational/#plfa_plfa-part3-Denotational-8246" class="Bound">δ</a> <a id="plfa_plfa-part3-Denotational-8261" href="../Denotational/#plfa_plfa-part3-Denotational-8249" class="Bound">x</a>
</pre><p>The <code>⊑-refl</code>, <code>⊑-conj-R1</code>, and <code>⊑-conj-R2</code> rules lift to environments. So the join of two environments <code>γ</code> and <code>δ</code> is greater than the first environment <code>γ</code> or the second environment <code>δ</code>.</p><pre class="Agda"><a id="plfa_plfa-part3-Denotational-`⊑-refl"></a><a id="plfa_plfa-part3-Denotational-8466" href="../Denotational/#plfa_plfa-part3-Denotational-8466" class="Function">`⊑-refl</a> <a id="plfa_plfa-part3-Denotational-8474" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-8476" class="Symbol">∀</a> <a id="plfa_plfa-part3-Denotational-8478" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-8479" href="../Denotational/#plfa_plfa-part3-Denotational-8479" class="Bound">Γ</a><a id="plfa_plfa-part3-Denotational-8480" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-8482" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-8483" href="../Denotational/#plfa_plfa-part3-Denotational-8483" class="Bound">γ</a> <a id="plfa_plfa-part3-Denotational-8485" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-8487" href="../Denotational/#plfa_plfa-part3-Denotational-7135" class="Function">Env</a> <a id="plfa_plfa-part3-Denotational-8491" href="../Denotational/#plfa_plfa-part3-Denotational-8479" class="Bound">Γ</a><a id="plfa_plfa-part3-Denotational-8492" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-8494" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-8496" href="../Denotational/#plfa_plfa-part3-Denotational-8483" class="Bound">γ</a> <a id="plfa_plfa-part3-Denotational-8498" href="../Denotational/#plfa_plfa-part3-Denotational-7967" class="Function Operator">`⊑</a> <a id="plfa_plfa-part3-Denotational-8501" href="../Denotational/#plfa_plfa-part3-Denotational-8483" class="Bound">γ</a>
<a id="plfa_plfa-part3-Denotational-8503" href="../Denotational/#plfa_plfa-part3-Denotational-8466" class="Function">`⊑-refl</a> <a id="plfa_plfa-part3-Denotational-8511" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-8512" href="../Denotational/#plfa_plfa-part3-Denotational-8512" class="Bound">Γ</a><a id="plfa_plfa-part3-Denotational-8513" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-8515" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-8516" href="../Denotational/#plfa_plfa-part3-Denotational-8516" class="Bound">γ</a><a id="plfa_plfa-part3-Denotational-8517" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-8519" href="../Denotational/#plfa_plfa-part3-Denotational-8519" class="Bound">x</a> <a id="plfa_plfa-part3-Denotational-8521" class="Symbol">=</a> <a id="plfa_plfa-part3-Denotational-8523" href="../Denotational/#plfa_plfa-part3-Denotational-5469" class="Function">⊑-refl</a> <a id="plfa_plfa-part3-Denotational-8530" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-8531" href="../Denotational/#plfa_plfa-part3-Denotational-8516" class="Bound">γ</a> <a id="plfa_plfa-part3-Denotational-8533" href="../Denotational/#plfa_plfa-part3-Denotational-8519" class="Bound">x</a><a id="plfa_plfa-part3-Denotational-8534" class="Symbol">}</a>

<a id="plfa_plfa-part3-Denotational-⊑-env-conj-R1"></a><a id="plfa_plfa-part3-Denotational-8537" href="../Denotational/#plfa_plfa-part3-Denotational-8537" class="Function">⊑-env-conj-R1</a> <a id="plfa_plfa-part3-Denotational-8551" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-8553" class="Symbol">∀</a> <a id="plfa_plfa-part3-Denotational-8555" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-8556" href="../Denotational/#plfa_plfa-part3-Denotational-8556" class="Bound">Γ</a><a id="plfa_plfa-part3-Denotational-8557" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-8559" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-8561" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-8562" href="../Denotational/#plfa_plfa-part3-Denotational-8562" class="Bound">γ</a> <a id="plfa_plfa-part3-Denotational-8564" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-8566" href="../Denotational/#plfa_plfa-part3-Denotational-7135" class="Function">Env</a> <a id="plfa_plfa-part3-Denotational-8570" href="../Denotational/#plfa_plfa-part3-Denotational-8556" class="Bound">Γ</a><a id="plfa_plfa-part3-Denotational-8571" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-8573" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-8575" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-8576" href="../Denotational/#plfa_plfa-part3-Denotational-8576" class="Bound">δ</a> <a id="plfa_plfa-part3-Denotational-8578" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-8580" href="../Denotational/#plfa_plfa-part3-Denotational-7135" class="Function">Env</a> <a id="plfa_plfa-part3-Denotational-8584" href="../Denotational/#plfa_plfa-part3-Denotational-8556" class="Bound">Γ</a><a id="plfa_plfa-part3-Denotational-8585" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-8587" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-8589" href="../Denotational/#plfa_plfa-part3-Denotational-8562" class="Bound">γ</a> <a id="plfa_plfa-part3-Denotational-8591" href="../Denotational/#plfa_plfa-part3-Denotational-7967" class="Function Operator">`⊑</a> <a id="plfa_plfa-part3-Denotational-8594" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-8595" href="../Denotational/#plfa_plfa-part3-Denotational-8562" class="Bound">γ</a> <a id="plfa_plfa-part3-Denotational-8597" href="../Denotational/#plfa_plfa-part3-Denotational-8203" class="Function Operator">`⊔</a> <a id="plfa_plfa-part3-Denotational-8600" href="../Denotational/#plfa_plfa-part3-Denotational-8576" class="Bound">δ</a><a id="plfa_plfa-part3-Denotational-8601" class="Symbol">)</a>
<a id="plfa_plfa-part3-Denotational-8603" href="../Denotational/#plfa_plfa-part3-Denotational-8537" class="Function">⊑-env-conj-R1</a> <a id="plfa_plfa-part3-Denotational-8617" href="../Denotational/#plfa_plfa-part3-Denotational-8617" class="Bound">γ</a> <a id="plfa_plfa-part3-Denotational-8619" href="../Denotational/#plfa_plfa-part3-Denotational-8619" class="Bound">δ</a> <a id="plfa_plfa-part3-Denotational-8621" href="../Denotational/#plfa_plfa-part3-Denotational-8621" class="Bound">x</a> <a id="plfa_plfa-part3-Denotational-8623" class="Symbol">=</a> <a id="plfa_plfa-part3-Denotational-8625" href="../Denotational/#plfa_plfa-part3-Denotational-4479" class="InductiveConstructor">⊑-conj-R1</a> <a id="plfa_plfa-part3-Denotational-8635" href="../Denotational/#plfa_plfa-part3-Denotational-5469" class="Function">⊑-refl</a>

<a id="plfa_plfa-part3-Denotational-⊑-env-conj-R2"></a><a id="plfa_plfa-part3-Denotational-8643" href="../Denotational/#plfa_plfa-part3-Denotational-8643" class="Function">⊑-env-conj-R2</a> <a id="plfa_plfa-part3-Denotational-8657" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-8659" class="Symbol">∀</a> <a id="plfa_plfa-part3-Denotational-8661" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-8662" href="../Denotational/#plfa_plfa-part3-Denotational-8662" class="Bound">Γ</a><a id="plfa_plfa-part3-Denotational-8663" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-8665" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-8667" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-8668" href="../Denotational/#plfa_plfa-part3-Denotational-8668" class="Bound">γ</a> <a id="plfa_plfa-part3-Denotational-8670" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-8672" href="../Denotational/#plfa_plfa-part3-Denotational-7135" class="Function">Env</a> <a id="plfa_plfa-part3-Denotational-8676" href="../Denotational/#plfa_plfa-part3-Denotational-8662" class="Bound">Γ</a><a id="plfa_plfa-part3-Denotational-8677" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-8679" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-8681" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-8682" href="../Denotational/#plfa_plfa-part3-Denotational-8682" class="Bound">δ</a> <a id="plfa_plfa-part3-Denotational-8684" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-8686" href="../Denotational/#plfa_plfa-part3-Denotational-7135" class="Function">Env</a> <a id="plfa_plfa-part3-Denotational-8690" href="../Denotational/#plfa_plfa-part3-Denotational-8662" class="Bound">Γ</a><a id="plfa_plfa-part3-Denotational-8691" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-8693" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-8695" href="../Denotational/#plfa_plfa-part3-Denotational-8682" class="Bound">δ</a> <a id="plfa_plfa-part3-Denotational-8697" href="../Denotational/#plfa_plfa-part3-Denotational-7967" class="Function Operator">`⊑</a> <a id="plfa_plfa-part3-Denotational-8700" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-8701" href="../Denotational/#plfa_plfa-part3-Denotational-8668" class="Bound">γ</a> <a id="plfa_plfa-part3-Denotational-8703" href="../Denotational/#plfa_plfa-part3-Denotational-8203" class="Function Operator">`⊔</a> <a id="plfa_plfa-part3-Denotational-8706" href="../Denotational/#plfa_plfa-part3-Denotational-8682" class="Bound">δ</a><a id="plfa_plfa-part3-Denotational-8707" class="Symbol">)</a>
<a id="plfa_plfa-part3-Denotational-8709" href="../Denotational/#plfa_plfa-part3-Denotational-8643" class="Function">⊑-env-conj-R2</a> <a id="plfa_plfa-part3-Denotational-8723" href="../Denotational/#plfa_plfa-part3-Denotational-8723" class="Bound">γ</a> <a id="plfa_plfa-part3-Denotational-8725" href="../Denotational/#plfa_plfa-part3-Denotational-8725" class="Bound">δ</a> <a id="plfa_plfa-part3-Denotational-8727" href="../Denotational/#plfa_plfa-part3-Denotational-8727" class="Bound">x</a> <a id="plfa_plfa-part3-Denotational-8729" class="Symbol">=</a> <a id="plfa_plfa-part3-Denotational-8731" href="../Denotational/#plfa_plfa-part3-Denotational-4552" class="InductiveConstructor">⊑-conj-R2</a> <a id="plfa_plfa-part3-Denotational-8741" href="../Denotational/#plfa_plfa-part3-Denotational-5469" class="Function">⊑-refl</a>
</pre><h2 id="denotational-semantics">Denotational Semantics</h2><p>We define the semantics with a judgment of the form <code>ρ ⊢ M ↓ v</code>, where <code>ρ</code> is the environment, <code>M</code> the program, and <code>v</code> is a result value. For readers familiar with big-step semantics, this notation will feel quite natural, but don’t let the similarity fool you. There are subtle but important differences! So here is the definition of the semantics, which we discuss in detail in the following paragraphs.</p><pre class="Agda"><a id="plfa_plfa-part3-Denotational-9197" class="Keyword">infix</a> <a id="plfa_plfa-part3-Denotational-9203" class="Number">3</a> <a id="plfa_plfa-part3-Denotational-9205" href="../Denotational/#plfa_plfa-part3-Denotational-9217" class="Datatype Operator">_⊢_↓_</a>

<a id="plfa_plfa-part3-Denotational-9212" class="Keyword">data</a> <a id="plfa_plfa-part3-Denotational-_⊢_↓_"></a><a id="plfa_plfa-part3-Denotational-9217" href="../Denotational/#plfa_plfa-part3-Denotational-9217" class="Datatype Operator">_⊢_↓_</a> <a id="plfa_plfa-part3-Denotational-9223" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-9225" class="Symbol">∀{</a><a id="plfa_plfa-part3-Denotational-9227" href="../Denotational/#plfa_plfa-part3-Denotational-9227" class="Bound">Γ</a><a id="plfa_plfa-part3-Denotational-9228" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-9230" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-9232" href="../Denotational/#plfa_plfa-part3-Denotational-7135" class="Function">Env</a> <a id="plfa_plfa-part3-Denotational-9236" href="../Denotational/#plfa_plfa-part3-Denotational-9227" class="Bound">Γ</a> <a id="plfa_plfa-part3-Denotational-9238" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-9240" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-9241" href="../Denotational/#plfa_plfa-part3-Denotational-9227" class="Bound">Γ</a> <a id="plfa_plfa-part3-Denotational-9243" href="../Untyped/#plfa_plfa-part2-Untyped-4246" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part3-Denotational-9245" href="../Untyped/#plfa_plfa-part2-Untyped-2820" class="InductiveConstructor">★</a><a id="plfa_plfa-part3-Denotational-9246" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-9248" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-9250" href="../Denotational/#plfa_plfa-part3-Denotational-3974" class="Datatype">Value</a> <a id="plfa_plfa-part3-Denotational-9256" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-9258" href="https://agda.github.io/agda-stdlib/v1.3/Agda.Primitive.html#326" class="Primitive">Set</a> <a id="plfa_plfa-part3-Denotational-9262" class="Keyword">where</a>

  <a id="plfa_plfa-part3-Denotational-_⊢_↓_.var"></a><a id="plfa_plfa-part3-Denotational-9271" href="../Denotational/#plfa_plfa-part3-Denotational-9271" class="InductiveConstructor">var</a> <a id="plfa_plfa-part3-Denotational-9275" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-9277" class="Symbol">∀</a> <a id="plfa_plfa-part3-Denotational-9279" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-9280" href="../Denotational/#plfa_plfa-part3-Denotational-9280" class="Bound">Γ</a><a id="plfa_plfa-part3-Denotational-9281" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-9283" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-9284" href="../Denotational/#plfa_plfa-part3-Denotational-9284" class="Bound">γ</a> <a id="plfa_plfa-part3-Denotational-9286" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-9288" href="../Denotational/#plfa_plfa-part3-Denotational-7135" class="Function">Env</a> <a id="plfa_plfa-part3-Denotational-9292" href="../Denotational/#plfa_plfa-part3-Denotational-9280" class="Bound">Γ</a><a id="plfa_plfa-part3-Denotational-9293" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-9295" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-9296" href="../Denotational/#plfa_plfa-part3-Denotational-9296" class="Bound">x</a><a id="plfa_plfa-part3-Denotational-9297" class="Symbol">}</a>
      <a id="plfa_plfa-part3-Denotational-9305" class="Comment">---------------</a>
    <a id="plfa_plfa-part3-Denotational-9325" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-9327" href="../Denotational/#plfa_plfa-part3-Denotational-9284" class="Bound">γ</a> <a id="plfa_plfa-part3-Denotational-9329" href="../Denotational/#plfa_plfa-part3-Denotational-9217" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part3-Denotational-9331" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-9332" href="../Untyped/#plfa_plfa-part2-Untyped-4282" class="InductiveConstructor Operator">`</a> <a id="plfa_plfa-part3-Denotational-9334" href="../Denotational/#plfa_plfa-part3-Denotational-9296" class="Bound">x</a><a id="plfa_plfa-part3-Denotational-9335" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-9337" href="../Denotational/#plfa_plfa-part3-Denotational-9217" class="Datatype Operator">↓</a> <a id="plfa_plfa-part3-Denotational-9339" href="../Denotational/#plfa_plfa-part3-Denotational-9284" class="Bound">γ</a> <a id="plfa_plfa-part3-Denotational-9341" href="../Denotational/#plfa_plfa-part3-Denotational-9296" class="Bound">x</a>

  <a id="plfa_plfa-part3-Denotational-_⊢_↓_.↦-elim"></a><a id="plfa_plfa-part3-Denotational-9346" href="../Denotational/#plfa_plfa-part3-Denotational-9346" class="InductiveConstructor">↦-elim</a> <a id="plfa_plfa-part3-Denotational-9353" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-9355" class="Symbol">∀</a> <a id="plfa_plfa-part3-Denotational-9357" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-9358" href="../Denotational/#plfa_plfa-part3-Denotational-9358" class="Bound">Γ</a><a id="plfa_plfa-part3-Denotational-9359" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-9361" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-9362" href="../Denotational/#plfa_plfa-part3-Denotational-9362" class="Bound">γ</a> <a id="plfa_plfa-part3-Denotational-9364" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-9366" href="../Denotational/#plfa_plfa-part3-Denotational-7135" class="Function">Env</a> <a id="plfa_plfa-part3-Denotational-9370" href="../Denotational/#plfa_plfa-part3-Denotational-9358" class="Bound">Γ</a><a id="plfa_plfa-part3-Denotational-9371" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-9373" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-9374" href="../Denotational/#plfa_plfa-part3-Denotational-9374" class="Bound">L</a> <a id="plfa_plfa-part3-Denotational-9376" href="../Denotational/#plfa_plfa-part3-Denotational-9376" class="Bound">M</a> <a id="plfa_plfa-part3-Denotational-9378" href="../Denotational/#plfa_plfa-part3-Denotational-9378" class="Bound">v</a> <a id="plfa_plfa-part3-Denotational-9380" href="../Denotational/#plfa_plfa-part3-Denotational-9380" class="Bound">w</a><a id="plfa_plfa-part3-Denotational-9381" class="Symbol">}</a>
    <a id="plfa_plfa-part3-Denotational-9387" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-9389" href="../Denotational/#plfa_plfa-part3-Denotational-9362" class="Bound">γ</a> <a id="plfa_plfa-part3-Denotational-9391" href="../Denotational/#plfa_plfa-part3-Denotational-9217" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part3-Denotational-9393" href="../Denotational/#plfa_plfa-part3-Denotational-9374" class="Bound">L</a> <a id="plfa_plfa-part3-Denotational-9395" href="../Denotational/#plfa_plfa-part3-Denotational-9217" class="Datatype Operator">↓</a> <a id="plfa_plfa-part3-Denotational-9397" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-9398" href="../Denotational/#plfa_plfa-part3-Denotational-9378" class="Bound">v</a> <a id="plfa_plfa-part3-Denotational-9400" href="../Denotational/#plfa_plfa-part3-Denotational-4006" class="InductiveConstructor Operator">↦</a> <a id="plfa_plfa-part3-Denotational-9402" href="../Denotational/#plfa_plfa-part3-Denotational-9380" class="Bound">w</a><a id="plfa_plfa-part3-Denotational-9403" class="Symbol">)</a>
    <a id="plfa_plfa-part3-Denotational-9409" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-9411" href="../Denotational/#plfa_plfa-part3-Denotational-9362" class="Bound">γ</a> <a id="plfa_plfa-part3-Denotational-9413" href="../Denotational/#plfa_plfa-part3-Denotational-9217" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part3-Denotational-9415" href="../Denotational/#plfa_plfa-part3-Denotational-9376" class="Bound">M</a> <a id="plfa_plfa-part3-Denotational-9417" href="../Denotational/#plfa_plfa-part3-Denotational-9217" class="Datatype Operator">↓</a> <a id="plfa_plfa-part3-Denotational-9419" href="../Denotational/#plfa_plfa-part3-Denotational-9378" class="Bound">v</a>
      <a id="plfa_plfa-part3-Denotational-9427" class="Comment">---------------</a>
    <a id="plfa_plfa-part3-Denotational-9447" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-9449" href="../Denotational/#plfa_plfa-part3-Denotational-9362" class="Bound">γ</a> <a id="plfa_plfa-part3-Denotational-9451" href="../Denotational/#plfa_plfa-part3-Denotational-9217" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part3-Denotational-9453" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-9454" href="../Denotational/#plfa_plfa-part3-Denotational-9374" class="Bound">L</a> <a id="plfa_plfa-part3-Denotational-9456" href="../Untyped/#plfa_plfa-part2-Untyped-4394" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part3-Denotational-9458" href="../Denotational/#plfa_plfa-part3-Denotational-9376" class="Bound">M</a><a id="plfa_plfa-part3-Denotational-9459" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-9461" href="../Denotational/#plfa_plfa-part3-Denotational-9217" class="Datatype Operator">↓</a> <a id="plfa_plfa-part3-Denotational-9463" href="../Denotational/#plfa_plfa-part3-Denotational-9380" class="Bound">w</a>

  <a id="plfa_plfa-part3-Denotational-_⊢_↓_.↦-intro"></a><a id="plfa_plfa-part3-Denotational-9468" href="../Denotational/#plfa_plfa-part3-Denotational-9468" class="InductiveConstructor">↦-intro</a> <a id="plfa_plfa-part3-Denotational-9476" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-9478" class="Symbol">∀</a> <a id="plfa_plfa-part3-Denotational-9480" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-9481" href="../Denotational/#plfa_plfa-part3-Denotational-9481" class="Bound">Γ</a><a id="plfa_plfa-part3-Denotational-9482" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-9484" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-9485" href="../Denotational/#plfa_plfa-part3-Denotational-9485" class="Bound">γ</a> <a id="plfa_plfa-part3-Denotational-9487" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-9489" href="../Denotational/#plfa_plfa-part3-Denotational-7135" class="Function">Env</a> <a id="plfa_plfa-part3-Denotational-9493" href="../Denotational/#plfa_plfa-part3-Denotational-9481" class="Bound">Γ</a><a id="plfa_plfa-part3-Denotational-9494" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-9496" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-9497" href="../Denotational/#plfa_plfa-part3-Denotational-9497" class="Bound">N</a> <a id="plfa_plfa-part3-Denotational-9499" href="../Denotational/#plfa_plfa-part3-Denotational-9499" class="Bound">v</a> <a id="plfa_plfa-part3-Denotational-9501" href="../Denotational/#plfa_plfa-part3-Denotational-9501" class="Bound">w</a><a id="plfa_plfa-part3-Denotational-9502" class="Symbol">}</a>
    <a id="plfa_plfa-part3-Denotational-9508" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-9510" href="../Denotational/#plfa_plfa-part3-Denotational-9485" class="Bound">γ</a> <a id="plfa_plfa-part3-Denotational-9512" href="../Denotational/#plfa_plfa-part3-Denotational-7296" class="Function Operator">`,</a> <a id="plfa_plfa-part3-Denotational-9515" href="../Denotational/#plfa_plfa-part3-Denotational-9499" class="Bound">v</a> <a id="plfa_plfa-part3-Denotational-9517" href="../Denotational/#plfa_plfa-part3-Denotational-9217" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part3-Denotational-9519" href="../Denotational/#plfa_plfa-part3-Denotational-9497" class="Bound">N</a> <a id="plfa_plfa-part3-Denotational-9521" href="../Denotational/#plfa_plfa-part3-Denotational-9217" class="Datatype Operator">↓</a> <a id="plfa_plfa-part3-Denotational-9523" href="../Denotational/#plfa_plfa-part3-Denotational-9501" class="Bound">w</a>
      <a id="plfa_plfa-part3-Denotational-9531" class="Comment">-------------------</a>
    <a id="plfa_plfa-part3-Denotational-9555" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-9557" href="../Denotational/#plfa_plfa-part3-Denotational-9485" class="Bound">γ</a> <a id="plfa_plfa-part3-Denotational-9559" href="../Denotational/#plfa_plfa-part3-Denotational-9217" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part3-Denotational-9561" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-9562" href="../Untyped/#plfa_plfa-part2-Untyped-4334" class="InductiveConstructor Operator">ƛ</a> <a id="plfa_plfa-part3-Denotational-9564" href="../Denotational/#plfa_plfa-part3-Denotational-9497" class="Bound">N</a><a id="plfa_plfa-part3-Denotational-9565" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-9567" href="../Denotational/#plfa_plfa-part3-Denotational-9217" class="Datatype Operator">↓</a> <a id="plfa_plfa-part3-Denotational-9569" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-9570" href="../Denotational/#plfa_plfa-part3-Denotational-9499" class="Bound">v</a> <a id="plfa_plfa-part3-Denotational-9572" href="../Denotational/#plfa_plfa-part3-Denotational-4006" class="InductiveConstructor Operator">↦</a> <a id="plfa_plfa-part3-Denotational-9574" href="../Denotational/#plfa_plfa-part3-Denotational-9501" class="Bound">w</a><a id="plfa_plfa-part3-Denotational-9575" class="Symbol">)</a>

  <a id="plfa_plfa-part3-Denotational-_⊢_↓_.⊥-intro"></a><a id="plfa_plfa-part3-Denotational-9580" href="../Denotational/#plfa_plfa-part3-Denotational-9580" class="InductiveConstructor">⊥-intro</a> <a id="plfa_plfa-part3-Denotational-9588" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-9590" class="Symbol">∀</a> <a id="plfa_plfa-part3-Denotational-9592" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-9593" href="../Denotational/#plfa_plfa-part3-Denotational-9593" class="Bound">Γ</a><a id="plfa_plfa-part3-Denotational-9594" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-9596" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-9597" href="../Denotational/#plfa_plfa-part3-Denotational-9597" class="Bound">γ</a> <a id="plfa_plfa-part3-Denotational-9599" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-9601" href="../Denotational/#plfa_plfa-part3-Denotational-7135" class="Function">Env</a> <a id="plfa_plfa-part3-Denotational-9605" href="../Denotational/#plfa_plfa-part3-Denotational-9593" class="Bound">Γ</a><a id="plfa_plfa-part3-Denotational-9606" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-9608" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-9609" href="../Denotational/#plfa_plfa-part3-Denotational-9609" class="Bound">M</a><a id="plfa_plfa-part3-Denotational-9610" class="Symbol">}</a>
      <a id="plfa_plfa-part3-Denotational-9618" class="Comment">---------</a>
    <a id="plfa_plfa-part3-Denotational-9632" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-9634" href="../Denotational/#plfa_plfa-part3-Denotational-9597" class="Bound">γ</a> <a id="plfa_plfa-part3-Denotational-9636" href="../Denotational/#plfa_plfa-part3-Denotational-9217" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part3-Denotational-9638" href="../Denotational/#plfa_plfa-part3-Denotational-9609" class="Bound">M</a> <a id="plfa_plfa-part3-Denotational-9640" href="../Denotational/#plfa_plfa-part3-Denotational-9217" class="Datatype Operator">↓</a> <a id="plfa_plfa-part3-Denotational-9642" href="../Denotational/#plfa_plfa-part3-Denotational-3994" class="InductiveConstructor">⊥</a>

  <a id="plfa_plfa-part3-Denotational-_⊢_↓_.⊔-intro"></a><a id="plfa_plfa-part3-Denotational-9647" href="../Denotational/#plfa_plfa-part3-Denotational-9647" class="InductiveConstructor">⊔-intro</a> <a id="plfa_plfa-part3-Denotational-9655" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-9657" class="Symbol">∀</a> <a id="plfa_plfa-part3-Denotational-9659" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-9660" href="../Denotational/#plfa_plfa-part3-Denotational-9660" class="Bound">Γ</a><a id="plfa_plfa-part3-Denotational-9661" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-9663" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-9664" href="../Denotational/#plfa_plfa-part3-Denotational-9664" class="Bound">γ</a> <a id="plfa_plfa-part3-Denotational-9666" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-9668" href="../Denotational/#plfa_plfa-part3-Denotational-7135" class="Function">Env</a> <a id="plfa_plfa-part3-Denotational-9672" href="../Denotational/#plfa_plfa-part3-Denotational-9660" class="Bound">Γ</a><a id="plfa_plfa-part3-Denotational-9673" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-9675" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-9676" href="../Denotational/#plfa_plfa-part3-Denotational-9676" class="Bound">M</a> <a id="plfa_plfa-part3-Denotational-9678" href="../Denotational/#plfa_plfa-part3-Denotational-9678" class="Bound">v</a> <a id="plfa_plfa-part3-Denotational-9680" href="../Denotational/#plfa_plfa-part3-Denotational-9680" class="Bound">w</a><a id="plfa_plfa-part3-Denotational-9681" class="Symbol">}</a>
    <a id="plfa_plfa-part3-Denotational-9687" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-9689" href="../Denotational/#plfa_plfa-part3-Denotational-9664" class="Bound">γ</a> <a id="plfa_plfa-part3-Denotational-9691" href="../Denotational/#plfa_plfa-part3-Denotational-9217" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part3-Denotational-9693" href="../Denotational/#plfa_plfa-part3-Denotational-9676" class="Bound">M</a> <a id="plfa_plfa-part3-Denotational-9695" href="../Denotational/#plfa_plfa-part3-Denotational-9217" class="Datatype Operator">↓</a> <a id="plfa_plfa-part3-Denotational-9697" href="../Denotational/#plfa_plfa-part3-Denotational-9678" class="Bound">v</a>
    <a id="plfa_plfa-part3-Denotational-9703" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-9705" href="../Denotational/#plfa_plfa-part3-Denotational-9664" class="Bound">γ</a> <a id="plfa_plfa-part3-Denotational-9707" href="../Denotational/#plfa_plfa-part3-Denotational-9217" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part3-Denotational-9709" href="../Denotational/#plfa_plfa-part3-Denotational-9676" class="Bound">M</a> <a id="plfa_plfa-part3-Denotational-9711" href="../Denotational/#plfa_plfa-part3-Denotational-9217" class="Datatype Operator">↓</a> <a id="plfa_plfa-part3-Denotational-9713" href="../Denotational/#plfa_plfa-part3-Denotational-9680" class="Bound">w</a>
      <a id="plfa_plfa-part3-Denotational-9721" class="Comment">---------------</a>
    <a id="plfa_plfa-part3-Denotational-9741" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-9743" href="../Denotational/#plfa_plfa-part3-Denotational-9664" class="Bound">γ</a> <a id="plfa_plfa-part3-Denotational-9745" href="../Denotational/#plfa_plfa-part3-Denotational-9217" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part3-Denotational-9747" href="../Denotational/#plfa_plfa-part3-Denotational-9676" class="Bound">M</a> <a id="plfa_plfa-part3-Denotational-9749" href="../Denotational/#plfa_plfa-part3-Denotational-9217" class="Datatype Operator">↓</a> <a id="plfa_plfa-part3-Denotational-9751" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-9752" href="../Denotational/#plfa_plfa-part3-Denotational-9678" class="Bound">v</a> <a id="plfa_plfa-part3-Denotational-9754" href="../Denotational/#plfa_plfa-part3-Denotational-4036" class="InductiveConstructor Operator">⊔</a> <a id="plfa_plfa-part3-Denotational-9756" href="../Denotational/#plfa_plfa-part3-Denotational-9680" class="Bound">w</a><a id="plfa_plfa-part3-Denotational-9757" class="Symbol">)</a>

  <a id="plfa_plfa-part3-Denotational-_⊢_↓_.sub"></a><a id="plfa_plfa-part3-Denotational-9762" href="../Denotational/#plfa_plfa-part3-Denotational-9762" class="InductiveConstructor">sub</a> <a id="plfa_plfa-part3-Denotational-9766" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-9768" class="Symbol">∀</a> <a id="plfa_plfa-part3-Denotational-9770" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-9771" href="../Denotational/#plfa_plfa-part3-Denotational-9771" class="Bound">Γ</a><a id="plfa_plfa-part3-Denotational-9772" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-9774" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-9775" href="../Denotational/#plfa_plfa-part3-Denotational-9775" class="Bound">γ</a> <a id="plfa_plfa-part3-Denotational-9777" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-9779" href="../Denotational/#plfa_plfa-part3-Denotational-7135" class="Function">Env</a> <a id="plfa_plfa-part3-Denotational-9783" href="../Denotational/#plfa_plfa-part3-Denotational-9771" class="Bound">Γ</a><a id="plfa_plfa-part3-Denotational-9784" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-9786" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-9787" href="../Denotational/#plfa_plfa-part3-Denotational-9787" class="Bound">M</a> <a id="plfa_plfa-part3-Denotational-9789" href="../Denotational/#plfa_plfa-part3-Denotational-9789" class="Bound">v</a> <a id="plfa_plfa-part3-Denotational-9791" href="../Denotational/#plfa_plfa-part3-Denotational-9791" class="Bound">w</a><a id="plfa_plfa-part3-Denotational-9792" class="Symbol">}</a>
    <a id="plfa_plfa-part3-Denotational-9798" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-9800" href="../Denotational/#plfa_plfa-part3-Denotational-9775" class="Bound">γ</a> <a id="plfa_plfa-part3-Denotational-9802" href="../Denotational/#plfa_plfa-part3-Denotational-9217" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part3-Denotational-9804" href="../Denotational/#plfa_plfa-part3-Denotational-9787" class="Bound">M</a> <a id="plfa_plfa-part3-Denotational-9806" href="../Denotational/#plfa_plfa-part3-Denotational-9217" class="Datatype Operator">↓</a> <a id="plfa_plfa-part3-Denotational-9808" href="../Denotational/#plfa_plfa-part3-Denotational-9789" class="Bound">v</a>
    <a id="plfa_plfa-part3-Denotational-9814" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-9816" href="../Denotational/#plfa_plfa-part3-Denotational-9791" class="Bound">w</a> <a id="plfa_plfa-part3-Denotational-9818" href="../Denotational/#plfa_plfa-part3-Denotational-4335" class="Datatype Operator">⊑</a> <a id="plfa_plfa-part3-Denotational-9820" href="../Denotational/#plfa_plfa-part3-Denotational-9789" class="Bound">v</a>
      <a id="plfa_plfa-part3-Denotational-9828" class="Comment">---------</a>
    <a id="plfa_plfa-part3-Denotational-9842" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-9844" href="../Denotational/#plfa_plfa-part3-Denotational-9775" class="Bound">γ</a> <a id="plfa_plfa-part3-Denotational-9846" href="../Denotational/#plfa_plfa-part3-Denotational-9217" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part3-Denotational-9848" href="../Denotational/#plfa_plfa-part3-Denotational-9787" class="Bound">M</a> <a id="plfa_plfa-part3-Denotational-9850" href="../Denotational/#plfa_plfa-part3-Denotational-9217" class="Datatype Operator">↓</a> <a id="plfa_plfa-part3-Denotational-9852" href="../Denotational/#plfa_plfa-part3-Denotational-9791" class="Bound">w</a>
</pre><p>Consider the rule for lambda abstractions, <code>↦-intro</code>. It says that a lambda abstraction results in a single-entry table that maps the input <code>v</code> to the output <code>w</code>, provided that evaluating the body in an environment with <code>v</code> bound to its parameter produces the output <code>w</code>. As a simple example of this rule, we can see that the identity function maps <code>⊥</code> to <code>⊥</code> and also that it maps <code>⊥ ↦ ⊥</code> to <code>⊥ ↦ ⊥</code>.</p><pre class="Agda"><a id="plfa_plfa-part3-Denotational-id"></a><a id="plfa_plfa-part3-Denotational-10271" href="../Denotational/#plfa_plfa-part3-Denotational-10271" class="Function">id</a> <a id="plfa_plfa-part3-Denotational-10274" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-10276" href="../Untyped/#plfa_plfa-part2-Untyped-3115" class="InductiveConstructor">∅</a> <a id="plfa_plfa-part3-Denotational-10278" href="../Untyped/#plfa_plfa-part2-Untyped-4246" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part3-Denotational-10280" href="../Untyped/#plfa_plfa-part2-Untyped-2820" class="InductiveConstructor">★</a>
<a id="plfa_plfa-part3-Denotational-10282" href="../Denotational/#plfa_plfa-part3-Denotational-10271" class="Function">id</a> <a id="plfa_plfa-part3-Denotational-10285" class="Symbol">=</a> <a id="plfa_plfa-part3-Denotational-10287" href="../Untyped/#plfa_plfa-part2-Untyped-4334" class="InductiveConstructor Operator">ƛ</a> <a id="plfa_plfa-part3-Denotational-10289" href="../Untyped/#plfa_plfa-part2-Untyped-5071" class="Function Operator">#</a> <a id="plfa_plfa-part3-Denotational-10291" class="Number">0</a>
</pre><pre class="Agda"><a id="plfa_plfa-part3-Denotational-denot-id1"></a><a id="plfa_plfa-part3-Denotational-10306" href="../Denotational/#plfa_plfa-part3-Denotational-10306" class="Function">denot-id1</a> <a id="plfa_plfa-part3-Denotational-10316" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-10318" class="Symbol">∀</a> <a id="plfa_plfa-part3-Denotational-10320" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-10321" href="../Denotational/#plfa_plfa-part3-Denotational-10321" class="Bound">γ</a><a id="plfa_plfa-part3-Denotational-10322" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-10324" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-10326" href="../Denotational/#plfa_plfa-part3-Denotational-10321" class="Bound">γ</a> <a id="plfa_plfa-part3-Denotational-10328" href="../Denotational/#plfa_plfa-part3-Denotational-9217" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part3-Denotational-10330" href="../Denotational/#plfa_plfa-part3-Denotational-10271" class="Function">id</a> <a id="plfa_plfa-part3-Denotational-10333" href="../Denotational/#plfa_plfa-part3-Denotational-9217" class="Datatype Operator">↓</a> <a id="plfa_plfa-part3-Denotational-10335" href="../Denotational/#plfa_plfa-part3-Denotational-3994" class="InductiveConstructor">⊥</a> <a id="plfa_plfa-part3-Denotational-10337" href="../Denotational/#plfa_plfa-part3-Denotational-4006" class="InductiveConstructor Operator">↦</a> <a id="plfa_plfa-part3-Denotational-10339" href="../Denotational/#plfa_plfa-part3-Denotational-3994" class="InductiveConstructor">⊥</a>
<a id="plfa_plfa-part3-Denotational-10341" href="../Denotational/#plfa_plfa-part3-Denotational-10306" class="Function">denot-id1</a> <a id="plfa_plfa-part3-Denotational-10351" class="Symbol">=</a> <a id="plfa_plfa-part3-Denotational-10353" href="../Denotational/#plfa_plfa-part3-Denotational-9468" class="InductiveConstructor">↦-intro</a> <a id="plfa_plfa-part3-Denotational-10361" href="../Denotational/#plfa_plfa-part3-Denotational-9271" class="InductiveConstructor">var</a>

<a id="plfa_plfa-part3-Denotational-denot-id2"></a><a id="plfa_plfa-part3-Denotational-10366" href="../Denotational/#plfa_plfa-part3-Denotational-10366" class="Function">denot-id2</a> <a id="plfa_plfa-part3-Denotational-10376" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-10378" class="Symbol">∀</a> <a id="plfa_plfa-part3-Denotational-10380" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-10381" href="../Denotational/#plfa_plfa-part3-Denotational-10381" class="Bound">γ</a><a id="plfa_plfa-part3-Denotational-10382" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-10384" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-10386" href="../Denotational/#plfa_plfa-part3-Denotational-10381" class="Bound">γ</a> <a id="plfa_plfa-part3-Denotational-10388" href="../Denotational/#plfa_plfa-part3-Denotational-9217" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part3-Denotational-10390" href="../Denotational/#plfa_plfa-part3-Denotational-10271" class="Function">id</a> <a id="plfa_plfa-part3-Denotational-10393" href="../Denotational/#plfa_plfa-part3-Denotational-9217" class="Datatype Operator">↓</a> <a id="plfa_plfa-part3-Denotational-10395" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-10396" href="../Denotational/#plfa_plfa-part3-Denotational-3994" class="InductiveConstructor">⊥</a> <a id="plfa_plfa-part3-Denotational-10398" href="../Denotational/#plfa_plfa-part3-Denotational-4006" class="InductiveConstructor Operator">↦</a> <a id="plfa_plfa-part3-Denotational-10400" href="../Denotational/#plfa_plfa-part3-Denotational-3994" class="InductiveConstructor">⊥</a><a id="plfa_plfa-part3-Denotational-10401" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-10403" href="../Denotational/#plfa_plfa-part3-Denotational-4006" class="InductiveConstructor Operator">↦</a> <a id="plfa_plfa-part3-Denotational-10405" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-10406" href="../Denotational/#plfa_plfa-part3-Denotational-3994" class="InductiveConstructor">⊥</a> <a id="plfa_plfa-part3-Denotational-10408" href="../Denotational/#plfa_plfa-part3-Denotational-4006" class="InductiveConstructor Operator">↦</a> <a id="plfa_plfa-part3-Denotational-10410" href="../Denotational/#plfa_plfa-part3-Denotational-3994" class="InductiveConstructor">⊥</a><a id="plfa_plfa-part3-Denotational-10411" class="Symbol">)</a>
<a id="plfa_plfa-part3-Denotational-10413" href="../Denotational/#plfa_plfa-part3-Denotational-10366" class="Function">denot-id2</a> <a id="plfa_plfa-part3-Denotational-10423" class="Symbol">=</a> <a id="plfa_plfa-part3-Denotational-10425" href="../Denotational/#plfa_plfa-part3-Denotational-9468" class="InductiveConstructor">↦-intro</a> <a id="plfa_plfa-part3-Denotational-10433" href="../Denotational/#plfa_plfa-part3-Denotational-9271" class="InductiveConstructor">var</a>
</pre><p>Of course, we will need tables with many rows to capture the meaning of lambda abstractions. These can be constructed using the <code>⊔-intro</code> rule. If term M (typically a lambda abstraction) can produce both tables <code>v</code> and <code>w</code>, then it produces the combined table <code>v ⊔ w</code>. One can take an operational view of the rules <code>↦-intro</code> and <code>⊔-intro</code> by imagining that when an interpreter first comes to a lambda abstraction, it pre-evaluates the function on a bunch of randomly chosen arguments, using many instances of the rule <code>↦-intro</code>, and then joins them into a big table using many instances of the rule <code>⊔-intro</code>. In the following we show that the identity function produces a table containing both of the previous results, <code>⊥ ↦ ⊥</code> and <code>(⊥ ↦ ⊥) ↦ (⊥ ↦ ⊥)</code>.</p><pre class="Agda"><a id="plfa_plfa-part3-Denotational-denot-id3"></a><a id="plfa_plfa-part3-Denotational-11205" href="../Denotational/#plfa_plfa-part3-Denotational-11205" class="Function">denot-id3</a> <a id="plfa_plfa-part3-Denotational-11215" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-11217" href="../Denotational/#plfa_plfa-part3-Denotational-7263" class="Function">`∅</a> <a id="plfa_plfa-part3-Denotational-11220" href="../Denotational/#plfa_plfa-part3-Denotational-9217" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part3-Denotational-11222" href="../Denotational/#plfa_plfa-part3-Denotational-10271" class="Function">id</a> <a id="plfa_plfa-part3-Denotational-11225" href="../Denotational/#plfa_plfa-part3-Denotational-9217" class="Datatype Operator">↓</a> <a id="plfa_plfa-part3-Denotational-11227" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-11228" href="../Denotational/#plfa_plfa-part3-Denotational-3994" class="InductiveConstructor">⊥</a> <a id="plfa_plfa-part3-Denotational-11230" href="../Denotational/#plfa_plfa-part3-Denotational-4006" class="InductiveConstructor Operator">↦</a> <a id="plfa_plfa-part3-Denotational-11232" href="../Denotational/#plfa_plfa-part3-Denotational-3994" class="InductiveConstructor">⊥</a><a id="plfa_plfa-part3-Denotational-11233" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-11235" href="../Denotational/#plfa_plfa-part3-Denotational-4036" class="InductiveConstructor Operator">⊔</a> <a id="plfa_plfa-part3-Denotational-11237" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-11238" href="../Denotational/#plfa_plfa-part3-Denotational-3994" class="InductiveConstructor">⊥</a> <a id="plfa_plfa-part3-Denotational-11240" href="../Denotational/#plfa_plfa-part3-Denotational-4006" class="InductiveConstructor Operator">↦</a> <a id="plfa_plfa-part3-Denotational-11242" href="../Denotational/#plfa_plfa-part3-Denotational-3994" class="InductiveConstructor">⊥</a><a id="plfa_plfa-part3-Denotational-11243" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-11245" href="../Denotational/#plfa_plfa-part3-Denotational-4006" class="InductiveConstructor Operator">↦</a> <a id="plfa_plfa-part3-Denotational-11247" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-11248" href="../Denotational/#plfa_plfa-part3-Denotational-3994" class="InductiveConstructor">⊥</a> <a id="plfa_plfa-part3-Denotational-11250" href="../Denotational/#plfa_plfa-part3-Denotational-4006" class="InductiveConstructor Operator">↦</a> <a id="plfa_plfa-part3-Denotational-11252" href="../Denotational/#plfa_plfa-part3-Denotational-3994" class="InductiveConstructor">⊥</a><a id="plfa_plfa-part3-Denotational-11253" class="Symbol">)</a>
<a id="plfa_plfa-part3-Denotational-11255" href="../Denotational/#plfa_plfa-part3-Denotational-11205" class="Function">denot-id3</a> <a id="plfa_plfa-part3-Denotational-11265" class="Symbol">=</a> <a id="plfa_plfa-part3-Denotational-11267" href="../Denotational/#plfa_plfa-part3-Denotational-9647" class="InductiveConstructor">⊔-intro</a> <a id="plfa_plfa-part3-Denotational-11275" href="../Denotational/#plfa_plfa-part3-Denotational-10306" class="Function">denot-id1</a> <a id="plfa_plfa-part3-Denotational-11285" href="../Denotational/#plfa_plfa-part3-Denotational-10366" class="Function">denot-id2</a>
</pre><p>We most often think of the judgment <code>γ ⊢ M ↓ v</code> as taking the environment <code>γ</code> and term <code>M</code> as input, producing the result <code>v</code>. However, it is worth emphasizing that the semantics is a <em>relation</em>. The above results for the identity function show that the same environment and term can be mapped to different results. However, the results for a given <code>γ</code> and <code>M</code> are not <em>too</em> different, they are all finite approximations of the same function. Perhaps a better way of thinking about the judgment <code>γ ⊢ M ↓ v</code> is that the <code>γ</code>, <code>M</code>, and <code>v</code> are all inputs and the semantics either confirms or denies whether <code>v</code> is an accurate partial description of the result of <code>M</code> in environment <code>γ</code>.</p><p>Next we consider the meaning of function application as given by the <code>↦-elim</code> rule. In the premise of the rule we have that <code>L</code> maps <code>v</code> to <code>w</code>. So if <code>M</code> produces <code>v</code>, then the application of <code>L</code> to <code>M</code> produces <code>w</code>.</p><p>As an example of function application and the <code>↦-elim</code> rule, we apply the identity function to itself. Indeed, we have both that <code>∅ ⊢ id ↓ (u ↦ u) ↦ (u ↦ u)</code> and also <code>∅ ⊢ id ↓ (u ↦ u)</code>, so we can apply the rule <code>↦-elim</code>.</p><pre class="Agda"><a id="plfa_plfa-part3-Denotational-id-app-id"></a><a id="plfa_plfa-part3-Denotational-12438" href="../Denotational/#plfa_plfa-part3-Denotational-12438" class="Function">id-app-id</a> <a id="plfa_plfa-part3-Denotational-12448" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-12450" class="Symbol">∀</a> <a id="plfa_plfa-part3-Denotational-12452" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-12453" href="../Denotational/#plfa_plfa-part3-Denotational-12453" class="Bound">u</a> <a id="plfa_plfa-part3-Denotational-12455" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-12457" href="../Denotational/#plfa_plfa-part3-Denotational-3974" class="Datatype">Value</a><a id="plfa_plfa-part3-Denotational-12462" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-12464" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-12466" href="../Denotational/#plfa_plfa-part3-Denotational-7263" class="Function">`∅</a> <a id="plfa_plfa-part3-Denotational-12469" href="../Denotational/#plfa_plfa-part3-Denotational-9217" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part3-Denotational-12471" href="../Denotational/#plfa_plfa-part3-Denotational-10271" class="Function">id</a> <a id="plfa_plfa-part3-Denotational-12474" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part3-Denotational-12476" href="../Denotational/#plfa_plfa-part3-Denotational-10271" class="Function">id</a> <a id="plfa_plfa-part3-Denotational-12479" href="../Denotational/#plfa_plfa-part3-Denotational-9217" class="Datatype Operator">↓</a> <a id="plfa_plfa-part3-Denotational-12481" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-12482" href="../Denotational/#plfa_plfa-part3-Denotational-12453" class="Bound">u</a> <a id="plfa_plfa-part3-Denotational-12484" href="../Denotational/#plfa_plfa-part3-Denotational-4006" class="InductiveConstructor Operator">↦</a> <a id="plfa_plfa-part3-Denotational-12486" href="../Denotational/#plfa_plfa-part3-Denotational-12453" class="Bound">u</a><a id="plfa_plfa-part3-Denotational-12487" class="Symbol">)</a>
<a id="plfa_plfa-part3-Denotational-12489" href="../Denotational/#plfa_plfa-part3-Denotational-12438" class="Function">id-app-id</a> <a id="plfa_plfa-part3-Denotational-12499" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-12500" href="../Denotational/#plfa_plfa-part3-Denotational-12500" class="Bound">u</a><a id="plfa_plfa-part3-Denotational-12501" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-12503" class="Symbol">=</a> <a id="plfa_plfa-part3-Denotational-12505" href="../Denotational/#plfa_plfa-part3-Denotational-9346" class="InductiveConstructor">↦-elim</a> <a id="plfa_plfa-part3-Denotational-12512" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-12513" href="../Denotational/#plfa_plfa-part3-Denotational-9468" class="InductiveConstructor">↦-intro</a> <a id="plfa_plfa-part3-Denotational-12521" href="../Denotational/#plfa_plfa-part3-Denotational-9271" class="InductiveConstructor">var</a><a id="plfa_plfa-part3-Denotational-12524" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-12526" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-12527" href="../Denotational/#plfa_plfa-part3-Denotational-9468" class="InductiveConstructor">↦-intro</a> <a id="plfa_plfa-part3-Denotational-12535" href="../Denotational/#plfa_plfa-part3-Denotational-9271" class="InductiveConstructor">var</a><a id="plfa_plfa-part3-Denotational-12538" class="Symbol">)</a>
</pre><p>Next we revisit the Church numeral two: <code>λ f. λ u. (f (f u))</code>. This function has two parameters: a function <code>f</code> and an arbitrary value <code>u</code>, and it applies <code>f</code> twice. So <code>f</code> must map <code>u</code> to some value, which we’ll name <code>v</code>. Then for the second application, <code>f</code> must map <code>v</code> to some value. Let’s name it <code>w</code>. So the function’s table must include two entries, both <code>u ↦ v</code> and <code>v ↦ w</code>. For each application of the table, we extract the appropriate entry from it using the <code>sub</code> rule. In particular, we use the ⊑-conj-R1 and ⊑-conj-R2 to select <code>u ↦ v</code> and <code>v ↦ w</code>, respectively, from the table <code>u ↦ v ⊔ v ↦ w</code>. So the meaning of twoᶜ is that it takes this table and parameter <code>u</code>, and it returns <code>w</code>. Indeed we derive this as follows.</p><pre class="Agda"><a id="plfa_plfa-part3-Denotational-denot-twoᶜ"></a><a id="plfa_plfa-part3-Denotational-13288" href="../Denotational/#plfa_plfa-part3-Denotational-13288" class="Function">denot-twoᶜ</a> <a id="plfa_plfa-part3-Denotational-13299" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-13301" class="Symbol">∀{</a><a id="plfa_plfa-part3-Denotational-13303" href="../Denotational/#plfa_plfa-part3-Denotational-13303" class="Bound">u</a> <a id="plfa_plfa-part3-Denotational-13305" href="../Denotational/#plfa_plfa-part3-Denotational-13305" class="Bound">v</a> <a id="plfa_plfa-part3-Denotational-13307" href="../Denotational/#plfa_plfa-part3-Denotational-13307" class="Bound">w</a> <a id="plfa_plfa-part3-Denotational-13309" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-13311" href="../Denotational/#plfa_plfa-part3-Denotational-3974" class="Datatype">Value</a><a id="plfa_plfa-part3-Denotational-13316" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-13318" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-13320" href="../Denotational/#plfa_plfa-part3-Denotational-7263" class="Function">`∅</a> <a id="plfa_plfa-part3-Denotational-13323" href="../Denotational/#plfa_plfa-part3-Denotational-9217" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part3-Denotational-13325" href="../Untyped/#plfa_plfa-part2-Untyped-5206" class="Function">twoᶜ</a> <a id="plfa_plfa-part3-Denotational-13330" href="../Denotational/#plfa_plfa-part3-Denotational-9217" class="Datatype Operator">↓</a> <a id="plfa_plfa-part3-Denotational-13332" class="Symbol">((</a><a id="plfa_plfa-part3-Denotational-13334" href="../Denotational/#plfa_plfa-part3-Denotational-13303" class="Bound">u</a> <a id="plfa_plfa-part3-Denotational-13336" href="../Denotational/#plfa_plfa-part3-Denotational-4006" class="InductiveConstructor Operator">↦</a> <a id="plfa_plfa-part3-Denotational-13338" href="../Denotational/#plfa_plfa-part3-Denotational-13305" class="Bound">v</a> <a id="plfa_plfa-part3-Denotational-13340" href="../Denotational/#plfa_plfa-part3-Denotational-4036" class="InductiveConstructor Operator">⊔</a> <a id="plfa_plfa-part3-Denotational-13342" href="../Denotational/#plfa_plfa-part3-Denotational-13305" class="Bound">v</a> <a id="plfa_plfa-part3-Denotational-13344" href="../Denotational/#plfa_plfa-part3-Denotational-4006" class="InductiveConstructor Operator">↦</a> <a id="plfa_plfa-part3-Denotational-13346" href="../Denotational/#plfa_plfa-part3-Denotational-13307" class="Bound">w</a><a id="plfa_plfa-part3-Denotational-13347" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-13349" href="../Denotational/#plfa_plfa-part3-Denotational-4006" class="InductiveConstructor Operator">↦</a> <a id="plfa_plfa-part3-Denotational-13351" href="../Denotational/#plfa_plfa-part3-Denotational-13303" class="Bound">u</a> <a id="plfa_plfa-part3-Denotational-13353" href="../Denotational/#plfa_plfa-part3-Denotational-4006" class="InductiveConstructor Operator">↦</a> <a id="plfa_plfa-part3-Denotational-13355" href="../Denotational/#plfa_plfa-part3-Denotational-13307" class="Bound">w</a><a id="plfa_plfa-part3-Denotational-13356" class="Symbol">)</a>
<a id="plfa_plfa-part3-Denotational-13358" href="../Denotational/#plfa_plfa-part3-Denotational-13288" class="Function">denot-twoᶜ</a> <a id="plfa_plfa-part3-Denotational-13369" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-13370" href="../Denotational/#plfa_plfa-part3-Denotational-13370" class="Bound">u</a><a id="plfa_plfa-part3-Denotational-13371" class="Symbol">}{</a><a id="plfa_plfa-part3-Denotational-13373" href="../Denotational/#plfa_plfa-part3-Denotational-13373" class="Bound">v</a><a id="plfa_plfa-part3-Denotational-13374" class="Symbol">}{</a><a id="plfa_plfa-part3-Denotational-13376" href="../Denotational/#plfa_plfa-part3-Denotational-13376" class="Bound">w</a><a id="plfa_plfa-part3-Denotational-13377" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-13379" class="Symbol">=</a>
  <a id="plfa_plfa-part3-Denotational-13383" href="../Denotational/#plfa_plfa-part3-Denotational-9468" class="InductiveConstructor">↦-intro</a> <a id="plfa_plfa-part3-Denotational-13391" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-13392" href="../Denotational/#plfa_plfa-part3-Denotational-9468" class="InductiveConstructor">↦-intro</a> <a id="plfa_plfa-part3-Denotational-13400" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-13401" href="../Denotational/#plfa_plfa-part3-Denotational-9346" class="InductiveConstructor">↦-elim</a> <a id="plfa_plfa-part3-Denotational-13408" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-13409" href="../Denotational/#plfa_plfa-part3-Denotational-9762" class="InductiveConstructor">sub</a> <a id="plfa_plfa-part3-Denotational-13413" href="../Denotational/#plfa_plfa-part3-Denotational-9271" class="InductiveConstructor">var</a> <a id="plfa_plfa-part3-Denotational-13417" href="../Denotational/#plfa_plfa-part3-Denotational-13459" class="Function">lt1</a><a id="plfa_plfa-part3-Denotational-13420" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-13422" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-13423" href="../Denotational/#plfa_plfa-part3-Denotational-9346" class="InductiveConstructor">↦-elim</a> <a id="plfa_plfa-part3-Denotational-13430" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-13431" href="../Denotational/#plfa_plfa-part3-Denotational-9762" class="InductiveConstructor">sub</a> <a id="plfa_plfa-part3-Denotational-13435" href="../Denotational/#plfa_plfa-part3-Denotational-9271" class="InductiveConstructor">var</a> <a id="plfa_plfa-part3-Denotational-13439" href="../Denotational/#plfa_plfa-part3-Denotational-13542" class="Function">lt2</a><a id="plfa_plfa-part3-Denotational-13442" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-13444" href="../Denotational/#plfa_plfa-part3-Denotational-9271" class="InductiveConstructor">var</a><a id="plfa_plfa-part3-Denotational-13447" class="Symbol">)))</a>
  <a id="plfa_plfa-part3-Denotational-13453" class="Keyword">where</a> <a id="plfa_plfa-part3-Denotational-13459" href="../Denotational/#plfa_plfa-part3-Denotational-13459" class="Function">lt1</a> <a id="plfa_plfa-part3-Denotational-13463" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-13465" href="../Denotational/#plfa_plfa-part3-Denotational-13373" class="Bound">v</a> <a id="plfa_plfa-part3-Denotational-13467" href="../Denotational/#plfa_plfa-part3-Denotational-4006" class="InductiveConstructor Operator">↦</a> <a id="plfa_plfa-part3-Denotational-13469" href="../Denotational/#plfa_plfa-part3-Denotational-13376" class="Bound">w</a> <a id="plfa_plfa-part3-Denotational-13471" href="../Denotational/#plfa_plfa-part3-Denotational-4335" class="Datatype Operator">⊑</a> <a id="plfa_plfa-part3-Denotational-13473" href="../Denotational/#plfa_plfa-part3-Denotational-13370" class="Bound">u</a> <a id="plfa_plfa-part3-Denotational-13475" href="../Denotational/#plfa_plfa-part3-Denotational-4006" class="InductiveConstructor Operator">↦</a> <a id="plfa_plfa-part3-Denotational-13477" href="../Denotational/#plfa_plfa-part3-Denotational-13373" class="Bound">v</a> <a id="plfa_plfa-part3-Denotational-13479" href="../Denotational/#plfa_plfa-part3-Denotational-4036" class="InductiveConstructor Operator">⊔</a> <a id="plfa_plfa-part3-Denotational-13481" href="../Denotational/#plfa_plfa-part3-Denotational-13373" class="Bound">v</a> <a id="plfa_plfa-part3-Denotational-13483" href="../Denotational/#plfa_plfa-part3-Denotational-4006" class="InductiveConstructor Operator">↦</a> <a id="plfa_plfa-part3-Denotational-13485" href="../Denotational/#plfa_plfa-part3-Denotational-13376" class="Bound">w</a>
        <a id="plfa_plfa-part3-Denotational-13495" href="../Denotational/#plfa_plfa-part3-Denotational-13459" class="Function">lt1</a> <a id="plfa_plfa-part3-Denotational-13499" class="Symbol">=</a> <a id="plfa_plfa-part3-Denotational-13501" href="../Denotational/#plfa_plfa-part3-Denotational-4552" class="InductiveConstructor">⊑-conj-R2</a> <a id="plfa_plfa-part3-Denotational-13511" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-13512" href="../Denotational/#plfa_plfa-part3-Denotational-4696" class="InductiveConstructor">⊑-fun</a> <a id="plfa_plfa-part3-Denotational-13518" href="../Denotational/#plfa_plfa-part3-Denotational-5469" class="Function">⊑-refl</a> <a id="plfa_plfa-part3-Denotational-13525" href="../Denotational/#plfa_plfa-part3-Denotational-5469" class="Function">⊑-refl</a><a id="plfa_plfa-part3-Denotational-13531" class="Symbol">)</a>

        <a id="plfa_plfa-part3-Denotational-13542" href="../Denotational/#plfa_plfa-part3-Denotational-13542" class="Function">lt2</a> <a id="plfa_plfa-part3-Denotational-13546" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-13548" href="../Denotational/#plfa_plfa-part3-Denotational-13370" class="Bound">u</a> <a id="plfa_plfa-part3-Denotational-13550" href="../Denotational/#plfa_plfa-part3-Denotational-4006" class="InductiveConstructor Operator">↦</a> <a id="plfa_plfa-part3-Denotational-13552" href="../Denotational/#plfa_plfa-part3-Denotational-13373" class="Bound">v</a> <a id="plfa_plfa-part3-Denotational-13554" href="../Denotational/#plfa_plfa-part3-Denotational-4335" class="Datatype Operator">⊑</a> <a id="plfa_plfa-part3-Denotational-13556" href="../Denotational/#plfa_plfa-part3-Denotational-13370" class="Bound">u</a> <a id="plfa_plfa-part3-Denotational-13558" href="../Denotational/#plfa_plfa-part3-Denotational-4006" class="InductiveConstructor Operator">↦</a> <a id="plfa_plfa-part3-Denotational-13560" href="../Denotational/#plfa_plfa-part3-Denotational-13373" class="Bound">v</a> <a id="plfa_plfa-part3-Denotational-13562" href="../Denotational/#plfa_plfa-part3-Denotational-4036" class="InductiveConstructor Operator">⊔</a> <a id="plfa_plfa-part3-Denotational-13564" href="../Denotational/#plfa_plfa-part3-Denotational-13373" class="Bound">v</a> <a id="plfa_plfa-part3-Denotational-13566" href="../Denotational/#plfa_plfa-part3-Denotational-4006" class="InductiveConstructor Operator">↦</a> <a id="plfa_plfa-part3-Denotational-13568" href="../Denotational/#plfa_plfa-part3-Denotational-13376" class="Bound">w</a>
        <a id="plfa_plfa-part3-Denotational-13578" href="../Denotational/#plfa_plfa-part3-Denotational-13542" class="Function">lt2</a> <a id="plfa_plfa-part3-Denotational-13582" class="Symbol">=</a> <a id="plfa_plfa-part3-Denotational-13584" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-13585" href="../Denotational/#plfa_plfa-part3-Denotational-4479" class="InductiveConstructor">⊑-conj-R1</a> <a id="plfa_plfa-part3-Denotational-13595" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-13596" href="../Denotational/#plfa_plfa-part3-Denotational-4696" class="InductiveConstructor">⊑-fun</a> <a id="plfa_plfa-part3-Denotational-13602" href="../Denotational/#plfa_plfa-part3-Denotational-5469" class="Function">⊑-refl</a> <a id="plfa_plfa-part3-Denotational-13609" href="../Denotational/#plfa_plfa-part3-Denotational-5469" class="Function">⊑-refl</a><a id="plfa_plfa-part3-Denotational-13615" class="Symbol">))</a>
</pre><p>Next we have a classic example of self application: <code>Δ = λx. (x x)</code>. The input value for <code>x</code> needs to be a table, and it needs to have an entry that maps a smaller version of itself, call it <code>v</code>, to some value <code>w</code>. So the input value looks like <code>v ↦ w ⊔ v</code>. Of course, then the output of <code>Δ</code> is <code>w</code>. The derivation is given below. The first occurrences of <code>x</code> evaluates to <code>v ↦ w</code>, the second occurrence of <code>x</code> evaluates to <code>v</code>, and then the result of the application is <code>w</code>.</p><pre class="Agda"><a id="plfa_plfa-part3-Denotational-Δ"></a><a id="plfa_plfa-part3-Denotational-14110" href="../Denotational/#plfa_plfa-part3-Denotational-14110" class="Function">Δ</a> <a id="plfa_plfa-part3-Denotational-14112" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-14114" href="../Untyped/#plfa_plfa-part2-Untyped-3115" class="InductiveConstructor">∅</a> <a id="plfa_plfa-part3-Denotational-14116" href="../Untyped/#plfa_plfa-part2-Untyped-4246" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part3-Denotational-14118" href="../Untyped/#plfa_plfa-part2-Untyped-2820" class="InductiveConstructor">★</a>
<a id="plfa_plfa-part3-Denotational-14120" href="../Denotational/#plfa_plfa-part3-Denotational-14110" class="Function">Δ</a> <a id="plfa_plfa-part3-Denotational-14122" class="Symbol">=</a> <a id="plfa_plfa-part3-Denotational-14124" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-14125" href="../Untyped/#plfa_plfa-part2-Untyped-4334" class="InductiveConstructor Operator">ƛ</a> <a id="plfa_plfa-part3-Denotational-14127" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-14128" href="../Untyped/#plfa_plfa-part2-Untyped-5071" class="Function Operator">#</a> <a id="plfa_plfa-part3-Denotational-14130" class="Number">0</a><a id="plfa_plfa-part3-Denotational-14131" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-14133" href="../Untyped/#plfa_plfa-part2-Untyped-4394" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part3-Denotational-14135" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-14136" href="../Untyped/#plfa_plfa-part2-Untyped-5071" class="Function Operator">#</a> <a id="plfa_plfa-part3-Denotational-14138" class="Number">0</a><a id="plfa_plfa-part3-Denotational-14139" class="Symbol">))</a>

<a id="plfa_plfa-part3-Denotational-denot-Δ"></a><a id="plfa_plfa-part3-Denotational-14143" href="../Denotational/#plfa_plfa-part3-Denotational-14143" class="Function">denot-Δ</a> <a id="plfa_plfa-part3-Denotational-14151" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-14153" class="Symbol">∀</a> <a id="plfa_plfa-part3-Denotational-14155" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-14156" href="../Denotational/#plfa_plfa-part3-Denotational-14156" class="Bound">v</a> <a id="plfa_plfa-part3-Denotational-14158" href="../Denotational/#plfa_plfa-part3-Denotational-14158" class="Bound">w</a><a id="plfa_plfa-part3-Denotational-14159" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-14161" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-14163" href="../Denotational/#plfa_plfa-part3-Denotational-7263" class="Function">`∅</a> <a id="plfa_plfa-part3-Denotational-14166" href="../Denotational/#plfa_plfa-part3-Denotational-9217" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part3-Denotational-14168" href="../Denotational/#plfa_plfa-part3-Denotational-14110" class="Function">Δ</a> <a id="plfa_plfa-part3-Denotational-14170" href="../Denotational/#plfa_plfa-part3-Denotational-9217" class="Datatype Operator">↓</a> <a id="plfa_plfa-part3-Denotational-14172" class="Symbol">((</a><a id="plfa_plfa-part3-Denotational-14174" href="../Denotational/#plfa_plfa-part3-Denotational-14156" class="Bound">v</a> <a id="plfa_plfa-part3-Denotational-14176" href="../Denotational/#plfa_plfa-part3-Denotational-4006" class="InductiveConstructor Operator">↦</a> <a id="plfa_plfa-part3-Denotational-14178" href="../Denotational/#plfa_plfa-part3-Denotational-14158" class="Bound">w</a> <a id="plfa_plfa-part3-Denotational-14180" href="../Denotational/#plfa_plfa-part3-Denotational-4036" class="InductiveConstructor Operator">⊔</a> <a id="plfa_plfa-part3-Denotational-14182" href="../Denotational/#plfa_plfa-part3-Denotational-14156" class="Bound">v</a><a id="plfa_plfa-part3-Denotational-14183" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-14185" href="../Denotational/#plfa_plfa-part3-Denotational-4006" class="InductiveConstructor Operator">↦</a> <a id="plfa_plfa-part3-Denotational-14187" href="../Denotational/#plfa_plfa-part3-Denotational-14158" class="Bound">w</a><a id="plfa_plfa-part3-Denotational-14188" class="Symbol">)</a>
<a id="plfa_plfa-part3-Denotational-14190" href="../Denotational/#plfa_plfa-part3-Denotational-14143" class="Function">denot-Δ</a> <a id="plfa_plfa-part3-Denotational-14198" class="Symbol">=</a> <a id="plfa_plfa-part3-Denotational-14200" href="../Denotational/#plfa_plfa-part3-Denotational-9468" class="InductiveConstructor">↦-intro</a> <a id="plfa_plfa-part3-Denotational-14208" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-14209" href="../Denotational/#plfa_plfa-part3-Denotational-9346" class="InductiveConstructor">↦-elim</a> <a id="plfa_plfa-part3-Denotational-14216" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-14217" href="../Denotational/#plfa_plfa-part3-Denotational-9762" class="InductiveConstructor">sub</a> <a id="plfa_plfa-part3-Denotational-14221" href="../Denotational/#plfa_plfa-part3-Denotational-9271" class="InductiveConstructor">var</a> <a id="plfa_plfa-part3-Denotational-14225" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-14226" href="../Denotational/#plfa_plfa-part3-Denotational-4479" class="InductiveConstructor">⊑-conj-R1</a> <a id="plfa_plfa-part3-Denotational-14236" href="../Denotational/#plfa_plfa-part3-Denotational-5469" class="Function">⊑-refl</a><a id="plfa_plfa-part3-Denotational-14242" class="Symbol">))</a>
                          <a id="plfa_plfa-part3-Denotational-14271" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-14272" href="../Denotational/#plfa_plfa-part3-Denotational-9762" class="InductiveConstructor">sub</a> <a id="plfa_plfa-part3-Denotational-14276" href="../Denotational/#plfa_plfa-part3-Denotational-9271" class="InductiveConstructor">var</a> <a id="plfa_plfa-part3-Denotational-14280" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-14281" href="../Denotational/#plfa_plfa-part3-Denotational-4552" class="InductiveConstructor">⊑-conj-R2</a> <a id="plfa_plfa-part3-Denotational-14291" href="../Denotational/#plfa_plfa-part3-Denotational-5469" class="Function">⊑-refl</a><a id="plfa_plfa-part3-Denotational-14297" class="Symbol">)))</a>
</pre><p>One might worry whether this semantics can deal with diverging programs. The <code>⊥</code> value and the <code>⊥-intro</code> rule provide a way to handle them. (The <code>⊥-intro</code> rule is also what enables β reduction on non-terminating arguments.) The classic <code>Ω</code> program is a particularly simple program that diverges. It applies <code>Δ</code> to itself. The semantics assigns to <code>Ω</code> the meaning <code>⊥</code>. There are several ways to derive this, we shall start with one that makes use of the <code>⊔-intro</code> rule. First, <code>denot-Δ</code> tells us that <code>Δ</code> evaluates to <code>((⊥ ↦ ⊥) ⊔ ⊥) ↦ ⊥</code> (choose <code>v₁ = v₂ = ⊥</code>). Next, <code>Δ</code> also evaluates to <code>⊥ ↦ ⊥</code> by use of <code>↦-intro</code> and <code>⊥-intro</code> and to <code>⊥</code> by <code>⊥-intro</code>. As we saw previously, whenever we can show that a program evaluates to two values, we can apply <code>⊔-intro</code> to join them together, so <code>Δ</code> evaluates to <code>(⊥ ↦ ⊥) ⊔ ⊥</code>. This matches the input of the first occurrence of <code>Δ</code>, so we can conclude that the result of the application is <code>⊥</code>.</p><pre class="Agda"><a id="plfa_plfa-part3-Denotational-Ω"></a><a id="plfa_plfa-part3-Denotational-15256" href="../Denotational/#plfa_plfa-part3-Denotational-15256" class="Function">Ω</a> <a id="plfa_plfa-part3-Denotational-15258" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-15260" href="../Untyped/#plfa_plfa-part2-Untyped-3115" class="InductiveConstructor">∅</a> <a id="plfa_plfa-part3-Denotational-15262" href="../Untyped/#plfa_plfa-part2-Untyped-4246" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part3-Denotational-15264" href="../Untyped/#plfa_plfa-part2-Untyped-2820" class="InductiveConstructor">★</a>
<a id="plfa_plfa-part3-Denotational-15266" href="../Denotational/#plfa_plfa-part3-Denotational-15256" class="Function">Ω</a> <a id="plfa_plfa-part3-Denotational-15268" class="Symbol">=</a> <a id="plfa_plfa-part3-Denotational-15270" href="../Denotational/#plfa_plfa-part3-Denotational-14110" class="Function">Δ</a> <a id="plfa_plfa-part3-Denotational-15272" href="../Untyped/#plfa_plfa-part2-Untyped-4394" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part3-Denotational-15274" href="../Denotational/#plfa_plfa-part3-Denotational-14110" class="Function">Δ</a>

<a id="plfa_plfa-part3-Denotational-denot-Ω"></a><a id="plfa_plfa-part3-Denotational-15277" href="../Denotational/#plfa_plfa-part3-Denotational-15277" class="Function">denot-Ω</a> <a id="plfa_plfa-part3-Denotational-15285" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-15287" href="../Denotational/#plfa_plfa-part3-Denotational-7263" class="Function">`∅</a> <a id="plfa_plfa-part3-Denotational-15290" href="../Denotational/#plfa_plfa-part3-Denotational-9217" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part3-Denotational-15292" href="../Denotational/#plfa_plfa-part3-Denotational-15256" class="Function">Ω</a> <a id="plfa_plfa-part3-Denotational-15294" href="../Denotational/#plfa_plfa-part3-Denotational-9217" class="Datatype Operator">↓</a> <a id="plfa_plfa-part3-Denotational-15296" href="../Denotational/#plfa_plfa-part3-Denotational-3994" class="InductiveConstructor">⊥</a>
<a id="plfa_plfa-part3-Denotational-15298" href="../Denotational/#plfa_plfa-part3-Denotational-15277" class="Function">denot-Ω</a> <a id="plfa_plfa-part3-Denotational-15306" class="Symbol">=</a> <a id="plfa_plfa-part3-Denotational-15308" href="../Denotational/#plfa_plfa-part3-Denotational-9346" class="InductiveConstructor">↦-elim</a> <a id="plfa_plfa-part3-Denotational-15315" href="../Denotational/#plfa_plfa-part3-Denotational-14143" class="Function">denot-Δ</a> <a id="plfa_plfa-part3-Denotational-15323" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-15324" href="../Denotational/#plfa_plfa-part3-Denotational-9647" class="InductiveConstructor">⊔-intro</a> <a id="plfa_plfa-part3-Denotational-15332" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-15333" href="../Denotational/#plfa_plfa-part3-Denotational-9468" class="InductiveConstructor">↦-intro</a> <a id="plfa_plfa-part3-Denotational-15341" href="../Denotational/#plfa_plfa-part3-Denotational-9580" class="InductiveConstructor">⊥-intro</a><a id="plfa_plfa-part3-Denotational-15348" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-15350" href="../Denotational/#plfa_plfa-part3-Denotational-9580" class="InductiveConstructor">⊥-intro</a><a id="plfa_plfa-part3-Denotational-15357" class="Symbol">)</a>
</pre><p>A shorter derivation of the same result is by just one use of the <code>⊥-intro</code> rule.</p><pre class="Agda"><a id="plfa_plfa-part3-Denotational-denot-Ω&#39;"></a><a id="plfa_plfa-part3-Denotational-15455" href="../Denotational/#plfa_plfa-part3-Denotational-15455" class="Function">denot-Ω&#39;</a> <a id="plfa_plfa-part3-Denotational-15464" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-15466" href="../Denotational/#plfa_plfa-part3-Denotational-7263" class="Function">`∅</a> <a id="plfa_plfa-part3-Denotational-15469" href="../Denotational/#plfa_plfa-part3-Denotational-9217" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part3-Denotational-15471" href="../Denotational/#plfa_plfa-part3-Denotational-15256" class="Function">Ω</a> <a id="plfa_plfa-part3-Denotational-15473" href="../Denotational/#plfa_plfa-part3-Denotational-9217" class="Datatype Operator">↓</a> <a id="plfa_plfa-part3-Denotational-15475" href="../Denotational/#plfa_plfa-part3-Denotational-3994" class="InductiveConstructor">⊥</a>
<a id="plfa_plfa-part3-Denotational-15477" href="../Denotational/#plfa_plfa-part3-Denotational-15455" class="Function">denot-Ω&#39;</a> <a id="plfa_plfa-part3-Denotational-15486" class="Symbol">=</a> <a id="plfa_plfa-part3-Denotational-15488" href="../Denotational/#plfa_plfa-part3-Denotational-9580" class="InductiveConstructor">⊥-intro</a>
</pre><p>Just because one can derive <code>∅ ⊢ M ↓ ⊥</code> for some closed term <code>M</code> doesn’t mean that <code>M</code> necessarily diverges. There may be other derivations that conclude with <code>M</code> producing some more informative value. However, if the only thing that a term evaluates to is <code>⊥</code>, then it indeed diverges.</p><p>An attentive reader may have noticed a disconnect earlier in the way we planned to solve the self-application problem and the actual <code>↦-elim</code> rule for application. We said at the beginning that we would relax the notion of table lookup, allowing an argument to match an input entry if the argument is equal or greater than the input entry. Instead, the <code>↦-elim</code> rule seems to require an exact match. However, because of the <code>sub</code> rule, application really does allow larger arguments.</p><pre class="Agda"><a id="plfa_plfa-part3-Denotational-↦-elim2"></a><a id="plfa_plfa-part3-Denotational-16284" href="../Denotational/#plfa_plfa-part3-Denotational-16284" class="Function">↦-elim2</a> <a id="plfa_plfa-part3-Denotational-16292" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-16294" class="Symbol">∀</a> <a id="plfa_plfa-part3-Denotational-16296" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-16297" href="../Denotational/#plfa_plfa-part3-Denotational-16297" class="Bound">Γ</a><a id="plfa_plfa-part3-Denotational-16298" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-16300" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-16301" href="../Denotational/#plfa_plfa-part3-Denotational-16301" class="Bound">γ</a> <a id="plfa_plfa-part3-Denotational-16303" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-16305" href="../Denotational/#plfa_plfa-part3-Denotational-7135" class="Function">Env</a> <a id="plfa_plfa-part3-Denotational-16309" href="../Denotational/#plfa_plfa-part3-Denotational-16297" class="Bound">Γ</a><a id="plfa_plfa-part3-Denotational-16310" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-16312" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-16313" href="../Denotational/#plfa_plfa-part3-Denotational-16313" class="Bound">M₁</a> <a id="plfa_plfa-part3-Denotational-16316" href="../Denotational/#plfa_plfa-part3-Denotational-16316" class="Bound">M₂</a> <a id="plfa_plfa-part3-Denotational-16319" href="../Denotational/#plfa_plfa-part3-Denotational-16319" class="Bound">v₁</a> <a id="plfa_plfa-part3-Denotational-16322" href="../Denotational/#plfa_plfa-part3-Denotational-16322" class="Bound">v₂</a> <a id="plfa_plfa-part3-Denotational-16325" href="../Denotational/#plfa_plfa-part3-Denotational-16325" class="Bound">v₃</a><a id="plfa_plfa-part3-Denotational-16327" class="Symbol">}</a>
  <a id="plfa_plfa-part3-Denotational-16331" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-16333" href="../Denotational/#plfa_plfa-part3-Denotational-16301" class="Bound">γ</a> <a id="plfa_plfa-part3-Denotational-16335" href="../Denotational/#plfa_plfa-part3-Denotational-9217" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part3-Denotational-16337" href="../Denotational/#plfa_plfa-part3-Denotational-16313" class="Bound">M₁</a> <a id="plfa_plfa-part3-Denotational-16340" href="../Denotational/#plfa_plfa-part3-Denotational-9217" class="Datatype Operator">↓</a> <a id="plfa_plfa-part3-Denotational-16342" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-16343" href="../Denotational/#plfa_plfa-part3-Denotational-16319" class="Bound">v₁</a> <a id="plfa_plfa-part3-Denotational-16346" href="../Denotational/#plfa_plfa-part3-Denotational-4006" class="InductiveConstructor Operator">↦</a> <a id="plfa_plfa-part3-Denotational-16348" href="../Denotational/#plfa_plfa-part3-Denotational-16325" class="Bound">v₃</a><a id="plfa_plfa-part3-Denotational-16350" class="Symbol">)</a>
  <a id="plfa_plfa-part3-Denotational-16354" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-16356" href="../Denotational/#plfa_plfa-part3-Denotational-16301" class="Bound">γ</a> <a id="plfa_plfa-part3-Denotational-16358" href="../Denotational/#plfa_plfa-part3-Denotational-9217" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part3-Denotational-16360" href="../Denotational/#plfa_plfa-part3-Denotational-16316" class="Bound">M₂</a> <a id="plfa_plfa-part3-Denotational-16363" href="../Denotational/#plfa_plfa-part3-Denotational-9217" class="Datatype Operator">↓</a> <a id="plfa_plfa-part3-Denotational-16365" href="../Denotational/#plfa_plfa-part3-Denotational-16322" class="Bound">v₂</a>
  <a id="plfa_plfa-part3-Denotational-16370" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-16372" href="../Denotational/#plfa_plfa-part3-Denotational-16319" class="Bound">v₁</a> <a id="plfa_plfa-part3-Denotational-16375" href="../Denotational/#plfa_plfa-part3-Denotational-4335" class="Datatype Operator">⊑</a> <a id="plfa_plfa-part3-Denotational-16377" href="../Denotational/#plfa_plfa-part3-Denotational-16322" class="Bound">v₂</a>
    <a id="plfa_plfa-part3-Denotational-16384" class="Comment">------------------</a>
  <a id="plfa_plfa-part3-Denotational-16405" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-16407" href="../Denotational/#plfa_plfa-part3-Denotational-16301" class="Bound">γ</a> <a id="plfa_plfa-part3-Denotational-16409" href="../Denotational/#plfa_plfa-part3-Denotational-9217" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part3-Denotational-16411" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-16412" href="../Denotational/#plfa_plfa-part3-Denotational-16313" class="Bound">M₁</a> <a id="plfa_plfa-part3-Denotational-16415" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part3-Denotational-16417" href="../Denotational/#plfa_plfa-part3-Denotational-16316" class="Bound">M₂</a><a id="plfa_plfa-part3-Denotational-16419" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-16421" href="../Denotational/#plfa_plfa-part3-Denotational-9217" class="Datatype Operator">↓</a> <a id="plfa_plfa-part3-Denotational-16423" href="../Denotational/#plfa_plfa-part3-Denotational-16325" class="Bound">v₃</a>
<a id="plfa_plfa-part3-Denotational-16426" href="../Denotational/#plfa_plfa-part3-Denotational-16284" class="Function">↦-elim2</a> <a id="plfa_plfa-part3-Denotational-16434" href="../Denotational/#plfa_plfa-part3-Denotational-16434" class="Bound">d₁</a> <a id="plfa_plfa-part3-Denotational-16437" href="../Denotational/#plfa_plfa-part3-Denotational-16437" class="Bound">d₂</a> <a id="plfa_plfa-part3-Denotational-16440" href="../Denotational/#plfa_plfa-part3-Denotational-16440" class="Bound">lt</a> <a id="plfa_plfa-part3-Denotational-16443" class="Symbol">=</a> <a id="plfa_plfa-part3-Denotational-16445" href="../Denotational/#plfa_plfa-part3-Denotational-9346" class="InductiveConstructor">↦-elim</a> <a id="plfa_plfa-part3-Denotational-16452" href="../Denotational/#plfa_plfa-part3-Denotational-16434" class="Bound">d₁</a> <a id="plfa_plfa-part3-Denotational-16455" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-16456" href="../Denotational/#plfa_plfa-part3-Denotational-9762" class="InductiveConstructor">sub</a> <a id="plfa_plfa-part3-Denotational-16460" href="../Denotational/#plfa_plfa-part3-Denotational-16437" class="Bound">d₂</a> <a id="plfa_plfa-part3-Denotational-16463" href="../Denotational/#plfa_plfa-part3-Denotational-16440" class="Bound">lt</a><a id="plfa_plfa-part3-Denotational-16465" class="Symbol">)</a>
</pre><h4 id="exercise-denot-plusᶜ-practice">Exercise <code>denot-plusᶜ</code> (practice)</h4><p>What is a denotation for <code>plusᶜ</code>? That is, find a value <code>v</code> (other than <code>⊥</code>) such that <code>∅ ⊢ plusᶜ ↓ v</code>. Also, give the proof of <code>∅ ⊢ plusᶜ ↓ v</code> for your choice of <code>v</code>.</p><pre class="Agda"><a id="plfa_plfa-part3-Denotational-16689" class="Comment">-- Your code goes here</a>
</pre><h2 id="denotations-and-denotational-equality">Denotations and denotational equality</h2><p>Next we define a notion of denotational equality based on the above semantics. Its statement makes use of an if-and-only-if, which we define as follows.</p><pre class="Agda"><a id="plfa_plfa-part3-Denotational-_iff_"></a><a id="plfa_plfa-part3-Denotational-16922" href="../Denotational/#plfa_plfa-part3-Denotational-16922" class="Function Operator">_iff_</a> <a id="plfa_plfa-part3-Denotational-16928" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-16930" href="https://agda.github.io/agda-stdlib/v1.3/Agda.Primitive.html#326" class="Primitive">Set</a> <a id="plfa_plfa-part3-Denotational-16934" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-16936" href="https://agda.github.io/agda-stdlib/v1.3/Agda.Primitive.html#326" class="Primitive">Set</a> <a id="plfa_plfa-part3-Denotational-16940" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-16942" href="https://agda.github.io/agda-stdlib/v1.3/Agda.Primitive.html#326" class="Primitive">Set</a>
<a id="plfa_plfa-part3-Denotational-16946" href="../Denotational/#plfa_plfa-part3-Denotational-16946" class="Bound">P</a> <a id="plfa_plfa-part3-Denotational-16948" href="../Denotational/#plfa_plfa-part3-Denotational-16922" class="Function Operator">iff</a> <a id="plfa_plfa-part3-Denotational-16952" href="../Denotational/#plfa_plfa-part3-Denotational-16952" class="Bound">Q</a> <a id="plfa_plfa-part3-Denotational-16954" class="Symbol">=</a> <a id="plfa_plfa-part3-Denotational-16956" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-16957" href="../Denotational/#plfa_plfa-part3-Denotational-16946" class="Bound">P</a> <a id="plfa_plfa-part3-Denotational-16959" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-16961" href="../Denotational/#plfa_plfa-part3-Denotational-16952" class="Bound">Q</a><a id="plfa_plfa-part3-Denotational-16962" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-16964" href="https://agda.github.io/agda-stdlib/v1.3/Data.Product.html#1167" class="Function Operator">×</a> <a id="plfa_plfa-part3-Denotational-16966" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-16967" href="../Denotational/#plfa_plfa-part3-Denotational-16952" class="Bound">Q</a> <a id="plfa_plfa-part3-Denotational-16969" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-16971" href="../Denotational/#plfa_plfa-part3-Denotational-16946" class="Bound">P</a><a id="plfa_plfa-part3-Denotational-16972" class="Symbol">)</a>
</pre><p>Another way to view the denotational semantics is as a function that maps a term to a relation from environments to values. That is, the <em>denotation</em> of a term is a relation from environments to values.</p><pre class="Agda"><a id="plfa_plfa-part3-Denotational-Denotation"></a><a id="plfa_plfa-part3-Denotational-17192" href="../Denotational/#plfa_plfa-part3-Denotational-17192" class="Function">Denotation</a> <a id="plfa_plfa-part3-Denotational-17203" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-17205" href="../Untyped/#plfa_plfa-part2-Untyped-3093" class="Datatype">Context</a> <a id="plfa_plfa-part3-Denotational-17213" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-17215" href="https://agda.github.io/agda-stdlib/v1.3/Agda.Primitive.html#326" class="Primitive">Set₁</a>
<a id="plfa_plfa-part3-Denotational-17220" href="../Denotational/#plfa_plfa-part3-Denotational-17192" class="Function">Denotation</a> <a id="plfa_plfa-part3-Denotational-17231" href="../Denotational/#plfa_plfa-part3-Denotational-17231" class="Bound">Γ</a> <a id="plfa_plfa-part3-Denotational-17233" class="Symbol">=</a> <a id="plfa_plfa-part3-Denotational-17235" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-17236" href="../Denotational/#plfa_plfa-part3-Denotational-7135" class="Function">Env</a> <a id="plfa_plfa-part3-Denotational-17240" href="../Denotational/#plfa_plfa-part3-Denotational-17231" class="Bound">Γ</a> <a id="plfa_plfa-part3-Denotational-17242" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-17244" href="../Denotational/#plfa_plfa-part3-Denotational-3974" class="Datatype">Value</a> <a id="plfa_plfa-part3-Denotational-17250" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-17252" href="https://agda.github.io/agda-stdlib/v1.3/Agda.Primitive.html#326" class="Primitive">Set</a><a id="plfa_plfa-part3-Denotational-17255" class="Symbol">)</a>
</pre><p>The following function ℰ gives this alternative view of the semantics, which really just amounts to changing the order of the parameters.</p><pre class="Agda"><a id="plfa_plfa-part3-Denotational-ℰ"></a><a id="plfa_plfa-part3-Denotational-17409" href="../Denotational/#plfa_plfa-part3-Denotational-17409" class="Function">ℰ</a> <a id="plfa_plfa-part3-Denotational-17411" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-17413" class="Symbol">∀{</a><a id="plfa_plfa-part3-Denotational-17415" href="../Denotational/#plfa_plfa-part3-Denotational-17415" class="Bound">Γ</a><a id="plfa_plfa-part3-Denotational-17416" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-17418" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-17420" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-17421" href="../Denotational/#plfa_plfa-part3-Denotational-17421" class="Bound">M</a> <a id="plfa_plfa-part3-Denotational-17423" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-17425" href="../Denotational/#plfa_plfa-part3-Denotational-17415" class="Bound">Γ</a> <a id="plfa_plfa-part3-Denotational-17427" href="../Untyped/#plfa_plfa-part2-Untyped-4246" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part3-Denotational-17429" href="../Untyped/#plfa_plfa-part2-Untyped-2820" class="InductiveConstructor">★</a><a id="plfa_plfa-part3-Denotational-17430" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-17432" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-17434" href="../Denotational/#plfa_plfa-part3-Denotational-17192" class="Function">Denotation</a> <a id="plfa_plfa-part3-Denotational-17445" href="../Denotational/#plfa_plfa-part3-Denotational-17415" class="Bound">Γ</a>
<a id="plfa_plfa-part3-Denotational-17447" href="../Denotational/#plfa_plfa-part3-Denotational-17409" class="Function">ℰ</a> <a id="plfa_plfa-part3-Denotational-17449" href="../Denotational/#plfa_plfa-part3-Denotational-17449" class="Bound">M</a> <a id="plfa_plfa-part3-Denotational-17451" class="Symbol">=</a> <a id="plfa_plfa-part3-Denotational-17453" class="Symbol">λ</a> <a id="plfa_plfa-part3-Denotational-17455" href="../Denotational/#plfa_plfa-part3-Denotational-17455" class="Bound">γ</a> <a id="plfa_plfa-part3-Denotational-17457" href="../Denotational/#plfa_plfa-part3-Denotational-17457" class="Bound">v</a> <a id="plfa_plfa-part3-Denotational-17459" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-17461" href="../Denotational/#plfa_plfa-part3-Denotational-17455" class="Bound">γ</a> <a id="plfa_plfa-part3-Denotational-17463" href="../Denotational/#plfa_plfa-part3-Denotational-9217" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part3-Denotational-17465" href="../Denotational/#plfa_plfa-part3-Denotational-17449" class="Bound">M</a> <a id="plfa_plfa-part3-Denotational-17467" href="../Denotational/#plfa_plfa-part3-Denotational-9217" class="Datatype Operator">↓</a> <a id="plfa_plfa-part3-Denotational-17469" href="../Denotational/#plfa_plfa-part3-Denotational-17457" class="Bound">v</a>
</pre><p>In general, two denotations are equal when they produce the same values in the same environment.</p><pre class="Agda"><a id="plfa_plfa-part3-Denotational-17582" class="Keyword">infix</a> <a id="plfa_plfa-part3-Denotational-17588" class="Number">3</a> <a id="plfa_plfa-part3-Denotational-17590" href="../Denotational/#plfa_plfa-part3-Denotational-17595" class="Function Operator">_≃_</a>

<a id="plfa_plfa-part3-Denotational-_≃_"></a><a id="plfa_plfa-part3-Denotational-17595" href="../Denotational/#plfa_plfa-part3-Denotational-17595" class="Function Operator">_≃_</a> <a id="plfa_plfa-part3-Denotational-17599" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-17601" class="Symbol">∀</a> <a id="plfa_plfa-part3-Denotational-17603" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-17604" href="../Denotational/#plfa_plfa-part3-Denotational-17604" class="Bound">Γ</a><a id="plfa_plfa-part3-Denotational-17605" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-17607" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-17609" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-17610" href="../Denotational/#plfa_plfa-part3-Denotational-17192" class="Function">Denotation</a> <a id="plfa_plfa-part3-Denotational-17621" href="../Denotational/#plfa_plfa-part3-Denotational-17604" class="Bound">Γ</a><a id="plfa_plfa-part3-Denotational-17622" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-17624" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-17626" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-17627" href="../Denotational/#plfa_plfa-part3-Denotational-17192" class="Function">Denotation</a> <a id="plfa_plfa-part3-Denotational-17638" href="../Denotational/#plfa_plfa-part3-Denotational-17604" class="Bound">Γ</a><a id="plfa_plfa-part3-Denotational-17639" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-17641" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-17643" href="https://agda.github.io/agda-stdlib/v1.3/Agda.Primitive.html#326" class="Primitive">Set</a>
<a id="plfa_plfa-part3-Denotational-17647" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-17648" href="../Denotational/#plfa_plfa-part3-Denotational-17595" class="Function Operator">_≃_</a> <a id="plfa_plfa-part3-Denotational-17652" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-17653" href="../Denotational/#plfa_plfa-part3-Denotational-17653" class="Bound">Γ</a><a id="plfa_plfa-part3-Denotational-17654" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-17656" href="../Denotational/#plfa_plfa-part3-Denotational-17656" class="Bound">D₁</a> <a id="plfa_plfa-part3-Denotational-17659" href="../Denotational/#plfa_plfa-part3-Denotational-17659" class="Bound">D₂</a><a id="plfa_plfa-part3-Denotational-17661" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-17663" class="Symbol">=</a> <a id="plfa_plfa-part3-Denotational-17665" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-17666" href="../Denotational/#plfa_plfa-part3-Denotational-17666" class="Bound">γ</a> <a id="plfa_plfa-part3-Denotational-17668" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-17670" href="../Denotational/#plfa_plfa-part3-Denotational-7135" class="Function">Env</a> <a id="plfa_plfa-part3-Denotational-17674" href="../Denotational/#plfa_plfa-part3-Denotational-17653" class="Bound">Γ</a><a id="plfa_plfa-part3-Denotational-17675" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-17677" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-17679" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-17680" href="../Denotational/#plfa_plfa-part3-Denotational-17680" class="Bound">v</a> <a id="plfa_plfa-part3-Denotational-17682" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-17684" href="../Denotational/#plfa_plfa-part3-Denotational-3974" class="Datatype">Value</a><a id="plfa_plfa-part3-Denotational-17689" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-17691" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-17693" href="../Denotational/#plfa_plfa-part3-Denotational-17656" class="Bound">D₁</a> <a id="plfa_plfa-part3-Denotational-17696" href="../Denotational/#plfa_plfa-part3-Denotational-17666" class="Bound">γ</a> <a id="plfa_plfa-part3-Denotational-17698" href="../Denotational/#plfa_plfa-part3-Denotational-17680" class="Bound">v</a> <a id="plfa_plfa-part3-Denotational-17700" href="../Denotational/#plfa_plfa-part3-Denotational-16922" class="Function Operator">iff</a> <a id="plfa_plfa-part3-Denotational-17704" href="../Denotational/#plfa_plfa-part3-Denotational-17659" class="Bound">D₂</a> <a id="plfa_plfa-part3-Denotational-17707" href="../Denotational/#plfa_plfa-part3-Denotational-17666" class="Bound">γ</a> <a id="plfa_plfa-part3-Denotational-17709" href="../Denotational/#plfa_plfa-part3-Denotational-17680" class="Bound">v</a>
</pre><p>Denotational equality is an equivalence relation.</p><pre class="Agda"><a id="plfa_plfa-part3-Denotational-≃-refl"></a><a id="plfa_plfa-part3-Denotational-17775" href="../Denotational/#plfa_plfa-part3-Denotational-17775" class="Function">≃-refl</a> <a id="plfa_plfa-part3-Denotational-17782" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-17784" class="Symbol">∀</a> <a id="plfa_plfa-part3-Denotational-17786" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-17787" href="../Denotational/#plfa_plfa-part3-Denotational-17787" class="Bound">Γ</a> <a id="plfa_plfa-part3-Denotational-17789" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-17791" href="../Untyped/#plfa_plfa-part2-Untyped-3093" class="Datatype">Context</a><a id="plfa_plfa-part3-Denotational-17798" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-17800" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-17802" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-17803" href="../Denotational/#plfa_plfa-part3-Denotational-17803" class="Bound">M</a> <a id="plfa_plfa-part3-Denotational-17805" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-17807" href="../Denotational/#plfa_plfa-part3-Denotational-17192" class="Function">Denotation</a> <a id="plfa_plfa-part3-Denotational-17818" href="../Denotational/#plfa_plfa-part3-Denotational-17787" class="Bound">Γ</a><a id="plfa_plfa-part3-Denotational-17819" class="Symbol">}</a>
  <a id="plfa_plfa-part3-Denotational-17823" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-17825" href="../Denotational/#plfa_plfa-part3-Denotational-17803" class="Bound">M</a> <a id="plfa_plfa-part3-Denotational-17827" href="../Denotational/#plfa_plfa-part3-Denotational-17595" class="Function Operator">≃</a> <a id="plfa_plfa-part3-Denotational-17829" href="../Denotational/#plfa_plfa-part3-Denotational-17803" class="Bound">M</a>
<a id="plfa_plfa-part3-Denotational-17831" href="../Denotational/#plfa_plfa-part3-Denotational-17775" class="Function">≃-refl</a> <a id="plfa_plfa-part3-Denotational-17838" href="../Denotational/#plfa_plfa-part3-Denotational-17838" class="Bound">γ</a> <a id="plfa_plfa-part3-Denotational-17840" href="../Denotational/#plfa_plfa-part3-Denotational-17840" class="Bound">v</a> <a id="plfa_plfa-part3-Denotational-17842" class="Symbol">=</a> <a id="plfa_plfa-part3-Denotational-17844" href="../Denotational/#plfa_plfa-part3-Denotational-2730" class="InductiveConstructor Operator">⟨</a> <a id="plfa_plfa-part3-Denotational-17846" class="Symbol">(λ</a> <a id="plfa_plfa-part3-Denotational-17849" href="../Denotational/#plfa_plfa-part3-Denotational-17849" class="Bound">x</a> <a id="plfa_plfa-part3-Denotational-17851" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-17853" href="../Denotational/#plfa_plfa-part3-Denotational-17849" class="Bound">x</a><a id="plfa_plfa-part3-Denotational-17854" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-17856" href="../Denotational/#plfa_plfa-part3-Denotational-2730" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part3-Denotational-17858" class="Symbol">(λ</a> <a id="plfa_plfa-part3-Denotational-17861" href="../Denotational/#plfa_plfa-part3-Denotational-17861" class="Bound">x</a> <a id="plfa_plfa-part3-Denotational-17863" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-17865" href="../Denotational/#plfa_plfa-part3-Denotational-17861" class="Bound">x</a><a id="plfa_plfa-part3-Denotational-17866" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-17868" href="../Denotational/#plfa_plfa-part3-Denotational-2730" class="InductiveConstructor Operator">⟩</a>

<a id="plfa_plfa-part3-Denotational-≃-sym"></a><a id="plfa_plfa-part3-Denotational-17871" href="../Denotational/#plfa_plfa-part3-Denotational-17871" class="Function">≃-sym</a> <a id="plfa_plfa-part3-Denotational-17877" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-17879" class="Symbol">∀</a> <a id="plfa_plfa-part3-Denotational-17881" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-17882" href="../Denotational/#plfa_plfa-part3-Denotational-17882" class="Bound">Γ</a> <a id="plfa_plfa-part3-Denotational-17884" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-17886" href="../Untyped/#plfa_plfa-part2-Untyped-3093" class="Datatype">Context</a><a id="plfa_plfa-part3-Denotational-17893" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-17895" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-17897" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-17898" href="../Denotational/#plfa_plfa-part3-Denotational-17898" class="Bound">M</a> <a id="plfa_plfa-part3-Denotational-17900" href="../Denotational/#plfa_plfa-part3-Denotational-17900" class="Bound">N</a> <a id="plfa_plfa-part3-Denotational-17902" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-17904" href="../Denotational/#plfa_plfa-part3-Denotational-17192" class="Function">Denotation</a> <a id="plfa_plfa-part3-Denotational-17915" href="../Denotational/#plfa_plfa-part3-Denotational-17882" class="Bound">Γ</a><a id="plfa_plfa-part3-Denotational-17916" class="Symbol">}</a>
  <a id="plfa_plfa-part3-Denotational-17920" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-17922" href="../Denotational/#plfa_plfa-part3-Denotational-17898" class="Bound">M</a> <a id="plfa_plfa-part3-Denotational-17924" href="../Denotational/#plfa_plfa-part3-Denotational-17595" class="Function Operator">≃</a> <a id="plfa_plfa-part3-Denotational-17926" href="../Denotational/#plfa_plfa-part3-Denotational-17900" class="Bound">N</a>
    <a id="plfa_plfa-part3-Denotational-17932" class="Comment">-----</a>
  <a id="plfa_plfa-part3-Denotational-17940" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-17942" href="../Denotational/#plfa_plfa-part3-Denotational-17900" class="Bound">N</a> <a id="plfa_plfa-part3-Denotational-17944" href="../Denotational/#plfa_plfa-part3-Denotational-17595" class="Function Operator">≃</a> <a id="plfa_plfa-part3-Denotational-17946" href="../Denotational/#plfa_plfa-part3-Denotational-17898" class="Bound">M</a>
<a id="plfa_plfa-part3-Denotational-17948" href="../Denotational/#plfa_plfa-part3-Denotational-17871" class="Function">≃-sym</a> <a id="plfa_plfa-part3-Denotational-17954" href="../Denotational/#plfa_plfa-part3-Denotational-17954" class="Bound">eq</a> <a id="plfa_plfa-part3-Denotational-17957" href="../Denotational/#plfa_plfa-part3-Denotational-17957" class="Bound">γ</a> <a id="plfa_plfa-part3-Denotational-17959" href="../Denotational/#plfa_plfa-part3-Denotational-17959" class="Bound">v</a> <a id="plfa_plfa-part3-Denotational-17961" class="Symbol">=</a> <a id="plfa_plfa-part3-Denotational-17963" href="../Denotational/#plfa_plfa-part3-Denotational-2730" class="InductiveConstructor Operator">⟨</a> <a id="plfa_plfa-part3-Denotational-17965" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-17966" href="https://agda.github.io/agda-stdlib/v1.3/Agda.Builtin.Sigma.html#264" class="Field">proj₂</a> <a id="plfa_plfa-part3-Denotational-17972" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-17973" href="../Denotational/#plfa_plfa-part3-Denotational-17954" class="Bound">eq</a> <a id="plfa_plfa-part3-Denotational-17976" href="../Denotational/#plfa_plfa-part3-Denotational-17957" class="Bound">γ</a> <a id="plfa_plfa-part3-Denotational-17978" href="../Denotational/#plfa_plfa-part3-Denotational-17959" class="Bound">v</a><a id="plfa_plfa-part3-Denotational-17979" class="Symbol">))</a> <a id="plfa_plfa-part3-Denotational-17982" href="../Denotational/#plfa_plfa-part3-Denotational-2730" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part3-Denotational-17984" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-17985" href="https://agda.github.io/agda-stdlib/v1.3/Agda.Builtin.Sigma.html#252" class="Field">proj₁</a> <a id="plfa_plfa-part3-Denotational-17991" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-17992" href="../Denotational/#plfa_plfa-part3-Denotational-17954" class="Bound">eq</a> <a id="plfa_plfa-part3-Denotational-17995" href="../Denotational/#plfa_plfa-part3-Denotational-17957" class="Bound">γ</a> <a id="plfa_plfa-part3-Denotational-17997" href="../Denotational/#plfa_plfa-part3-Denotational-17959" class="Bound">v</a><a id="plfa_plfa-part3-Denotational-17998" class="Symbol">))</a> <a id="plfa_plfa-part3-Denotational-18001" href="../Denotational/#plfa_plfa-part3-Denotational-2730" class="InductiveConstructor Operator">⟩</a>

<a id="plfa_plfa-part3-Denotational-≃-trans"></a><a id="plfa_plfa-part3-Denotational-18004" href="../Denotational/#plfa_plfa-part3-Denotational-18004" class="Function">≃-trans</a> <a id="plfa_plfa-part3-Denotational-18012" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-18014" class="Symbol">∀</a> <a id="plfa_plfa-part3-Denotational-18016" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-18017" href="../Denotational/#plfa_plfa-part3-Denotational-18017" class="Bound">Γ</a> <a id="plfa_plfa-part3-Denotational-18019" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-18021" href="../Untyped/#plfa_plfa-part2-Untyped-3093" class="Datatype">Context</a><a id="plfa_plfa-part3-Denotational-18028" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-18030" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-18032" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-18033" href="../Denotational/#plfa_plfa-part3-Denotational-18033" class="Bound">M₁</a> <a id="plfa_plfa-part3-Denotational-18036" href="../Denotational/#plfa_plfa-part3-Denotational-18036" class="Bound">M₂</a> <a id="plfa_plfa-part3-Denotational-18039" href="../Denotational/#plfa_plfa-part3-Denotational-18039" class="Bound">M₃</a> <a id="plfa_plfa-part3-Denotational-18042" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-18044" href="../Denotational/#plfa_plfa-part3-Denotational-17192" class="Function">Denotation</a> <a id="plfa_plfa-part3-Denotational-18055" href="../Denotational/#plfa_plfa-part3-Denotational-18017" class="Bound">Γ</a><a id="plfa_plfa-part3-Denotational-18056" class="Symbol">}</a>
  <a id="plfa_plfa-part3-Denotational-18060" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-18062" href="../Denotational/#plfa_plfa-part3-Denotational-18033" class="Bound">M₁</a> <a id="plfa_plfa-part3-Denotational-18065" href="../Denotational/#plfa_plfa-part3-Denotational-17595" class="Function Operator">≃</a> <a id="plfa_plfa-part3-Denotational-18067" href="../Denotational/#plfa_plfa-part3-Denotational-18036" class="Bound">M₂</a>
  <a id="plfa_plfa-part3-Denotational-18072" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-18074" href="../Denotational/#plfa_plfa-part3-Denotational-18036" class="Bound">M₂</a> <a id="plfa_plfa-part3-Denotational-18077" href="../Denotational/#plfa_plfa-part3-Denotational-17595" class="Function Operator">≃</a> <a id="plfa_plfa-part3-Denotational-18079" href="../Denotational/#plfa_plfa-part3-Denotational-18039" class="Bound">M₃</a>
    <a id="plfa_plfa-part3-Denotational-18086" class="Comment">-------</a>
  <a id="plfa_plfa-part3-Denotational-18096" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-18098" href="../Denotational/#plfa_plfa-part3-Denotational-18033" class="Bound">M₁</a> <a id="plfa_plfa-part3-Denotational-18101" href="../Denotational/#plfa_plfa-part3-Denotational-17595" class="Function Operator">≃</a> <a id="plfa_plfa-part3-Denotational-18103" href="../Denotational/#plfa_plfa-part3-Denotational-18039" class="Bound">M₃</a>
<a id="plfa_plfa-part3-Denotational-18106" href="../Denotational/#plfa_plfa-part3-Denotational-18004" class="Function">≃-trans</a> <a id="plfa_plfa-part3-Denotational-18114" href="../Denotational/#plfa_plfa-part3-Denotational-18114" class="Bound">eq1</a> <a id="plfa_plfa-part3-Denotational-18118" href="../Denotational/#plfa_plfa-part3-Denotational-18118" class="Bound">eq2</a> <a id="plfa_plfa-part3-Denotational-18122" href="../Denotational/#plfa_plfa-part3-Denotational-18122" class="Bound">γ</a> <a id="plfa_plfa-part3-Denotational-18124" href="../Denotational/#plfa_plfa-part3-Denotational-18124" class="Bound">v</a> <a id="plfa_plfa-part3-Denotational-18126" class="Symbol">=</a> <a id="plfa_plfa-part3-Denotational-18128" href="../Denotational/#plfa_plfa-part3-Denotational-2730" class="InductiveConstructor Operator">⟨</a> <a id="plfa_plfa-part3-Denotational-18130" class="Symbol">(λ</a> <a id="plfa_plfa-part3-Denotational-18133" href="../Denotational/#plfa_plfa-part3-Denotational-18133" class="Bound">z</a> <a id="plfa_plfa-part3-Denotational-18135" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-18137" href="https://agda.github.io/agda-stdlib/v1.3/Agda.Builtin.Sigma.html#252" class="Field">proj₁</a> <a id="plfa_plfa-part3-Denotational-18143" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-18144" href="../Denotational/#plfa_plfa-part3-Denotational-18118" class="Bound">eq2</a> <a id="plfa_plfa-part3-Denotational-18148" href="../Denotational/#plfa_plfa-part3-Denotational-18122" class="Bound">γ</a> <a id="plfa_plfa-part3-Denotational-18150" href="../Denotational/#plfa_plfa-part3-Denotational-18124" class="Bound">v</a><a id="plfa_plfa-part3-Denotational-18151" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-18153" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-18154" href="https://agda.github.io/agda-stdlib/v1.3/Agda.Builtin.Sigma.html#252" class="Field">proj₁</a> <a id="plfa_plfa-part3-Denotational-18160" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-18161" href="../Denotational/#plfa_plfa-part3-Denotational-18114" class="Bound">eq1</a> <a id="plfa_plfa-part3-Denotational-18165" href="../Denotational/#plfa_plfa-part3-Denotational-18122" class="Bound">γ</a> <a id="plfa_plfa-part3-Denotational-18167" href="../Denotational/#plfa_plfa-part3-Denotational-18124" class="Bound">v</a><a id="plfa_plfa-part3-Denotational-18168" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-18170" href="../Denotational/#plfa_plfa-part3-Denotational-18133" class="Bound">z</a><a id="plfa_plfa-part3-Denotational-18171" class="Symbol">))</a> <a id="plfa_plfa-part3-Denotational-18174" href="../Denotational/#plfa_plfa-part3-Denotational-2730" class="InductiveConstructor Operator">,</a>
                        <a id="plfa_plfa-part3-Denotational-18200" class="Symbol">(λ</a> <a id="plfa_plfa-part3-Denotational-18203" href="../Denotational/#plfa_plfa-part3-Denotational-18203" class="Bound">z</a> <a id="plfa_plfa-part3-Denotational-18205" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-18207" href="https://agda.github.io/agda-stdlib/v1.3/Agda.Builtin.Sigma.html#264" class="Field">proj₂</a> <a id="plfa_plfa-part3-Denotational-18213" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-18214" href="../Denotational/#plfa_plfa-part3-Denotational-18114" class="Bound">eq1</a> <a id="plfa_plfa-part3-Denotational-18218" href="../Denotational/#plfa_plfa-part3-Denotational-18122" class="Bound">γ</a> <a id="plfa_plfa-part3-Denotational-18220" href="../Denotational/#plfa_plfa-part3-Denotational-18124" class="Bound">v</a><a id="plfa_plfa-part3-Denotational-18221" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-18223" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-18224" href="https://agda.github.io/agda-stdlib/v1.3/Agda.Builtin.Sigma.html#264" class="Field">proj₂</a> <a id="plfa_plfa-part3-Denotational-18230" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-18231" href="../Denotational/#plfa_plfa-part3-Denotational-18118" class="Bound">eq2</a> <a id="plfa_plfa-part3-Denotational-18235" href="../Denotational/#plfa_plfa-part3-Denotational-18122" class="Bound">γ</a> <a id="plfa_plfa-part3-Denotational-18237" href="../Denotational/#plfa_plfa-part3-Denotational-18124" class="Bound">v</a><a id="plfa_plfa-part3-Denotational-18238" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-18240" href="../Denotational/#plfa_plfa-part3-Denotational-18203" class="Bound">z</a><a id="plfa_plfa-part3-Denotational-18241" class="Symbol">))</a> <a id="plfa_plfa-part3-Denotational-18244" href="../Denotational/#plfa_plfa-part3-Denotational-2730" class="InductiveConstructor Operator">⟩</a>
</pre><p>Two terms <code>M</code> and <code>N</code> are denotational equal when their denotations are equal, that is, <code>ℰ M ≃ ℰ N</code>.</p><p>The following submodule introduces equational reasoning for the <code>≃</code> relation.</p><pre class="Agda">
<a id="plfa_plfa-part3-Denotational-18994" class="Keyword">module</a> <a id="plfa_plfa-part3-Denotational-≃-Reasoning"></a><a id="plfa_plfa-part3-Denotational-19001" href="../Denotational/#plfa_plfa-part3-Denotational-19001" class="Module">≃-Reasoning</a> <a id="plfa_plfa-part3-Denotational-19013" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-19014" href="../Denotational/#plfa_plfa-part3-Denotational-19014" class="Bound">Γ</a> <a id="plfa_plfa-part3-Denotational-19016" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-19018" href="../Untyped/#plfa_plfa-part2-Untyped-3093" class="Datatype">Context</a><a id="plfa_plfa-part3-Denotational-19025" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-19027" class="Keyword">where</a>

  <a id="plfa_plfa-part3-Denotational-19036" class="Keyword">infix</a>  <a id="plfa_plfa-part3-Denotational-19043" class="Number">1</a> <a id="plfa_plfa-part3-Denotational-19045" href="../Denotational/#plfa_plfa-part3-Denotational-19093" class="Function Operator">start_</a>
  <a id="plfa_plfa-part3-Denotational-19054" class="Keyword">infixr</a> <a id="plfa_plfa-part3-Denotational-19061" class="Number">2</a> <a id="plfa_plfa-part3-Denotational-19063" href="../Denotational/#plfa_plfa-part3-Denotational-19324" class="Function Operator">_≃⟨⟩_</a> <a id="plfa_plfa-part3-Denotational-19069" href="../Denotational/#plfa_plfa-part3-Denotational-19184" class="Function Operator">_≃⟨_⟩_</a>
  <a id="plfa_plfa-part3-Denotational-19078" class="Keyword">infix</a>  <a id="plfa_plfa-part3-Denotational-19085" class="Number">3</a> <a id="plfa_plfa-part3-Denotational-19087" href="../Denotational/#plfa_plfa-part3-Denotational-19431" class="Function Operator">_☐</a>

  <a id="plfa_plfa-part3-Denotational-≃-Reasoning.start_"></a><a id="plfa_plfa-part3-Denotational-19093" href="../Denotational/#plfa_plfa-part3-Denotational-19093" class="Function Operator">start_</a> <a id="plfa_plfa-part3-Denotational-19100" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-19102" class="Symbol">∀</a> <a id="plfa_plfa-part3-Denotational-19104" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-19105" href="../Denotational/#plfa_plfa-part3-Denotational-19105" class="Bound">x</a> <a id="plfa_plfa-part3-Denotational-19107" href="../Denotational/#plfa_plfa-part3-Denotational-19107" class="Bound">y</a> <a id="plfa_plfa-part3-Denotational-19109" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-19111" href="../Denotational/#plfa_plfa-part3-Denotational-17192" class="Function">Denotation</a> <a id="plfa_plfa-part3-Denotational-19122" href="../Denotational/#plfa_plfa-part3-Denotational-19014" class="Bound">Γ</a><a id="plfa_plfa-part3-Denotational-19123" class="Symbol">}</a>
    <a id="plfa_plfa-part3-Denotational-19129" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-19131" href="../Denotational/#plfa_plfa-part3-Denotational-19105" class="Bound">x</a> <a id="plfa_plfa-part3-Denotational-19133" href="../Denotational/#plfa_plfa-part3-Denotational-17595" class="Function Operator">≃</a> <a id="plfa_plfa-part3-Denotational-19135" href="../Denotational/#plfa_plfa-part3-Denotational-19107" class="Bound">y</a>
      <a id="plfa_plfa-part3-Denotational-19143" class="Comment">-----</a>
    <a id="plfa_plfa-part3-Denotational-19153" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-19155" href="../Denotational/#plfa_plfa-part3-Denotational-19105" class="Bound">x</a> <a id="plfa_plfa-part3-Denotational-19157" href="../Denotational/#plfa_plfa-part3-Denotational-17595" class="Function Operator">≃</a> <a id="plfa_plfa-part3-Denotational-19159" href="../Denotational/#plfa_plfa-part3-Denotational-19107" class="Bound">y</a>
  <a id="plfa_plfa-part3-Denotational-19163" href="../Denotational/#plfa_plfa-part3-Denotational-19093" class="Function Operator">start</a> <a id="plfa_plfa-part3-Denotational-19169" href="../Denotational/#plfa_plfa-part3-Denotational-19169" class="Bound">x≃y</a>  <a id="plfa_plfa-part3-Denotational-19174" class="Symbol">=</a>  <a id="plfa_plfa-part3-Denotational-19177" href="../Denotational/#plfa_plfa-part3-Denotational-19169" class="Bound">x≃y</a>

  <a id="plfa_plfa-part3-Denotational-≃-Reasoning._≃⟨_⟩_"></a><a id="plfa_plfa-part3-Denotational-19184" href="../Denotational/#plfa_plfa-part3-Denotational-19184" class="Function Operator">_≃⟨_⟩_</a> <a id="plfa_plfa-part3-Denotational-19191" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-19193" class="Symbol">∀</a> <a id="plfa_plfa-part3-Denotational-19195" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-19196" href="../Denotational/#plfa_plfa-part3-Denotational-19196" class="Bound">x</a> <a id="plfa_plfa-part3-Denotational-19198" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-19200" href="../Denotational/#plfa_plfa-part3-Denotational-17192" class="Function">Denotation</a> <a id="plfa_plfa-part3-Denotational-19211" href="../Denotational/#plfa_plfa-part3-Denotational-19014" class="Bound">Γ</a><a id="plfa_plfa-part3-Denotational-19212" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-19214" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-19215" href="../Denotational/#plfa_plfa-part3-Denotational-19215" class="Bound">y</a> <a id="plfa_plfa-part3-Denotational-19217" href="../Denotational/#plfa_plfa-part3-Denotational-19217" class="Bound">z</a> <a id="plfa_plfa-part3-Denotational-19219" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-19221" href="../Denotational/#plfa_plfa-part3-Denotational-17192" class="Function">Denotation</a> <a id="plfa_plfa-part3-Denotational-19232" href="../Denotational/#plfa_plfa-part3-Denotational-19014" class="Bound">Γ</a><a id="plfa_plfa-part3-Denotational-19233" class="Symbol">}</a>
    <a id="plfa_plfa-part3-Denotational-19239" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-19241" href="../Denotational/#plfa_plfa-part3-Denotational-19196" class="Bound">x</a> <a id="plfa_plfa-part3-Denotational-19243" href="../Denotational/#plfa_plfa-part3-Denotational-17595" class="Function Operator">≃</a> <a id="plfa_plfa-part3-Denotational-19245" href="../Denotational/#plfa_plfa-part3-Denotational-19215" class="Bound">y</a>
    <a id="plfa_plfa-part3-Denotational-19251" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-19253" href="../Denotational/#plfa_plfa-part3-Denotational-19215" class="Bound">y</a> <a id="plfa_plfa-part3-Denotational-19255" href="../Denotational/#plfa_plfa-part3-Denotational-17595" class="Function Operator">≃</a> <a id="plfa_plfa-part3-Denotational-19257" href="../Denotational/#plfa_plfa-part3-Denotational-19217" class="Bound">z</a>
      <a id="plfa_plfa-part3-Denotational-19265" class="Comment">-----</a>
    <a id="plfa_plfa-part3-Denotational-19275" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-19277" href="../Denotational/#plfa_plfa-part3-Denotational-19196" class="Bound">x</a> <a id="plfa_plfa-part3-Denotational-19279" href="../Denotational/#plfa_plfa-part3-Denotational-17595" class="Function Operator">≃</a> <a id="plfa_plfa-part3-Denotational-19281" href="../Denotational/#plfa_plfa-part3-Denotational-19217" class="Bound">z</a>
  <a id="plfa_plfa-part3-Denotational-19285" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-19286" href="../Denotational/#plfa_plfa-part3-Denotational-19286" class="Bound">x</a> <a id="plfa_plfa-part3-Denotational-19288" href="../Denotational/#plfa_plfa-part3-Denotational-19184" class="Function Operator">≃⟨</a> <a id="plfa_plfa-part3-Denotational-19291" href="../Denotational/#plfa_plfa-part3-Denotational-19291" class="Bound">x≃y</a> <a id="plfa_plfa-part3-Denotational-19295" href="../Denotational/#plfa_plfa-part3-Denotational-19184" class="Function Operator">⟩</a> <a id="plfa_plfa-part3-Denotational-19297" href="../Denotational/#plfa_plfa-part3-Denotational-19297" class="Bound">y≃z</a><a id="plfa_plfa-part3-Denotational-19300" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-19302" class="Symbol">=</a>  <a id="plfa_plfa-part3-Denotational-19305" href="../Denotational/#plfa_plfa-part3-Denotational-18004" class="Function">≃-trans</a> <a id="plfa_plfa-part3-Denotational-19313" href="../Denotational/#plfa_plfa-part3-Denotational-19291" class="Bound">x≃y</a> <a id="plfa_plfa-part3-Denotational-19317" href="../Denotational/#plfa_plfa-part3-Denotational-19297" class="Bound">y≃z</a>

  <a id="plfa_plfa-part3-Denotational-≃-Reasoning._≃⟨⟩_"></a><a id="plfa_plfa-part3-Denotational-19324" href="../Denotational/#plfa_plfa-part3-Denotational-19324" class="Function Operator">_≃⟨⟩_</a> <a id="plfa_plfa-part3-Denotational-19330" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-19332" class="Symbol">∀</a> <a id="plfa_plfa-part3-Denotational-19334" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-19335" href="../Denotational/#plfa_plfa-part3-Denotational-19335" class="Bound">x</a> <a id="plfa_plfa-part3-Denotational-19337" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-19339" href="../Denotational/#plfa_plfa-part3-Denotational-17192" class="Function">Denotation</a> <a id="plfa_plfa-part3-Denotational-19350" href="../Denotational/#plfa_plfa-part3-Denotational-19014" class="Bound">Γ</a><a id="plfa_plfa-part3-Denotational-19351" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-19353" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-19354" href="../Denotational/#plfa_plfa-part3-Denotational-19354" class="Bound">y</a> <a id="plfa_plfa-part3-Denotational-19356" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-19358" href="../Denotational/#plfa_plfa-part3-Denotational-17192" class="Function">Denotation</a> <a id="plfa_plfa-part3-Denotational-19369" href="../Denotational/#plfa_plfa-part3-Denotational-19014" class="Bound">Γ</a><a id="plfa_plfa-part3-Denotational-19370" class="Symbol">}</a>
    <a id="plfa_plfa-part3-Denotational-19376" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-19378" href="../Denotational/#plfa_plfa-part3-Denotational-19335" class="Bound">x</a> <a id="plfa_plfa-part3-Denotational-19380" href="../Denotational/#plfa_plfa-part3-Denotational-17595" class="Function Operator">≃</a> <a id="plfa_plfa-part3-Denotational-19382" href="../Denotational/#plfa_plfa-part3-Denotational-19354" class="Bound">y</a>
      <a id="plfa_plfa-part3-Denotational-19390" class="Comment">-----</a>
    <a id="plfa_plfa-part3-Denotational-19400" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-19402" href="../Denotational/#plfa_plfa-part3-Denotational-19335" class="Bound">x</a> <a id="plfa_plfa-part3-Denotational-19404" href="../Denotational/#plfa_plfa-part3-Denotational-17595" class="Function Operator">≃</a> <a id="plfa_plfa-part3-Denotational-19406" href="../Denotational/#plfa_plfa-part3-Denotational-19354" class="Bound">y</a>
  <a id="plfa_plfa-part3-Denotational-19410" href="../Denotational/#plfa_plfa-part3-Denotational-19410" class="Bound">x</a> <a id="plfa_plfa-part3-Denotational-19412" href="../Denotational/#plfa_plfa-part3-Denotational-19324" class="Function Operator">≃⟨⟩</a> <a id="plfa_plfa-part3-Denotational-19416" href="../Denotational/#plfa_plfa-part3-Denotational-19416" class="Bound">x≃y</a>  <a id="plfa_plfa-part3-Denotational-19421" class="Symbol">=</a>  <a id="plfa_plfa-part3-Denotational-19424" href="../Denotational/#plfa_plfa-part3-Denotational-19416" class="Bound">x≃y</a>

  <a id="plfa_plfa-part3-Denotational-≃-Reasoning._☐"></a><a id="plfa_plfa-part3-Denotational-19431" href="../Denotational/#plfa_plfa-part3-Denotational-19431" class="Function Operator">_☐</a> <a id="plfa_plfa-part3-Denotational-19434" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-19436" class="Symbol">∀</a> <a id="plfa_plfa-part3-Denotational-19438" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-19439" href="../Denotational/#plfa_plfa-part3-Denotational-19439" class="Bound">x</a> <a id="plfa_plfa-part3-Denotational-19441" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-19443" href="../Denotational/#plfa_plfa-part3-Denotational-17192" class="Function">Denotation</a> <a id="plfa_plfa-part3-Denotational-19454" href="../Denotational/#plfa_plfa-part3-Denotational-19014" class="Bound">Γ</a><a id="plfa_plfa-part3-Denotational-19455" class="Symbol">)</a>
      <a id="plfa_plfa-part3-Denotational-19463" class="Comment">-----</a>
    <a id="plfa_plfa-part3-Denotational-19473" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-19475" href="../Denotational/#plfa_plfa-part3-Denotational-19439" class="Bound">x</a> <a id="plfa_plfa-part3-Denotational-19477" href="../Denotational/#plfa_plfa-part3-Denotational-17595" class="Function Operator">≃</a> <a id="plfa_plfa-part3-Denotational-19479" href="../Denotational/#plfa_plfa-part3-Denotational-19439" class="Bound">x</a>
  <a id="plfa_plfa-part3-Denotational-19483" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-19484" href="../Denotational/#plfa_plfa-part3-Denotational-19484" class="Bound">x</a> <a id="plfa_plfa-part3-Denotational-19486" href="../Denotational/#plfa_plfa-part3-Denotational-19431" class="Function Operator">☐</a><a id="plfa_plfa-part3-Denotational-19487" class="Symbol">)</a>  <a id="plfa_plfa-part3-Denotational-19490" class="Symbol">=</a>  <a id="plfa_plfa-part3-Denotational-19493" href="../Denotational/#plfa_plfa-part3-Denotational-17775" class="Function">≃-refl</a>
</pre><h2 id="road-map-for-the-following-chapters">Road map for the following chapters</h2><p>The subsequent chapters prove that the denotational semantics has several desirable properties. First, we prove that the semantics is compositional, i.e., that the denotation of a term is a function of the denotations of its subterms. To do this we shall prove equations of the following shape.</p><pre><code>ℰ (` x) ≃ ...
ℰ (ƛ M) ≃ ... ℰ M ...
ℰ (M · N) ≃ ... ℰ M ... ℰ N ...</code></pre><p>The compositionality property is not trivial because the semantics we have defined includes three rules that are not syntax directed: <code>⊥-intro</code>, <code>⊔-intro</code>, and <code>sub</code>. The above equations suggest that the denotational semantics can be defined as a recursive function, and indeed, we give such a definition and prove that it is equivalent to ℰ.</p><p>Next we investigate whether the denotational semantics and the reduction semantics are equivalent. Recall that the job of a language semantics is to describe the observable behavior of a given program <code>M</code>. For the lambda calculus there are several choices that one can make, but they usually boil down to a single bit of information:</p><ul><li>divergence: the program <code>M</code> executes forever.</li><li>termination: the program <code>M</code> halts.</li></ul><p>We can characterize divergence and termination in terms of reduction.</p><ul><li>divergence: <code>¬ (M —↠ ƛ N)</code> for any term <code>N</code>.</li><li>termination: <code>M —↠ ƛ N</code> for some term <code>N</code>.</li></ul><p>We can also characterize divergence and termination using denotations.</p><ul><li>divergence: <code>¬ (∅ ⊢ M ↓ v ↦ w)</code> for any <code>v</code> and <code>w</code>.</li><li>termination: <code>∅ ⊢ M ↓ v ↦ w</code> for some <code>v</code> and <code>w</code>.</li></ul><p>Alternatively, we can use the denotation function <code>ℰ</code>.</p><ul><li>divergence: <code>¬ (ℰ M ≃ ℰ (ƛ N))</code> for any term <code>N</code>.</li><li>termination: <code>ℰ M ≃ ℰ (ƛ N)</code> for some term <code>N</code>.</li></ul><p>So the question is whether the reduction semantics and denotational semantics are equivalent.</p><pre><code>(∃ N. M —↠ ƛ N)  iff  (∃ N. ℰ M ≃ ℰ (ƛ N))</code></pre><p>We address each direction of the equivalence in the second and third chapters. In the second chapter we prove that reduction to a lambda abstraction implies denotational equality to a lambda abstraction. This property is called the <em>soundness</em> in the literature.</p><pre><code>M —↠ ƛ N  implies  ℰ M ≃ ℰ (ƛ N)</code></pre><p>In the third chapter we prove that denotational equality to a lambda abstraction implies reduction to a lambda abstraction. This property is called <em>adequacy</em> in the literature.</p><pre><code>ℰ M ≃ ℰ (ƛ N)  implies M —↠ ƛ N′ for some N′</code></pre><p>The fourth chapter applies the results of the three preceding chapters (compositionality, soundness, and adequacy) to prove that denotational equality implies a property called <em>contextual equivalence</em>. This property is important because it justifies the use of denotational equality in proving the correctness of program transformations such as performance optimizations.</p><p>The proofs of all of these properties rely on some basic results about the denotational semantics, which we establish in the rest of this chapter. We start with some lemmas about renaming, which are quite similar to the renaming lemmas that we have seen in previous chapters. We conclude with a proof of an important inversion lemma for the less-than relation regarding function values.</p><h2 id="renaming-preserves-denotations">Renaming preserves denotations</h2><p>We shall prove that renaming variables, and changing the environment accordingly, preserves the meaning of a term. We generalize the renaming lemma to allow the values in the new environment to be the same or larger than the original values. This generalization is useful in proving that reduction implies denotational equality.</p><p>As before, we need an extension lemma to handle the case where we proceed underneath a lambda abstraction. Suppose that <code>ρ</code> is a renaming that maps variables in <code>γ</code> into variables with equal or larger values in <code>δ</code>. This lemmas says that extending the renaming producing a renaming <code>ext r</code> that maps <code>γ , v</code> to <code>δ , v</code>.</p><pre class="Agda"><a id="plfa_plfa-part3-Denotational-ext-⊑"></a><a id="plfa_plfa-part3-Denotational-23340" href="../Denotational/#plfa_plfa-part3-Denotational-23340" class="Function">ext-⊑</a> <a id="plfa_plfa-part3-Denotational-23346" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-23348" class="Symbol">∀</a> <a id="plfa_plfa-part3-Denotational-23350" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-23351" href="../Denotational/#plfa_plfa-part3-Denotational-23351" class="Bound">Γ</a> <a id="plfa_plfa-part3-Denotational-23353" href="../Denotational/#plfa_plfa-part3-Denotational-23353" class="Bound">Δ</a> <a id="plfa_plfa-part3-Denotational-23355" href="../Denotational/#plfa_plfa-part3-Denotational-23355" class="Bound">v</a><a id="plfa_plfa-part3-Denotational-23356" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-23358" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-23359" href="../Denotational/#plfa_plfa-part3-Denotational-23359" class="Bound">γ</a> <a id="plfa_plfa-part3-Denotational-23361" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-23363" href="../Denotational/#plfa_plfa-part3-Denotational-7135" class="Function">Env</a> <a id="plfa_plfa-part3-Denotational-23367" href="../Denotational/#plfa_plfa-part3-Denotational-23351" class="Bound">Γ</a><a id="plfa_plfa-part3-Denotational-23368" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-23370" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-23371" href="../Denotational/#plfa_plfa-part3-Denotational-23371" class="Bound">δ</a> <a id="plfa_plfa-part3-Denotational-23373" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-23375" href="../Denotational/#plfa_plfa-part3-Denotational-7135" class="Function">Env</a> <a id="plfa_plfa-part3-Denotational-23379" href="../Denotational/#plfa_plfa-part3-Denotational-23353" class="Bound">Δ</a><a id="plfa_plfa-part3-Denotational-23380" class="Symbol">}</a>
  <a id="plfa_plfa-part3-Denotational-23384" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-23386" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-23387" href="../Denotational/#plfa_plfa-part3-Denotational-23387" class="Bound">ρ</a> <a id="plfa_plfa-part3-Denotational-23389" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-23391" href="../Substitution/#plfa_plfa-part2-Substitution-2124" class="Function">Rename</a> <a id="plfa_plfa-part3-Denotational-23398" href="../Denotational/#plfa_plfa-part3-Denotational-23351" class="Bound">Γ</a> <a id="plfa_plfa-part3-Denotational-23400" href="../Denotational/#plfa_plfa-part3-Denotational-23353" class="Bound">Δ</a><a id="plfa_plfa-part3-Denotational-23401" class="Symbol">)</a>
  <a id="plfa_plfa-part3-Denotational-23405" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-23407" href="../Denotational/#plfa_plfa-part3-Denotational-23359" class="Bound">γ</a> <a id="plfa_plfa-part3-Denotational-23409" href="../Denotational/#plfa_plfa-part3-Denotational-7967" class="Function Operator">`⊑</a> <a id="plfa_plfa-part3-Denotational-23412" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-23413" href="../Denotational/#plfa_plfa-part3-Denotational-23371" class="Bound">δ</a> <a id="plfa_plfa-part3-Denotational-23415" href="https://agda.github.io/agda-stdlib/v1.3/Function.Base.html#992" class="Function Operator">∘</a> <a id="plfa_plfa-part3-Denotational-23417" href="../Denotational/#plfa_plfa-part3-Denotational-23387" class="Bound">ρ</a><a id="plfa_plfa-part3-Denotational-23418" class="Symbol">)</a>
    <a id="plfa_plfa-part3-Denotational-23424" class="Comment">------------------------------</a>
  <a id="plfa_plfa-part3-Denotational-23457" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-23459" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-23460" href="../Denotational/#plfa_plfa-part3-Denotational-23359" class="Bound">γ</a> <a id="plfa_plfa-part3-Denotational-23462" href="../Denotational/#plfa_plfa-part3-Denotational-7296" class="Function Operator">`,</a> <a id="plfa_plfa-part3-Denotational-23465" href="../Denotational/#plfa_plfa-part3-Denotational-23355" class="Bound">v</a><a id="plfa_plfa-part3-Denotational-23466" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-23468" href="../Denotational/#plfa_plfa-part3-Denotational-7967" class="Function Operator">`⊑</a> <a id="plfa_plfa-part3-Denotational-23471" class="Symbol">((</a><a id="plfa_plfa-part3-Denotational-23473" href="../Denotational/#plfa_plfa-part3-Denotational-23371" class="Bound">δ</a> <a id="plfa_plfa-part3-Denotational-23475" href="../Denotational/#plfa_plfa-part3-Denotational-7296" class="Function Operator">`,</a> <a id="plfa_plfa-part3-Denotational-23478" href="../Denotational/#plfa_plfa-part3-Denotational-23355" class="Bound">v</a><a id="plfa_plfa-part3-Denotational-23479" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-23481" href="https://agda.github.io/agda-stdlib/v1.3/Function.Base.html#992" class="Function Operator">∘</a> <a id="plfa_plfa-part3-Denotational-23483" href="../Untyped/#plfa_plfa-part2-Untyped-5893" class="Function">ext</a> <a id="plfa_plfa-part3-Denotational-23487" href="../Denotational/#plfa_plfa-part3-Denotational-23387" class="Bound">ρ</a><a id="plfa_plfa-part3-Denotational-23488" class="Symbol">)</a>
<a id="plfa_plfa-part3-Denotational-23490" href="../Denotational/#plfa_plfa-part3-Denotational-23340" class="Function">ext-⊑</a> <a id="plfa_plfa-part3-Denotational-23496" href="../Denotational/#plfa_plfa-part3-Denotational-23496" class="Bound">ρ</a> <a id="plfa_plfa-part3-Denotational-23498" href="../Denotational/#plfa_plfa-part3-Denotational-23498" class="Bound">lt</a> <a id="plfa_plfa-part3-Denotational-23501" href="../Untyped/#plfa_plfa-part2-Untyped-3505" class="InductiveConstructor">Z</a> <a id="plfa_plfa-part3-Denotational-23503" class="Symbol">=</a> <a id="plfa_plfa-part3-Denotational-23505" href="../Denotational/#plfa_plfa-part3-Denotational-5469" class="Function">⊑-refl</a>
<a id="plfa_plfa-part3-Denotational-23512" href="../Denotational/#plfa_plfa-part3-Denotational-23340" class="Function">ext-⊑</a> <a id="plfa_plfa-part3-Denotational-23518" href="../Denotational/#plfa_plfa-part3-Denotational-23518" class="Bound">ρ</a> <a id="plfa_plfa-part3-Denotational-23520" href="../Denotational/#plfa_plfa-part3-Denotational-23520" class="Bound">lt</a> <a id="plfa_plfa-part3-Denotational-23523" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-23524" href="../Untyped/#plfa_plfa-part2-Untyped-3550" class="InductiveConstructor Operator">S</a> <a id="plfa_plfa-part3-Denotational-23526" href="../Denotational/#plfa_plfa-part3-Denotational-23526" class="Bound">n′</a><a id="plfa_plfa-part3-Denotational-23528" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-23530" class="Symbol">=</a> <a id="plfa_plfa-part3-Denotational-23532" href="../Denotational/#plfa_plfa-part3-Denotational-23520" class="Bound">lt</a> <a id="plfa_plfa-part3-Denotational-23535" href="../Denotational/#plfa_plfa-part3-Denotational-23526" class="Bound">n′</a>
</pre><p>We proceed by cases on the de Bruijn index <code>n</code>.</p><ul><li><p>If it is <code>Z</code>, then we just need to show that <code>v ⊑ v</code>, which we have by <code>⊑-refl</code>.</p></li><li><p>If it is <code>S n′</code>, then the goal simplifies to <code>γ n′ ⊑ δ (ρ n′)</code>, which is an instance of the premise.</p></li></ul><p>Now for the renaming lemma. Suppose we have a renaming that maps variables in <code>γ</code> into variables with the same values in <code>δ</code>. If <code>M</code> results in <code>v</code> when evaluated in environment <code>γ</code>, then applying the renaming to <code>M</code> produces a program that results in the same value <code>v</code> when evaluated in <code>δ</code>.</p><pre class="Agda"><a id="plfa_plfa-part3-Denotational-rename-pres"></a><a id="plfa_plfa-part3-Denotational-24086" href="../Denotational/#plfa_plfa-part3-Denotational-24086" class="Function">rename-pres</a> <a id="plfa_plfa-part3-Denotational-24098" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-24100" class="Symbol">∀</a> <a id="plfa_plfa-part3-Denotational-24102" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-24103" href="../Denotational/#plfa_plfa-part3-Denotational-24103" class="Bound">Γ</a> <a id="plfa_plfa-part3-Denotational-24105" href="../Denotational/#plfa_plfa-part3-Denotational-24105" class="Bound">Δ</a> <a id="plfa_plfa-part3-Denotational-24107" href="../Denotational/#plfa_plfa-part3-Denotational-24107" class="Bound">v</a><a id="plfa_plfa-part3-Denotational-24108" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-24110" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-24111" href="../Denotational/#plfa_plfa-part3-Denotational-24111" class="Bound">γ</a> <a id="plfa_plfa-part3-Denotational-24113" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-24115" href="../Denotational/#plfa_plfa-part3-Denotational-7135" class="Function">Env</a> <a id="plfa_plfa-part3-Denotational-24119" href="../Denotational/#plfa_plfa-part3-Denotational-24103" class="Bound">Γ</a><a id="plfa_plfa-part3-Denotational-24120" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-24122" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-24123" href="../Denotational/#plfa_plfa-part3-Denotational-24123" class="Bound">δ</a> <a id="plfa_plfa-part3-Denotational-24125" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-24127" href="../Denotational/#plfa_plfa-part3-Denotational-7135" class="Function">Env</a> <a id="plfa_plfa-part3-Denotational-24131" href="../Denotational/#plfa_plfa-part3-Denotational-24105" class="Bound">Δ</a><a id="plfa_plfa-part3-Denotational-24132" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-24134" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-24135" href="../Denotational/#plfa_plfa-part3-Denotational-24135" class="Bound">M</a> <a id="plfa_plfa-part3-Denotational-24137" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-24139" href="../Denotational/#plfa_plfa-part3-Denotational-24103" class="Bound">Γ</a> <a id="plfa_plfa-part3-Denotational-24141" href="../Untyped/#plfa_plfa-part2-Untyped-4246" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part3-Denotational-24143" href="../Untyped/#plfa_plfa-part2-Untyped-2820" class="InductiveConstructor">★</a><a id="plfa_plfa-part3-Denotational-24144" class="Symbol">}</a>
  <a id="plfa_plfa-part3-Denotational-24148" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-24150" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-24151" href="../Denotational/#plfa_plfa-part3-Denotational-24151" class="Bound">ρ</a> <a id="plfa_plfa-part3-Denotational-24153" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-24155" href="../Substitution/#plfa_plfa-part2-Substitution-2124" class="Function">Rename</a> <a id="plfa_plfa-part3-Denotational-24162" href="../Denotational/#plfa_plfa-part3-Denotational-24103" class="Bound">Γ</a> <a id="plfa_plfa-part3-Denotational-24164" href="../Denotational/#plfa_plfa-part3-Denotational-24105" class="Bound">Δ</a><a id="plfa_plfa-part3-Denotational-24165" class="Symbol">)</a>
  <a id="plfa_plfa-part3-Denotational-24169" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-24171" href="../Denotational/#plfa_plfa-part3-Denotational-24111" class="Bound">γ</a> <a id="plfa_plfa-part3-Denotational-24173" href="../Denotational/#plfa_plfa-part3-Denotational-7967" class="Function Operator">`⊑</a> <a id="plfa_plfa-part3-Denotational-24176" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-24177" href="../Denotational/#plfa_plfa-part3-Denotational-24123" class="Bound">δ</a> <a id="plfa_plfa-part3-Denotational-24179" href="https://agda.github.io/agda-stdlib/v1.3/Function.Base.html#992" class="Function Operator">∘</a> <a id="plfa_plfa-part3-Denotational-24181" href="../Denotational/#plfa_plfa-part3-Denotational-24151" class="Bound">ρ</a><a id="plfa_plfa-part3-Denotational-24182" class="Symbol">)</a>
  <a id="plfa_plfa-part3-Denotational-24186" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-24188" href="../Denotational/#plfa_plfa-part3-Denotational-24111" class="Bound">γ</a> <a id="plfa_plfa-part3-Denotational-24190" href="../Denotational/#plfa_plfa-part3-Denotational-9217" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part3-Denotational-24192" href="../Denotational/#plfa_plfa-part3-Denotational-24135" class="Bound">M</a> <a id="plfa_plfa-part3-Denotational-24194" href="../Denotational/#plfa_plfa-part3-Denotational-9217" class="Datatype Operator">↓</a> <a id="plfa_plfa-part3-Denotational-24196" href="../Denotational/#plfa_plfa-part3-Denotational-24107" class="Bound">v</a>
    <a id="plfa_plfa-part3-Denotational-24202" class="Comment">---------------------</a>
  <a id="plfa_plfa-part3-Denotational-24226" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-24228" href="../Denotational/#plfa_plfa-part3-Denotational-24123" class="Bound">δ</a> <a id="plfa_plfa-part3-Denotational-24230" href="../Denotational/#plfa_plfa-part3-Denotational-9217" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part3-Denotational-24232" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-24233" href="../Untyped/#plfa_plfa-part2-Untyped-6207" class="Function">rename</a> <a id="plfa_plfa-part3-Denotational-24240" href="../Denotational/#plfa_plfa-part3-Denotational-24151" class="Bound">ρ</a> <a id="plfa_plfa-part3-Denotational-24242" href="../Denotational/#plfa_plfa-part3-Denotational-24135" class="Bound">M</a><a id="plfa_plfa-part3-Denotational-24243" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-24245" href="../Denotational/#plfa_plfa-part3-Denotational-9217" class="Datatype Operator">↓</a> <a id="plfa_plfa-part3-Denotational-24247" href="../Denotational/#plfa_plfa-part3-Denotational-24107" class="Bound">v</a>
<a id="plfa_plfa-part3-Denotational-24249" href="../Denotational/#plfa_plfa-part3-Denotational-24086" class="Function">rename-pres</a> <a id="plfa_plfa-part3-Denotational-24261" href="../Denotational/#plfa_plfa-part3-Denotational-24261" class="Bound">ρ</a> <a id="plfa_plfa-part3-Denotational-24263" href="../Denotational/#plfa_plfa-part3-Denotational-24263" class="Bound">lt</a> <a id="plfa_plfa-part3-Denotational-24266" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-24267" href="../Denotational/#plfa_plfa-part3-Denotational-9271" class="InductiveConstructor">var</a> <a id="plfa_plfa-part3-Denotational-24271" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-24272" class="Argument">x</a> <a id="plfa_plfa-part3-Denotational-24274" class="Symbol">=</a> <a id="plfa_plfa-part3-Denotational-24276" href="../Denotational/#plfa_plfa-part3-Denotational-24276" class="Bound">x</a><a id="plfa_plfa-part3-Denotational-24277" class="Symbol">})</a> <a id="plfa_plfa-part3-Denotational-24280" class="Symbol">=</a> <a id="plfa_plfa-part3-Denotational-24282" href="../Denotational/#plfa_plfa-part3-Denotational-9762" class="InductiveConstructor">sub</a> <a id="plfa_plfa-part3-Denotational-24286" href="../Denotational/#plfa_plfa-part3-Denotational-9271" class="InductiveConstructor">var</a> <a id="plfa_plfa-part3-Denotational-24290" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-24291" href="../Denotational/#plfa_plfa-part3-Denotational-24263" class="Bound">lt</a> <a id="plfa_plfa-part3-Denotational-24294" href="../Denotational/#plfa_plfa-part3-Denotational-24276" class="Bound">x</a><a id="plfa_plfa-part3-Denotational-24295" class="Symbol">)</a>
<a id="plfa_plfa-part3-Denotational-24297" href="../Denotational/#plfa_plfa-part3-Denotational-24086" class="Function">rename-pres</a> <a id="plfa_plfa-part3-Denotational-24309" href="../Denotational/#plfa_plfa-part3-Denotational-24309" class="Bound">ρ</a> <a id="plfa_plfa-part3-Denotational-24311" href="../Denotational/#plfa_plfa-part3-Denotational-24311" class="Bound">lt</a> <a id="plfa_plfa-part3-Denotational-24314" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-24315" href="../Denotational/#plfa_plfa-part3-Denotational-9346" class="InductiveConstructor">↦-elim</a> <a id="plfa_plfa-part3-Denotational-24322" href="../Denotational/#plfa_plfa-part3-Denotational-24322" class="Bound">d</a> <a id="plfa_plfa-part3-Denotational-24324" href="../Denotational/#plfa_plfa-part3-Denotational-24324" class="Bound">d₁</a><a id="plfa_plfa-part3-Denotational-24326" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-24328" class="Symbol">=</a>
   <a id="plfa_plfa-part3-Denotational-24333" href="../Denotational/#plfa_plfa-part3-Denotational-9346" class="InductiveConstructor">↦-elim</a> <a id="plfa_plfa-part3-Denotational-24340" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-24341" href="../Denotational/#plfa_plfa-part3-Denotational-24086" class="Function">rename-pres</a> <a id="plfa_plfa-part3-Denotational-24353" href="../Denotational/#plfa_plfa-part3-Denotational-24309" class="Bound">ρ</a> <a id="plfa_plfa-part3-Denotational-24355" href="../Denotational/#plfa_plfa-part3-Denotational-24311" class="Bound">lt</a> <a id="plfa_plfa-part3-Denotational-24358" href="../Denotational/#plfa_plfa-part3-Denotational-24322" class="Bound">d</a><a id="plfa_plfa-part3-Denotational-24359" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-24361" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-24362" href="../Denotational/#plfa_plfa-part3-Denotational-24086" class="Function">rename-pres</a> <a id="plfa_plfa-part3-Denotational-24374" href="../Denotational/#plfa_plfa-part3-Denotational-24309" class="Bound">ρ</a> <a id="plfa_plfa-part3-Denotational-24376" href="../Denotational/#plfa_plfa-part3-Denotational-24311" class="Bound">lt</a> <a id="plfa_plfa-part3-Denotational-24379" href="../Denotational/#plfa_plfa-part3-Denotational-24324" class="Bound">d₁</a><a id="plfa_plfa-part3-Denotational-24381" class="Symbol">)</a>
<a id="plfa_plfa-part3-Denotational-24383" href="../Denotational/#plfa_plfa-part3-Denotational-24086" class="Function">rename-pres</a> <a id="plfa_plfa-part3-Denotational-24395" href="../Denotational/#plfa_plfa-part3-Denotational-24395" class="Bound">ρ</a> <a id="plfa_plfa-part3-Denotational-24397" href="../Denotational/#plfa_plfa-part3-Denotational-24397" class="Bound">lt</a> <a id="plfa_plfa-part3-Denotational-24400" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-24401" href="../Denotational/#plfa_plfa-part3-Denotational-9468" class="InductiveConstructor">↦-intro</a> <a id="plfa_plfa-part3-Denotational-24409" href="../Denotational/#plfa_plfa-part3-Denotational-24409" class="Bound">d</a><a id="plfa_plfa-part3-Denotational-24410" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-24412" class="Symbol">=</a>
   <a id="plfa_plfa-part3-Denotational-24417" href="../Denotational/#plfa_plfa-part3-Denotational-9468" class="InductiveConstructor">↦-intro</a> <a id="plfa_plfa-part3-Denotational-24425" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-24426" href="../Denotational/#plfa_plfa-part3-Denotational-24086" class="Function">rename-pres</a> <a id="plfa_plfa-part3-Denotational-24438" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-24439" href="../Untyped/#plfa_plfa-part2-Untyped-5893" class="Function">ext</a> <a id="plfa_plfa-part3-Denotational-24443" href="../Denotational/#plfa_plfa-part3-Denotational-24395" class="Bound">ρ</a><a id="plfa_plfa-part3-Denotational-24444" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-24446" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-24447" href="../Denotational/#plfa_plfa-part3-Denotational-23340" class="Function">ext-⊑</a> <a id="plfa_plfa-part3-Denotational-24453" href="../Denotational/#plfa_plfa-part3-Denotational-24395" class="Bound">ρ</a> <a id="plfa_plfa-part3-Denotational-24455" href="../Denotational/#plfa_plfa-part3-Denotational-24397" class="Bound">lt</a><a id="plfa_plfa-part3-Denotational-24457" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-24459" href="../Denotational/#plfa_plfa-part3-Denotational-24409" class="Bound">d</a><a id="plfa_plfa-part3-Denotational-24460" class="Symbol">)</a>
<a id="plfa_plfa-part3-Denotational-24462" href="../Denotational/#plfa_plfa-part3-Denotational-24086" class="Function">rename-pres</a> <a id="plfa_plfa-part3-Denotational-24474" href="../Denotational/#plfa_plfa-part3-Denotational-24474" class="Bound">ρ</a> <a id="plfa_plfa-part3-Denotational-24476" href="../Denotational/#plfa_plfa-part3-Denotational-24476" class="Bound">lt</a> <a id="plfa_plfa-part3-Denotational-24479" href="../Denotational/#plfa_plfa-part3-Denotational-9580" class="InductiveConstructor">⊥-intro</a> <a id="plfa_plfa-part3-Denotational-24487" class="Symbol">=</a> <a id="plfa_plfa-part3-Denotational-24489" href="../Denotational/#plfa_plfa-part3-Denotational-9580" class="InductiveConstructor">⊥-intro</a>
<a id="plfa_plfa-part3-Denotational-24497" href="../Denotational/#plfa_plfa-part3-Denotational-24086" class="Function">rename-pres</a> <a id="plfa_plfa-part3-Denotational-24509" href="../Denotational/#plfa_plfa-part3-Denotational-24509" class="Bound">ρ</a> <a id="plfa_plfa-part3-Denotational-24511" href="../Denotational/#plfa_plfa-part3-Denotational-24511" class="Bound">lt</a> <a id="plfa_plfa-part3-Denotational-24514" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-24515" href="../Denotational/#plfa_plfa-part3-Denotational-9647" class="InductiveConstructor">⊔-intro</a> <a id="plfa_plfa-part3-Denotational-24523" href="../Denotational/#plfa_plfa-part3-Denotational-24523" class="Bound">d</a> <a id="plfa_plfa-part3-Denotational-24525" href="../Denotational/#plfa_plfa-part3-Denotational-24525" class="Bound">d₁</a><a id="plfa_plfa-part3-Denotational-24527" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-24529" class="Symbol">=</a>
   <a id="plfa_plfa-part3-Denotational-24534" href="../Denotational/#plfa_plfa-part3-Denotational-9647" class="InductiveConstructor">⊔-intro</a> <a id="plfa_plfa-part3-Denotational-24542" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-24543" href="../Denotational/#plfa_plfa-part3-Denotational-24086" class="Function">rename-pres</a> <a id="plfa_plfa-part3-Denotational-24555" href="../Denotational/#plfa_plfa-part3-Denotational-24509" class="Bound">ρ</a> <a id="plfa_plfa-part3-Denotational-24557" href="../Denotational/#plfa_plfa-part3-Denotational-24511" class="Bound">lt</a> <a id="plfa_plfa-part3-Denotational-24560" href="../Denotational/#plfa_plfa-part3-Denotational-24523" class="Bound">d</a><a id="plfa_plfa-part3-Denotational-24561" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-24563" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-24564" href="../Denotational/#plfa_plfa-part3-Denotational-24086" class="Function">rename-pres</a> <a id="plfa_plfa-part3-Denotational-24576" href="../Denotational/#plfa_plfa-part3-Denotational-24509" class="Bound">ρ</a> <a id="plfa_plfa-part3-Denotational-24578" href="../Denotational/#plfa_plfa-part3-Denotational-24511" class="Bound">lt</a> <a id="plfa_plfa-part3-Denotational-24581" href="../Denotational/#plfa_plfa-part3-Denotational-24525" class="Bound">d₁</a><a id="plfa_plfa-part3-Denotational-24583" class="Symbol">)</a>
<a id="plfa_plfa-part3-Denotational-24585" href="../Denotational/#plfa_plfa-part3-Denotational-24086" class="Function">rename-pres</a> <a id="plfa_plfa-part3-Denotational-24597" href="../Denotational/#plfa_plfa-part3-Denotational-24597" class="Bound">ρ</a> <a id="plfa_plfa-part3-Denotational-24599" href="../Denotational/#plfa_plfa-part3-Denotational-24599" class="Bound">lt</a> <a id="plfa_plfa-part3-Denotational-24602" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-24603" href="../Denotational/#plfa_plfa-part3-Denotational-9762" class="InductiveConstructor">sub</a> <a id="plfa_plfa-part3-Denotational-24607" href="../Denotational/#plfa_plfa-part3-Denotational-24607" class="Bound">d</a> <a id="plfa_plfa-part3-Denotational-24609" href="../Denotational/#plfa_plfa-part3-Denotational-24609" class="Bound">lt′</a><a id="plfa_plfa-part3-Denotational-24612" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-24614" class="Symbol">=</a>
   <a id="plfa_plfa-part3-Denotational-24619" href="../Denotational/#plfa_plfa-part3-Denotational-9762" class="InductiveConstructor">sub</a> <a id="plfa_plfa-part3-Denotational-24623" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-24624" href="../Denotational/#plfa_plfa-part3-Denotational-24086" class="Function">rename-pres</a> <a id="plfa_plfa-part3-Denotational-24636" href="../Denotational/#plfa_plfa-part3-Denotational-24597" class="Bound">ρ</a> <a id="plfa_plfa-part3-Denotational-24638" href="../Denotational/#plfa_plfa-part3-Denotational-24599" class="Bound">lt</a> <a id="plfa_plfa-part3-Denotational-24641" href="../Denotational/#plfa_plfa-part3-Denotational-24607" class="Bound">d</a><a id="plfa_plfa-part3-Denotational-24642" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-24644" href="../Denotational/#plfa_plfa-part3-Denotational-24609" class="Bound">lt′</a>
</pre><p>The proof is by induction on the semantics of <code>M</code>. As you can see, all of the cases are trivial except the cases for variables and lambda.</p><ul><li><p>For a variable <code>x</code>, we make use of the premise to show that <code>γ x ⊑ δ (ρ x)</code>.</p></li><li><p>For a lambda abstraction, the induction hypothesis requires us to extend the renaming. We do so, and use the <code>ext-⊑</code> lemma to show that the extended renaming maps variables to ones with equivalent values.</p></li></ul><h2 id="environment-strengthening-and-identity-renaming">Environment strengthening and identity renaming</h2><p>We shall need a corollary of the renaming lemma that says that replacing the environment with a larger one (a stronger one) does not change whether a term <code>M</code> results in particular value <code>v</code>. In particular, if <code>γ ⊢ M ↓ v</code> and <code>γ ⊑ δ</code>, then <code>δ ⊢ M ↓ v</code>. What does this have to do with renaming? It’s renaming with the identity function. We apply the renaming lemma with the identity renaming, which gives us <code>δ ⊢ rename (λ {A} x → x) M ↓ v</code>, and then we apply the <code>rename-id</code> lemma to obtain <code>δ ⊢ M ↓ v</code>.</p><pre class="Agda"><a id="plfa_plfa-part3-Denotational-⊑-env"></a><a id="plfa_plfa-part3-Denotational-25659" href="../Denotational/#plfa_plfa-part3-Denotational-25659" class="Function">⊑-env</a> <a id="plfa_plfa-part3-Denotational-25665" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-25667" class="Symbol">∀</a> <a id="plfa_plfa-part3-Denotational-25669" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-25670" href="../Denotational/#plfa_plfa-part3-Denotational-25670" class="Bound">Γ</a><a id="plfa_plfa-part3-Denotational-25671" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-25673" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-25674" href="../Denotational/#plfa_plfa-part3-Denotational-25674" class="Bound">γ</a> <a id="plfa_plfa-part3-Denotational-25676" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-25678" href="../Denotational/#plfa_plfa-part3-Denotational-7135" class="Function">Env</a> <a id="plfa_plfa-part3-Denotational-25682" href="../Denotational/#plfa_plfa-part3-Denotational-25670" class="Bound">Γ</a><a id="plfa_plfa-part3-Denotational-25683" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-25685" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-25686" href="../Denotational/#plfa_plfa-part3-Denotational-25686" class="Bound">δ</a> <a id="plfa_plfa-part3-Denotational-25688" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-25690" href="../Denotational/#plfa_plfa-part3-Denotational-7135" class="Function">Env</a> <a id="plfa_plfa-part3-Denotational-25694" href="../Denotational/#plfa_plfa-part3-Denotational-25670" class="Bound">Γ</a><a id="plfa_plfa-part3-Denotational-25695" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-25697" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-25698" href="../Denotational/#plfa_plfa-part3-Denotational-25698" class="Bound">M</a> <a id="plfa_plfa-part3-Denotational-25700" href="../Denotational/#plfa_plfa-part3-Denotational-25700" class="Bound">v</a><a id="plfa_plfa-part3-Denotational-25701" class="Symbol">}</a>
  <a id="plfa_plfa-part3-Denotational-25705" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-25707" href="../Denotational/#plfa_plfa-part3-Denotational-25674" class="Bound">γ</a> <a id="plfa_plfa-part3-Denotational-25709" href="../Denotational/#plfa_plfa-part3-Denotational-9217" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part3-Denotational-25711" href="../Denotational/#plfa_plfa-part3-Denotational-25698" class="Bound">M</a> <a id="plfa_plfa-part3-Denotational-25713" href="../Denotational/#plfa_plfa-part3-Denotational-9217" class="Datatype Operator">↓</a> <a id="plfa_plfa-part3-Denotational-25715" href="../Denotational/#plfa_plfa-part3-Denotational-25700" class="Bound">v</a>
  <a id="plfa_plfa-part3-Denotational-25719" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-25721" href="../Denotational/#plfa_plfa-part3-Denotational-25674" class="Bound">γ</a> <a id="plfa_plfa-part3-Denotational-25723" href="../Denotational/#plfa_plfa-part3-Denotational-7967" class="Function Operator">`⊑</a> <a id="plfa_plfa-part3-Denotational-25726" href="../Denotational/#plfa_plfa-part3-Denotational-25686" class="Bound">δ</a>
    <a id="plfa_plfa-part3-Denotational-25732" class="Comment">----------</a>
  <a id="plfa_plfa-part3-Denotational-25745" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-25747" href="../Denotational/#plfa_plfa-part3-Denotational-25686" class="Bound">δ</a> <a id="plfa_plfa-part3-Denotational-25749" href="../Denotational/#plfa_plfa-part3-Denotational-9217" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part3-Denotational-25751" href="../Denotational/#plfa_plfa-part3-Denotational-25698" class="Bound">M</a> <a id="plfa_plfa-part3-Denotational-25753" href="../Denotational/#plfa_plfa-part3-Denotational-9217" class="Datatype Operator">↓</a> <a id="plfa_plfa-part3-Denotational-25755" href="../Denotational/#plfa_plfa-part3-Denotational-25700" class="Bound">v</a>
<a id="plfa_plfa-part3-Denotational-25757" href="../Denotational/#plfa_plfa-part3-Denotational-25659" class="Function">⊑-env</a><a id="plfa_plfa-part3-Denotational-25762" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-25763" href="../Denotational/#plfa_plfa-part3-Denotational-25763" class="Bound">Γ</a><a id="plfa_plfa-part3-Denotational-25764" class="Symbol">}{</a><a id="plfa_plfa-part3-Denotational-25766" href="../Denotational/#plfa_plfa-part3-Denotational-25766" class="Bound">γ</a><a id="plfa_plfa-part3-Denotational-25767" class="Symbol">}{</a><a id="plfa_plfa-part3-Denotational-25769" href="../Denotational/#plfa_plfa-part3-Denotational-25769" class="Bound">δ</a><a id="plfa_plfa-part3-Denotational-25770" class="Symbol">}{</a><a id="plfa_plfa-part3-Denotational-25772" href="../Denotational/#plfa_plfa-part3-Denotational-25772" class="Bound">M</a><a id="plfa_plfa-part3-Denotational-25773" class="Symbol">}{</a><a id="plfa_plfa-part3-Denotational-25775" href="../Denotational/#plfa_plfa-part3-Denotational-25775" class="Bound">v</a><a id="plfa_plfa-part3-Denotational-25776" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-25778" href="../Denotational/#plfa_plfa-part3-Denotational-25778" class="Bound">d</a> <a id="plfa_plfa-part3-Denotational-25780" href="../Denotational/#plfa_plfa-part3-Denotational-25780" class="Bound">lt</a>
      <a id="plfa_plfa-part3-Denotational-25789" class="Keyword">with</a> <a id="plfa_plfa-part3-Denotational-25794" href="../Denotational/#plfa_plfa-part3-Denotational-24086" class="Function">rename-pres</a><a id="plfa_plfa-part3-Denotational-25805" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-25806" href="../Denotational/#plfa_plfa-part3-Denotational-25763" class="Bound">Γ</a><a id="plfa_plfa-part3-Denotational-25807" class="Symbol">}{</a><a id="plfa_plfa-part3-Denotational-25809" href="../Denotational/#plfa_plfa-part3-Denotational-25763" class="Bound">Γ</a><a id="plfa_plfa-part3-Denotational-25810" class="Symbol">}{</a><a id="plfa_plfa-part3-Denotational-25812" href="../Denotational/#plfa_plfa-part3-Denotational-25775" class="Bound">v</a><a id="plfa_plfa-part3-Denotational-25813" class="Symbol">}{</a><a id="plfa_plfa-part3-Denotational-25815" href="../Denotational/#plfa_plfa-part3-Denotational-25766" class="Bound">γ</a><a id="plfa_plfa-part3-Denotational-25816" class="Symbol">}{</a><a id="plfa_plfa-part3-Denotational-25818" href="../Denotational/#plfa_plfa-part3-Denotational-25769" class="Bound">δ</a><a id="plfa_plfa-part3-Denotational-25819" class="Symbol">}{</a><a id="plfa_plfa-part3-Denotational-25821" href="../Denotational/#plfa_plfa-part3-Denotational-25772" class="Bound">M</a><a id="plfa_plfa-part3-Denotational-25822" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-25824" class="Symbol">(λ</a> <a id="plfa_plfa-part3-Denotational-25827" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-25828" href="../Denotational/#plfa_plfa-part3-Denotational-25828" class="Bound">A</a><a id="plfa_plfa-part3-Denotational-25829" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-25831" href="../Denotational/#plfa_plfa-part3-Denotational-25831" class="Bound">x</a> <a id="plfa_plfa-part3-Denotational-25833" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-25835" href="../Denotational/#plfa_plfa-part3-Denotational-25831" class="Bound">x</a><a id="plfa_plfa-part3-Denotational-25836" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-25838" href="../Denotational/#plfa_plfa-part3-Denotational-25780" class="Bound">lt</a> <a id="plfa_plfa-part3-Denotational-25841" href="../Denotational/#plfa_plfa-part3-Denotational-25778" class="Bound">d</a>
<a id="plfa_plfa-part3-Denotational-25843" class="Symbol">...</a> <a id="plfa_plfa-part3-Denotational-25847" class="Symbol">|</a> <a id="plfa_plfa-part3-Denotational-25849" href="../Denotational/#plfa_plfa-part3-Denotational-25849" class="Bound">δ⊢id[M]↓v</a> <a id="plfa_plfa-part3-Denotational-25859" class="Keyword">rewrite</a> <a id="plfa_plfa-part3-Denotational-25867" href="../Substitution/#plfa_plfa-part2-Substitution-17386" class="Function">rename-id</a> <a id="plfa_plfa-part3-Denotational-25877" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-25878" class="Bound">Γ</a><a id="plfa_plfa-part3-Denotational-25879" class="Symbol">}{</a><a id="plfa_plfa-part3-Denotational-25881" href="../Untyped/#plfa_plfa-part2-Untyped-2820" class="InductiveConstructor">★</a><a id="plfa_plfa-part3-Denotational-25882" class="Symbol">}{</a><a id="plfa_plfa-part3-Denotational-25884" class="Bound">M</a><a id="plfa_plfa-part3-Denotational-25885" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-25887" class="Symbol">=</a>
      <a id="plfa_plfa-part3-Denotational-25895" href="../Denotational/#plfa_plfa-part3-Denotational-25849" class="Bound">δ⊢id[M]↓v</a>
</pre><p>In the proof that substitution reflects denotations, in the case for lambda abstraction, we use a minor variation of <code>⊑-env</code>, in which just the last element of the environment gets larger.</p><pre class="Agda"><a id="plfa_plfa-part3-Denotational-up-env"></a><a id="plfa_plfa-part3-Denotational-26108" href="../Denotational/#plfa_plfa-part3-Denotational-26108" class="Function">up-env</a> <a id="plfa_plfa-part3-Denotational-26115" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-26117" class="Symbol">∀</a> <a id="plfa_plfa-part3-Denotational-26119" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-26120" href="../Denotational/#plfa_plfa-part3-Denotational-26120" class="Bound">Γ</a><a id="plfa_plfa-part3-Denotational-26121" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-26123" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-26124" href="../Denotational/#plfa_plfa-part3-Denotational-26124" class="Bound">γ</a> <a id="plfa_plfa-part3-Denotational-26126" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-26128" href="../Denotational/#plfa_plfa-part3-Denotational-7135" class="Function">Env</a> <a id="plfa_plfa-part3-Denotational-26132" href="../Denotational/#plfa_plfa-part3-Denotational-26120" class="Bound">Γ</a><a id="plfa_plfa-part3-Denotational-26133" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-26135" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-26136" href="../Denotational/#plfa_plfa-part3-Denotational-26136" class="Bound">M</a> <a id="plfa_plfa-part3-Denotational-26138" href="../Denotational/#plfa_plfa-part3-Denotational-26138" class="Bound">v</a> <a id="plfa_plfa-part3-Denotational-26140" href="../Denotational/#plfa_plfa-part3-Denotational-26140" class="Bound">u₁</a> <a id="plfa_plfa-part3-Denotational-26143" href="../Denotational/#plfa_plfa-part3-Denotational-26143" class="Bound">u₂</a><a id="plfa_plfa-part3-Denotational-26145" class="Symbol">}</a>
  <a id="plfa_plfa-part3-Denotational-26149" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-26151" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-26152" href="../Denotational/#plfa_plfa-part3-Denotational-26124" class="Bound">γ</a> <a id="plfa_plfa-part3-Denotational-26154" href="../Denotational/#plfa_plfa-part3-Denotational-7296" class="Function Operator">`,</a> <a id="plfa_plfa-part3-Denotational-26157" href="../Denotational/#plfa_plfa-part3-Denotational-26140" class="Bound">u₁</a><a id="plfa_plfa-part3-Denotational-26159" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-26161" href="../Denotational/#plfa_plfa-part3-Denotational-9217" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part3-Denotational-26163" href="../Denotational/#plfa_plfa-part3-Denotational-26136" class="Bound">M</a> <a id="plfa_plfa-part3-Denotational-26165" href="../Denotational/#plfa_plfa-part3-Denotational-9217" class="Datatype Operator">↓</a> <a id="plfa_plfa-part3-Denotational-26167" href="../Denotational/#plfa_plfa-part3-Denotational-26138" class="Bound">v</a>
  <a id="plfa_plfa-part3-Denotational-26171" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-26173" href="../Denotational/#plfa_plfa-part3-Denotational-26140" class="Bound">u₁</a> <a id="plfa_plfa-part3-Denotational-26176" href="../Denotational/#plfa_plfa-part3-Denotational-4335" class="Datatype Operator">⊑</a> <a id="plfa_plfa-part3-Denotational-26178" href="../Denotational/#plfa_plfa-part3-Denotational-26143" class="Bound">u₂</a>
    <a id="plfa_plfa-part3-Denotational-26185" class="Comment">-----------------</a>
  <a id="plfa_plfa-part3-Denotational-26205" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-26207" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-26208" href="../Denotational/#plfa_plfa-part3-Denotational-26124" class="Bound">γ</a> <a id="plfa_plfa-part3-Denotational-26210" href="../Denotational/#plfa_plfa-part3-Denotational-7296" class="Function Operator">`,</a> <a id="plfa_plfa-part3-Denotational-26213" href="../Denotational/#plfa_plfa-part3-Denotational-26143" class="Bound">u₂</a><a id="plfa_plfa-part3-Denotational-26215" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-26217" href="../Denotational/#plfa_plfa-part3-Denotational-9217" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part3-Denotational-26219" href="../Denotational/#plfa_plfa-part3-Denotational-26136" class="Bound">M</a> <a id="plfa_plfa-part3-Denotational-26221" href="../Denotational/#plfa_plfa-part3-Denotational-9217" class="Datatype Operator">↓</a> <a id="plfa_plfa-part3-Denotational-26223" href="../Denotational/#plfa_plfa-part3-Denotational-26138" class="Bound">v</a>
<a id="plfa_plfa-part3-Denotational-26225" href="../Denotational/#plfa_plfa-part3-Denotational-26108" class="Function">up-env</a> <a id="plfa_plfa-part3-Denotational-26232" href="../Denotational/#plfa_plfa-part3-Denotational-26232" class="Bound">d</a> <a id="plfa_plfa-part3-Denotational-26234" href="../Denotational/#plfa_plfa-part3-Denotational-26234" class="Bound">lt</a> <a id="plfa_plfa-part3-Denotational-26237" class="Symbol">=</a> <a id="plfa_plfa-part3-Denotational-26239" href="../Denotational/#plfa_plfa-part3-Denotational-25659" class="Function">⊑-env</a> <a id="plfa_plfa-part3-Denotational-26245" href="../Denotational/#plfa_plfa-part3-Denotational-26232" class="Bound">d</a> <a id="plfa_plfa-part3-Denotational-26247" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-26248" href="../Denotational/#plfa_plfa-part3-Denotational-26269" class="Function">ext-le</a> <a id="plfa_plfa-part3-Denotational-26255" href="../Denotational/#plfa_plfa-part3-Denotational-26234" class="Bound">lt</a><a id="plfa_plfa-part3-Denotational-26257" class="Symbol">)</a>
  <a id="plfa_plfa-part3-Denotational-26261" class="Keyword">where</a>
  <a id="plfa_plfa-part3-Denotational-26269" href="../Denotational/#plfa_plfa-part3-Denotational-26269" class="Function">ext-le</a> <a id="plfa_plfa-part3-Denotational-26276" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-26278" class="Symbol">∀</a> <a id="plfa_plfa-part3-Denotational-26280" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-26281" href="../Denotational/#plfa_plfa-part3-Denotational-26281" class="Bound">γ</a> <a id="plfa_plfa-part3-Denotational-26283" href="../Denotational/#plfa_plfa-part3-Denotational-26283" class="Bound">u₁</a> <a id="plfa_plfa-part3-Denotational-26286" href="../Denotational/#plfa_plfa-part3-Denotational-26286" class="Bound">u₂</a><a id="plfa_plfa-part3-Denotational-26288" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-26290" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-26292" href="../Denotational/#plfa_plfa-part3-Denotational-26283" class="Bound">u₁</a> <a id="plfa_plfa-part3-Denotational-26295" href="../Denotational/#plfa_plfa-part3-Denotational-4335" class="Datatype Operator">⊑</a> <a id="plfa_plfa-part3-Denotational-26297" href="../Denotational/#plfa_plfa-part3-Denotational-26286" class="Bound">u₂</a> <a id="plfa_plfa-part3-Denotational-26300" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-26302" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-26303" href="../Denotational/#plfa_plfa-part3-Denotational-26281" class="Bound">γ</a> <a id="plfa_plfa-part3-Denotational-26305" href="../Denotational/#plfa_plfa-part3-Denotational-7296" class="Function Operator">`,</a> <a id="plfa_plfa-part3-Denotational-26308" href="../Denotational/#plfa_plfa-part3-Denotational-26283" class="Bound">u₁</a><a id="plfa_plfa-part3-Denotational-26310" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-26312" href="../Denotational/#plfa_plfa-part3-Denotational-7967" class="Function Operator">`⊑</a> <a id="plfa_plfa-part3-Denotational-26315" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-26316" href="../Denotational/#plfa_plfa-part3-Denotational-26281" class="Bound">γ</a> <a id="plfa_plfa-part3-Denotational-26318" href="../Denotational/#plfa_plfa-part3-Denotational-7296" class="Function Operator">`,</a> <a id="plfa_plfa-part3-Denotational-26321" href="../Denotational/#plfa_plfa-part3-Denotational-26286" class="Bound">u₂</a><a id="plfa_plfa-part3-Denotational-26323" class="Symbol">)</a>
  <a id="plfa_plfa-part3-Denotational-26327" href="../Denotational/#plfa_plfa-part3-Denotational-26269" class="Function">ext-le</a> <a id="plfa_plfa-part3-Denotational-26334" href="../Denotational/#plfa_plfa-part3-Denotational-26334" class="Bound">lt</a> <a id="plfa_plfa-part3-Denotational-26337" href="../Untyped/#plfa_plfa-part2-Untyped-3505" class="InductiveConstructor">Z</a> <a id="plfa_plfa-part3-Denotational-26339" class="Symbol">=</a> <a id="plfa_plfa-part3-Denotational-26341" href="../Denotational/#plfa_plfa-part3-Denotational-26334" class="Bound">lt</a>
  <a id="plfa_plfa-part3-Denotational-26346" href="../Denotational/#plfa_plfa-part3-Denotational-26269" class="Function">ext-le</a> <a id="plfa_plfa-part3-Denotational-26353" href="../Denotational/#plfa_plfa-part3-Denotational-26353" class="Bound">lt</a> <a id="plfa_plfa-part3-Denotational-26356" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-26357" href="../Untyped/#plfa_plfa-part2-Untyped-3550" class="InductiveConstructor Operator">S</a> <a id="plfa_plfa-part3-Denotational-26359" href="../Denotational/#plfa_plfa-part3-Denotational-26359" class="Bound">n</a><a id="plfa_plfa-part3-Denotational-26360" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-26362" class="Symbol">=</a> <a id="plfa_plfa-part3-Denotational-26364" href="../Denotational/#plfa_plfa-part3-Denotational-5469" class="Function">⊑-refl</a>
</pre><h4 id="exercise-denot-church-recommended">Exercise <code>denot-church</code> (recommended)</h4><p>Church numerals are more general than natural numbers in that they represent paths. A path consists of <code>n</code> edges and <code>n + 1</code> vertices. We store the vertices in a vector of length <code>n + 1</code> in reverse order. The edges in the path map the ith vertex to the <code>i + 1</code> vertex. The following function <code>D^suc</code> (for denotation of successor) constructs a table whose entries are all the edges in the path.</p><pre class="Agda"><a id="plfa_plfa-part3-Denotational-D^suc"></a><a id="plfa_plfa-part3-Denotational-26823" href="../Denotational/#plfa_plfa-part3-Denotational-26823" class="Function">D^suc</a> <a id="plfa_plfa-part3-Denotational-26829" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-26831" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-26832" href="../Denotational/#plfa_plfa-part3-Denotational-26832" class="Bound">n</a> <a id="plfa_plfa-part3-Denotational-26834" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-26836" href="https://agda.github.io/agda-stdlib/v1.3/Agda.Builtin.Nat.html#192" class="Datatype">ℕ</a><a id="plfa_plfa-part3-Denotational-26837" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-26839" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-26841" href="https://agda.github.io/agda-stdlib/v1.3/Data.Vec.Base.html#959" class="Datatype">Vec</a> <a id="plfa_plfa-part3-Denotational-26845" href="../Denotational/#plfa_plfa-part3-Denotational-3974" class="Datatype">Value</a> <a id="plfa_plfa-part3-Denotational-26851" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-26852" href="https://agda.github.io/agda-stdlib/v1.3/Agda.Builtin.Nat.html#223" class="InductiveConstructor">suc</a> <a id="plfa_plfa-part3-Denotational-26856" href="../Denotational/#plfa_plfa-part3-Denotational-26832" class="Bound">n</a><a id="plfa_plfa-part3-Denotational-26857" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-26859" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-26861" href="../Denotational/#plfa_plfa-part3-Denotational-3974" class="Datatype">Value</a>
<a id="plfa_plfa-part3-Denotational-26867" href="../Denotational/#plfa_plfa-part3-Denotational-26823" class="Function">D^suc</a> <a id="plfa_plfa-part3-Denotational-26873" href="https://agda.github.io/agda-stdlib/v1.3/Agda.Builtin.Nat.html#210" class="InductiveConstructor">zero</a> <a id="plfa_plfa-part3-Denotational-26878" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-26879" href="../Denotational/#plfa_plfa-part3-Denotational-26879" class="Bound">a[0]</a> <a id="plfa_plfa-part3-Denotational-26884" href="https://agda.github.io/agda-stdlib/v1.3/Data.Vec.Base.html#1014" class="InductiveConstructor Operator">∷</a> <a id="plfa_plfa-part3-Denotational-26886" href="https://agda.github.io/agda-stdlib/v1.3/Data.Vec.Base.html#995" class="InductiveConstructor">[]</a><a id="plfa_plfa-part3-Denotational-26888" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-26890" class="Symbol">=</a> <a id="plfa_plfa-part3-Denotational-26892" href="../Denotational/#plfa_plfa-part3-Denotational-3994" class="InductiveConstructor">⊥</a>
<a id="plfa_plfa-part3-Denotational-26894" href="../Denotational/#plfa_plfa-part3-Denotational-26823" class="Function">D^suc</a> <a id="plfa_plfa-part3-Denotational-26900" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-26901" href="https://agda.github.io/agda-stdlib/v1.3/Agda.Builtin.Nat.html#223" class="InductiveConstructor">suc</a> <a id="plfa_plfa-part3-Denotational-26905" href="../Denotational/#plfa_plfa-part3-Denotational-26905" class="Bound">i</a><a id="plfa_plfa-part3-Denotational-26906" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-26908" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-26909" href="../Denotational/#plfa_plfa-part3-Denotational-26909" class="Bound">a[i+1]</a> <a id="plfa_plfa-part3-Denotational-26916" href="https://agda.github.io/agda-stdlib/v1.3/Data.Vec.Base.html#1014" class="InductiveConstructor Operator">∷</a> <a id="plfa_plfa-part3-Denotational-26918" href="../Denotational/#plfa_plfa-part3-Denotational-26918" class="Bound">a[i]</a> <a id="plfa_plfa-part3-Denotational-26923" href="https://agda.github.io/agda-stdlib/v1.3/Data.Vec.Base.html#1014" class="InductiveConstructor Operator">∷</a> <a id="plfa_plfa-part3-Denotational-26925" href="../Denotational/#plfa_plfa-part3-Denotational-26925" class="Bound">ls</a><a id="plfa_plfa-part3-Denotational-26927" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-26929" class="Symbol">=</a>  <a id="plfa_plfa-part3-Denotational-26932" href="../Denotational/#plfa_plfa-part3-Denotational-26918" class="Bound">a[i]</a> <a id="plfa_plfa-part3-Denotational-26937" href="../Denotational/#plfa_plfa-part3-Denotational-4006" class="InductiveConstructor Operator">↦</a> <a id="plfa_plfa-part3-Denotational-26939" href="../Denotational/#plfa_plfa-part3-Denotational-26909" class="Bound">a[i+1]</a>  <a id="plfa_plfa-part3-Denotational-26947" href="../Denotational/#plfa_plfa-part3-Denotational-4036" class="InductiveConstructor Operator">⊔</a>  <a id="plfa_plfa-part3-Denotational-26950" href="../Denotational/#plfa_plfa-part3-Denotational-26823" class="Function">D^suc</a> <a id="plfa_plfa-part3-Denotational-26956" href="../Denotational/#plfa_plfa-part3-Denotational-26905" class="Bound">i</a> <a id="plfa_plfa-part3-Denotational-26958" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-26959" href="../Denotational/#plfa_plfa-part3-Denotational-26918" class="Bound">a[i]</a> <a id="plfa_plfa-part3-Denotational-26964" href="https://agda.github.io/agda-stdlib/v1.3/Data.Vec.Base.html#1014" class="InductiveConstructor Operator">∷</a> <a id="plfa_plfa-part3-Denotational-26966" href="../Denotational/#plfa_plfa-part3-Denotational-26925" class="Bound">ls</a><a id="plfa_plfa-part3-Denotational-26968" class="Symbol">)</a>
</pre><p>We use the following auxiliary function to obtain the last element of a non-empty vector. (This formulation is more convenient for our purposes than the one in the Agda standard library.)</p><pre class="Agda"><a id="plfa_plfa-part3-Denotational-vec-last"></a><a id="plfa_plfa-part3-Denotational-27172" href="../Denotational/#plfa_plfa-part3-Denotational-27172" class="Function">vec-last</a> <a id="plfa_plfa-part3-Denotational-27181" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-27183" class="Symbol">∀{</a><a id="plfa_plfa-part3-Denotational-27185" href="../Denotational/#plfa_plfa-part3-Denotational-27185" class="Bound">n</a> <a id="plfa_plfa-part3-Denotational-27187" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-27189" href="https://agda.github.io/agda-stdlib/v1.3/Agda.Builtin.Nat.html#192" class="Datatype">ℕ</a><a id="plfa_plfa-part3-Denotational-27190" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-27192" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-27194" href="https://agda.github.io/agda-stdlib/v1.3/Data.Vec.Base.html#959" class="Datatype">Vec</a> <a id="plfa_plfa-part3-Denotational-27198" href="../Denotational/#plfa_plfa-part3-Denotational-3974" class="Datatype">Value</a> <a id="plfa_plfa-part3-Denotational-27204" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-27205" href="https://agda.github.io/agda-stdlib/v1.3/Agda.Builtin.Nat.html#223" class="InductiveConstructor">suc</a> <a id="plfa_plfa-part3-Denotational-27209" href="../Denotational/#plfa_plfa-part3-Denotational-27185" class="Bound">n</a><a id="plfa_plfa-part3-Denotational-27210" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-27212" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-27214" href="../Denotational/#plfa_plfa-part3-Denotational-3974" class="Datatype">Value</a>
<a id="plfa_plfa-part3-Denotational-27220" href="../Denotational/#plfa_plfa-part3-Denotational-27172" class="Function">vec-last</a> <a id="plfa_plfa-part3-Denotational-27229" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-27230" class="Number">0</a><a id="plfa_plfa-part3-Denotational-27231" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-27233" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-27234" href="../Denotational/#plfa_plfa-part3-Denotational-27234" class="Bound">a</a> <a id="plfa_plfa-part3-Denotational-27236" href="https://agda.github.io/agda-stdlib/v1.3/Data.Vec.Base.html#1014" class="InductiveConstructor Operator">∷</a> <a id="plfa_plfa-part3-Denotational-27238" href="https://agda.github.io/agda-stdlib/v1.3/Data.Vec.Base.html#995" class="InductiveConstructor">[]</a><a id="plfa_plfa-part3-Denotational-27240" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-27242" class="Symbol">=</a> <a id="plfa_plfa-part3-Denotational-27244" href="../Denotational/#plfa_plfa-part3-Denotational-27234" class="Bound">a</a>
<a id="plfa_plfa-part3-Denotational-27246" href="../Denotational/#plfa_plfa-part3-Denotational-27172" class="Function">vec-last</a> <a id="plfa_plfa-part3-Denotational-27255" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-27256" href="https://agda.github.io/agda-stdlib/v1.3/Agda.Builtin.Nat.html#223" class="InductiveConstructor">suc</a> <a id="plfa_plfa-part3-Denotational-27260" href="../Denotational/#plfa_plfa-part3-Denotational-27260" class="Bound">n</a><a id="plfa_plfa-part3-Denotational-27261" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-27263" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-27264" href="../Denotational/#plfa_plfa-part3-Denotational-27264" class="Bound">a</a> <a id="plfa_plfa-part3-Denotational-27266" href="https://agda.github.io/agda-stdlib/v1.3/Data.Vec.Base.html#1014" class="InductiveConstructor Operator">∷</a> <a id="plfa_plfa-part3-Denotational-27268" href="../Denotational/#plfa_plfa-part3-Denotational-27268" class="Bound">b</a> <a id="plfa_plfa-part3-Denotational-27270" href="https://agda.github.io/agda-stdlib/v1.3/Data.Vec.Base.html#1014" class="InductiveConstructor Operator">∷</a> <a id="plfa_plfa-part3-Denotational-27272" href="../Denotational/#plfa_plfa-part3-Denotational-27272" class="Bound">ls</a><a id="plfa_plfa-part3-Denotational-27274" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-27276" class="Symbol">=</a> <a id="plfa_plfa-part3-Denotational-27278" href="../Denotational/#plfa_plfa-part3-Denotational-27172" class="Function">vec-last</a> <a id="plfa_plfa-part3-Denotational-27287" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-27288" href="../Denotational/#plfa_plfa-part3-Denotational-27268" class="Bound">b</a> <a id="plfa_plfa-part3-Denotational-27290" href="https://agda.github.io/agda-stdlib/v1.3/Data.Vec.Base.html#1014" class="InductiveConstructor Operator">∷</a> <a id="plfa_plfa-part3-Denotational-27292" href="../Denotational/#plfa_plfa-part3-Denotational-27272" class="Bound">ls</a><a id="plfa_plfa-part3-Denotational-27294" class="Symbol">)</a>
</pre><p>The function <code>Dᶜ</code> computes the denotation of the nth Church numeral for a given path.</p><pre class="Agda"><a id="plfa_plfa-part3-Denotational-Dᶜ"></a><a id="plfa_plfa-part3-Denotational-27396" href="../Denotational/#plfa_plfa-part3-Denotational-27396" class="Function">Dᶜ</a> <a id="plfa_plfa-part3-Denotational-27399" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-27401" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-27402" href="../Denotational/#plfa_plfa-part3-Denotational-27402" class="Bound">n</a> <a id="plfa_plfa-part3-Denotational-27404" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-27406" href="https://agda.github.io/agda-stdlib/v1.3/Agda.Builtin.Nat.html#192" class="Datatype">ℕ</a><a id="plfa_plfa-part3-Denotational-27407" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-27409" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-27411" href="https://agda.github.io/agda-stdlib/v1.3/Data.Vec.Base.html#959" class="Datatype">Vec</a> <a id="plfa_plfa-part3-Denotational-27415" href="../Denotational/#plfa_plfa-part3-Denotational-3974" class="Datatype">Value</a> <a id="plfa_plfa-part3-Denotational-27421" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-27422" href="https://agda.github.io/agda-stdlib/v1.3/Agda.Builtin.Nat.html#223" class="InductiveConstructor">suc</a> <a id="plfa_plfa-part3-Denotational-27426" href="../Denotational/#plfa_plfa-part3-Denotational-27402" class="Bound">n</a><a id="plfa_plfa-part3-Denotational-27427" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-27429" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-27431" href="../Denotational/#plfa_plfa-part3-Denotational-3974" class="Datatype">Value</a>
<a id="plfa_plfa-part3-Denotational-27437" href="../Denotational/#plfa_plfa-part3-Denotational-27396" class="Function">Dᶜ</a> <a id="plfa_plfa-part3-Denotational-27440" href="../Denotational/#plfa_plfa-part3-Denotational-27440" class="Bound">n</a> <a id="plfa_plfa-part3-Denotational-27442" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-27443" href="../Denotational/#plfa_plfa-part3-Denotational-27443" class="Bound">a[n]</a> <a id="plfa_plfa-part3-Denotational-27448" href="https://agda.github.io/agda-stdlib/v1.3/Data.Vec.Base.html#1014" class="InductiveConstructor Operator">∷</a> <a id="plfa_plfa-part3-Denotational-27450" href="../Denotational/#plfa_plfa-part3-Denotational-27450" class="Bound">ls</a><a id="plfa_plfa-part3-Denotational-27452" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-27454" class="Symbol">=</a> <a id="plfa_plfa-part3-Denotational-27456" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-27457" href="../Denotational/#plfa_plfa-part3-Denotational-26823" class="Function">D^suc</a> <a id="plfa_plfa-part3-Denotational-27463" href="../Denotational/#plfa_plfa-part3-Denotational-27440" class="Bound">n</a> <a id="plfa_plfa-part3-Denotational-27465" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-27466" href="../Denotational/#plfa_plfa-part3-Denotational-27443" class="Bound">a[n]</a> <a id="plfa_plfa-part3-Denotational-27471" href="https://agda.github.io/agda-stdlib/v1.3/Data.Vec.Base.html#1014" class="InductiveConstructor Operator">∷</a> <a id="plfa_plfa-part3-Denotational-27473" href="../Denotational/#plfa_plfa-part3-Denotational-27450" class="Bound">ls</a><a id="plfa_plfa-part3-Denotational-27475" class="Symbol">))</a> <a id="plfa_plfa-part3-Denotational-27478" href="../Denotational/#plfa_plfa-part3-Denotational-4006" class="InductiveConstructor Operator">↦</a> <a id="plfa_plfa-part3-Denotational-27480" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-27481" href="../Denotational/#plfa_plfa-part3-Denotational-27172" class="Function">vec-last</a> <a id="plfa_plfa-part3-Denotational-27490" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-27491" href="../Denotational/#plfa_plfa-part3-Denotational-27443" class="Bound">a[n]</a> <a id="plfa_plfa-part3-Denotational-27496" href="https://agda.github.io/agda-stdlib/v1.3/Data.Vec.Base.html#1014" class="InductiveConstructor Operator">∷</a> <a id="plfa_plfa-part3-Denotational-27498" href="../Denotational/#plfa_plfa-part3-Denotational-27450" class="Bound">ls</a><a id="plfa_plfa-part3-Denotational-27500" class="Symbol">))</a> <a id="plfa_plfa-part3-Denotational-27503" href="../Denotational/#plfa_plfa-part3-Denotational-4006" class="InductiveConstructor Operator">↦</a> <a id="plfa_plfa-part3-Denotational-27505" href="../Denotational/#plfa_plfa-part3-Denotational-27443" class="Bound">a[n]</a>
</pre><ul><li><p>The Church numeral for 0 ignores its first argument and returns its second argument, so for the singleton path consisting of just <code>a[0]</code>, its denotation is</p><pre><code>  ⊥ ↦ a[0] ↦ a[0]</code></pre></li><li><p>The Church numeral for <code>suc n</code> takes two arguments: a successor function whose denotation is given by <code>D^suc</code>, and the start of the path (last of the vector). It returns the <code>n + 1</code> vertex in the path.</p><pre><code>  (D^suc (suc n) (a[n+1] ∷ a[n] ∷ ls)) ↦ (vec-last (a[n] ∷ ls)) ↦ a[n+1]</code></pre></li></ul><p>The exercise is to prove that for any path <code>ls</code>, the meaning of the Church numeral <code>n</code> is <code>Dᶜ n ls</code>.</p><p>To facilitate talking about arbitrary Church numerals, the following <code>church</code> function builds the term for the nth Church numeral, using the auxiliary function <code>apply-n</code>.</p><pre class="Agda"><a id="plfa_plfa-part3-Denotational-apply-n"></a><a id="plfa_plfa-part3-Denotational-28276" href="../Denotational/#plfa_plfa-part3-Denotational-28276" class="Function">apply-n</a> <a id="plfa_plfa-part3-Denotational-28284" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-28286" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-28287" href="../Denotational/#plfa_plfa-part3-Denotational-28287" class="Bound">n</a> <a id="plfa_plfa-part3-Denotational-28289" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-28291" href="https://agda.github.io/agda-stdlib/v1.3/Agda.Builtin.Nat.html#192" class="Datatype">ℕ</a><a id="plfa_plfa-part3-Denotational-28292" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-28294" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-28296" href="../Untyped/#plfa_plfa-part2-Untyped-3115" class="InductiveConstructor">∅</a> <a id="plfa_plfa-part3-Denotational-28298" href="../Untyped/#plfa_plfa-part2-Untyped-3131" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part3-Denotational-28300" href="../Untyped/#plfa_plfa-part2-Untyped-2820" class="InductiveConstructor">★</a> <a id="plfa_plfa-part3-Denotational-28302" href="../Untyped/#plfa_plfa-part2-Untyped-3131" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part3-Denotational-28304" href="../Untyped/#plfa_plfa-part2-Untyped-2820" class="InductiveConstructor">★</a> <a id="plfa_plfa-part3-Denotational-28306" href="../Untyped/#plfa_plfa-part2-Untyped-4246" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part3-Denotational-28308" href="../Untyped/#plfa_plfa-part2-Untyped-2820" class="InductiveConstructor">★</a>
<a id="plfa_plfa-part3-Denotational-28310" href="../Denotational/#plfa_plfa-part3-Denotational-28276" class="Function">apply-n</a> <a id="plfa_plfa-part3-Denotational-28318" href="https://agda.github.io/agda-stdlib/v1.3/Agda.Builtin.Nat.html#210" class="InductiveConstructor">zero</a> <a id="plfa_plfa-part3-Denotational-28323" class="Symbol">=</a> <a id="plfa_plfa-part3-Denotational-28325" href="../Untyped/#plfa_plfa-part2-Untyped-5071" class="Function Operator">#</a> <a id="plfa_plfa-part3-Denotational-28327" class="Number">0</a>
<a id="plfa_plfa-part3-Denotational-28329" href="../Denotational/#plfa_plfa-part3-Denotational-28276" class="Function">apply-n</a> <a id="plfa_plfa-part3-Denotational-28337" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-28338" href="https://agda.github.io/agda-stdlib/v1.3/Agda.Builtin.Nat.html#223" class="InductiveConstructor">suc</a> <a id="plfa_plfa-part3-Denotational-28342" href="../Denotational/#plfa_plfa-part3-Denotational-28342" class="Bound">n</a><a id="plfa_plfa-part3-Denotational-28343" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-28345" class="Symbol">=</a> <a id="plfa_plfa-part3-Denotational-28347" href="../Untyped/#plfa_plfa-part2-Untyped-5071" class="Function Operator">#</a> <a id="plfa_plfa-part3-Denotational-28349" class="Number">1</a> <a id="plfa_plfa-part3-Denotational-28351" href="../Untyped/#plfa_plfa-part2-Untyped-4394" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part3-Denotational-28353" href="../Denotational/#plfa_plfa-part3-Denotational-28276" class="Function">apply-n</a> <a id="plfa_plfa-part3-Denotational-28361" href="../Denotational/#plfa_plfa-part3-Denotational-28342" class="Bound">n</a>

<a id="plfa_plfa-part3-Denotational-church"></a><a id="plfa_plfa-part3-Denotational-28364" href="../Denotational/#plfa_plfa-part3-Denotational-28364" class="Function">church</a> <a id="plfa_plfa-part3-Denotational-28371" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-28373" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-28374" href="../Denotational/#plfa_plfa-part3-Denotational-28374" class="Bound">n</a> <a id="plfa_plfa-part3-Denotational-28376" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-28378" href="https://agda.github.io/agda-stdlib/v1.3/Agda.Builtin.Nat.html#192" class="Datatype">ℕ</a><a id="plfa_plfa-part3-Denotational-28379" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-28381" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-28383" href="../Untyped/#plfa_plfa-part2-Untyped-3115" class="InductiveConstructor">∅</a> <a id="plfa_plfa-part3-Denotational-28385" href="../Untyped/#plfa_plfa-part2-Untyped-4246" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part3-Denotational-28387" href="../Untyped/#plfa_plfa-part2-Untyped-2820" class="InductiveConstructor">★</a>
<a id="plfa_plfa-part3-Denotational-28389" href="../Denotational/#plfa_plfa-part3-Denotational-28364" class="Function">church</a> <a id="plfa_plfa-part3-Denotational-28396" href="../Denotational/#plfa_plfa-part3-Denotational-28396" class="Bound">n</a> <a id="plfa_plfa-part3-Denotational-28398" class="Symbol">=</a> <a id="plfa_plfa-part3-Denotational-28400" href="../Untyped/#plfa_plfa-part2-Untyped-4334" class="InductiveConstructor Operator">ƛ</a> <a id="plfa_plfa-part3-Denotational-28402" href="../Untyped/#plfa_plfa-part2-Untyped-4334" class="InductiveConstructor Operator">ƛ</a> <a id="plfa_plfa-part3-Denotational-28404" href="../Denotational/#plfa_plfa-part3-Denotational-28276" class="Function">apply-n</a> <a id="plfa_plfa-part3-Denotational-28412" href="../Denotational/#plfa_plfa-part3-Denotational-28396" class="Bound">n</a>
</pre><p>Prove the following theorem.</p><pre><code>denot-church : ∀{n : ℕ}{ls : Vec Value (suc n)}
   → `∅ ⊢ church n ↓ Dᶜ n ls</code></pre><pre class="Agda"><a id="plfa_plfa-part3-Denotational-28543" class="Comment">-- Your code goes here</a>
</pre><h2 id="inversion-of-the-less-than-relation-for-functions">Inversion of the less-than relation for functions</h2><p>What can we deduce from knowing that a function <code>v ↦ w</code> is less than some value <code>u</code>? What can we deduce about <code>u</code>? The answer to this question is called the inversion property of less-than for functions. This question is not easy to answer because of the <code>⊑-dist</code> rule, which relates a function on the left to a pair of functions on the right. So <code>u</code> may include several functions that, as a group, relate to <code>v ↦ w</code>. Furthermore, because of the rules <code>⊑-conj-R1</code> and <code>⊑-conj-R2</code>, there may be other values inside <code>u</code>, such as <code>⊥</code>, that have nothing to do with <code>v ↦ w</code>. But in general, we can deduce that <code>u</code> includes a collection of functions where the join of their domains is less than <code>v</code> and the join of their codomains is greater than <code>w</code>.</p><p>To precisely state and prove this inversion property, we need to define what it means for a value to <em>include</em> a collection of values. We also need to define how to compute the join of their domains and codomains.</p><h3 id="value-membership-and-inclusion">Value membership and inclusion</h3><p>Recall that we think of a value as a set of entries with the join operator <code>v ⊔ w</code> acting like set union. The function value <code>v ↦ w</code> and bottom value <code>⊥</code> constitute the two kinds of elements of the set. (In other contexts one can instead think of <code>⊥</code> as the empty set, but here we must think of it as an element.) We write <code>u ∈ v</code> to say that <code>u</code> is an element of <code>v</code>, as defined below.</p><pre class="Agda"><a id="plfa_plfa-part3-Denotational-30024" class="Keyword">infix</a> <a id="plfa_plfa-part3-Denotational-30030" class="Number">5</a> <a id="plfa_plfa-part3-Denotational-30032" href="../Denotational/#plfa_plfa-part3-Denotational-30037" class="Function Operator">_∈_</a>

<a id="plfa_plfa-part3-Denotational-_∈_"></a><a id="plfa_plfa-part3-Denotational-30037" href="../Denotational/#plfa_plfa-part3-Denotational-30037" class="Function Operator">_∈_</a> <a id="plfa_plfa-part3-Denotational-30041" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-30043" href="../Denotational/#plfa_plfa-part3-Denotational-3974" class="Datatype">Value</a> <a id="plfa_plfa-part3-Denotational-30049" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-30051" href="../Denotational/#plfa_plfa-part3-Denotational-3974" class="Datatype">Value</a> <a id="plfa_plfa-part3-Denotational-30057" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-30059" href="https://agda.github.io/agda-stdlib/v1.3/Agda.Primitive.html#326" class="Primitive">Set</a>
<a id="plfa_plfa-part3-Denotational-30063" href="../Denotational/#plfa_plfa-part3-Denotational-30063" class="Bound">u</a> <a id="plfa_plfa-part3-Denotational-30065" href="../Denotational/#plfa_plfa-part3-Denotational-30037" class="Function Operator">∈</a> <a id="plfa_plfa-part3-Denotational-30067" href="../Denotational/#plfa_plfa-part3-Denotational-3994" class="InductiveConstructor">⊥</a> <a id="plfa_plfa-part3-Denotational-30069" class="Symbol">=</a> <a id="plfa_plfa-part3-Denotational-30071" href="../Denotational/#plfa_plfa-part3-Denotational-30063" class="Bound">u</a> <a id="plfa_plfa-part3-Denotational-30073" href="https://agda.github.io/agda-stdlib/v1.3/Agda.Builtin.Equality.html#151" class="Datatype Operator">≡</a> <a id="plfa_plfa-part3-Denotational-30075" href="../Denotational/#plfa_plfa-part3-Denotational-3994" class="InductiveConstructor">⊥</a>
<a id="plfa_plfa-part3-Denotational-30077" href="../Denotational/#plfa_plfa-part3-Denotational-30077" class="Bound">u</a> <a id="plfa_plfa-part3-Denotational-30079" href="../Denotational/#plfa_plfa-part3-Denotational-30037" class="Function Operator">∈</a> <a id="plfa_plfa-part3-Denotational-30081" href="../Denotational/#plfa_plfa-part3-Denotational-30081" class="Bound">v</a> <a id="plfa_plfa-part3-Denotational-30083" href="../Denotational/#plfa_plfa-part3-Denotational-4006" class="InductiveConstructor Operator">↦</a> <a id="plfa_plfa-part3-Denotational-30085" href="../Denotational/#plfa_plfa-part3-Denotational-30085" class="Bound">w</a> <a id="plfa_plfa-part3-Denotational-30087" class="Symbol">=</a> <a id="plfa_plfa-part3-Denotational-30089" href="../Denotational/#plfa_plfa-part3-Denotational-30077" class="Bound">u</a> <a id="plfa_plfa-part3-Denotational-30091" href="https://agda.github.io/agda-stdlib/v1.3/Agda.Builtin.Equality.html#151" class="Datatype Operator">≡</a> <a id="plfa_plfa-part3-Denotational-30093" href="../Denotational/#plfa_plfa-part3-Denotational-30081" class="Bound">v</a> <a id="plfa_plfa-part3-Denotational-30095" href="../Denotational/#plfa_plfa-part3-Denotational-4006" class="InductiveConstructor Operator">↦</a> <a id="plfa_plfa-part3-Denotational-30097" href="../Denotational/#plfa_plfa-part3-Denotational-30085" class="Bound">w</a>
<a id="plfa_plfa-part3-Denotational-30099" href="../Denotational/#plfa_plfa-part3-Denotational-30099" class="Bound">u</a> <a id="plfa_plfa-part3-Denotational-30101" href="../Denotational/#plfa_plfa-part3-Denotational-30037" class="Function Operator">∈</a> <a id="plfa_plfa-part3-Denotational-30103" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-30104" href="../Denotational/#plfa_plfa-part3-Denotational-30104" class="Bound">v</a> <a id="plfa_plfa-part3-Denotational-30106" href="../Denotational/#plfa_plfa-part3-Denotational-4036" class="InductiveConstructor Operator">⊔</a> <a id="plfa_plfa-part3-Denotational-30108" href="../Denotational/#plfa_plfa-part3-Denotational-30108" class="Bound">w</a><a id="plfa_plfa-part3-Denotational-30109" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-30111" class="Symbol">=</a> <a id="plfa_plfa-part3-Denotational-30113" href="../Denotational/#plfa_plfa-part3-Denotational-30099" class="Bound">u</a> <a id="plfa_plfa-part3-Denotational-30115" href="../Denotational/#plfa_plfa-part3-Denotational-30037" class="Function Operator">∈</a> <a id="plfa_plfa-part3-Denotational-30117" href="../Denotational/#plfa_plfa-part3-Denotational-30104" class="Bound">v</a> <a id="plfa_plfa-part3-Denotational-30119" href="https://agda.github.io/agda-stdlib/v1.3/Data.Sum.Base.html#728" class="Datatype Operator">⊎</a> <a id="plfa_plfa-part3-Denotational-30121" href="../Denotational/#plfa_plfa-part3-Denotational-30099" class="Bound">u</a> <a id="plfa_plfa-part3-Denotational-30123" href="../Denotational/#plfa_plfa-part3-Denotational-30037" class="Function Operator">∈</a> <a id="plfa_plfa-part3-Denotational-30125" href="../Denotational/#plfa_plfa-part3-Denotational-30108" class="Bound">w</a>
</pre><p>So we can represent a collection of values simply as a value. We write <code>v ⊆ w</code> to say that all the elements of <code>v</code> are also in <code>w</code>.</p><pre class="Agda"><a id="plfa_plfa-part3-Denotational-30274" class="Keyword">infix</a> <a id="plfa_plfa-part3-Denotational-30280" class="Number">5</a> <a id="plfa_plfa-part3-Denotational-30282" href="../Denotational/#plfa_plfa-part3-Denotational-30287" class="Function Operator">_⊆_</a>

<a id="plfa_plfa-part3-Denotational-_⊆_"></a><a id="plfa_plfa-part3-Denotational-30287" href="../Denotational/#plfa_plfa-part3-Denotational-30287" class="Function Operator">_⊆_</a> <a id="plfa_plfa-part3-Denotational-30291" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-30293" href="../Denotational/#plfa_plfa-part3-Denotational-3974" class="Datatype">Value</a> <a id="plfa_plfa-part3-Denotational-30299" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-30301" href="../Denotational/#plfa_plfa-part3-Denotational-3974" class="Datatype">Value</a> <a id="plfa_plfa-part3-Denotational-30307" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-30309" href="https://agda.github.io/agda-stdlib/v1.3/Agda.Primitive.html#326" class="Primitive">Set</a>
<a id="plfa_plfa-part3-Denotational-30313" href="../Denotational/#plfa_plfa-part3-Denotational-30313" class="Bound">v</a> <a id="plfa_plfa-part3-Denotational-30315" href="../Denotational/#plfa_plfa-part3-Denotational-30287" class="Function Operator">⊆</a> <a id="plfa_plfa-part3-Denotational-30317" href="../Denotational/#plfa_plfa-part3-Denotational-30317" class="Bound">w</a> <a id="plfa_plfa-part3-Denotational-30319" class="Symbol">=</a> <a id="plfa_plfa-part3-Denotational-30321" class="Symbol">∀{</a><a id="plfa_plfa-part3-Denotational-30323" href="../Denotational/#plfa_plfa-part3-Denotational-30323" class="Bound">u</a><a id="plfa_plfa-part3-Denotational-30324" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-30326" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-30328" href="../Denotational/#plfa_plfa-part3-Denotational-30323" class="Bound">u</a> <a id="plfa_plfa-part3-Denotational-30330" href="../Denotational/#plfa_plfa-part3-Denotational-30037" class="Function Operator">∈</a> <a id="plfa_plfa-part3-Denotational-30332" href="../Denotational/#plfa_plfa-part3-Denotational-30313" class="Bound">v</a> <a id="plfa_plfa-part3-Denotational-30334" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-30336" href="../Denotational/#plfa_plfa-part3-Denotational-30323" class="Bound">u</a> <a id="plfa_plfa-part3-Denotational-30338" href="../Denotational/#plfa_plfa-part3-Denotational-30037" class="Function Operator">∈</a> <a id="plfa_plfa-part3-Denotational-30340" href="../Denotational/#plfa_plfa-part3-Denotational-30317" class="Bound">w</a>
</pre><p>The notions of membership and inclusion for values are closely related to the less-than relation. They are narrower relations in that they imply the less-than relation but not the other way around.</p><pre class="Agda"><a id="plfa_plfa-part3-Denotational-∈→⊑"></a><a id="plfa_plfa-part3-Denotational-30554" href="../Denotational/#plfa_plfa-part3-Denotational-30554" class="Function">∈→⊑</a> <a id="plfa_plfa-part3-Denotational-30558" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-30560" class="Symbol">∀{</a><a id="plfa_plfa-part3-Denotational-30562" href="../Denotational/#plfa_plfa-part3-Denotational-30562" class="Bound">u</a> <a id="plfa_plfa-part3-Denotational-30564" href="../Denotational/#plfa_plfa-part3-Denotational-30564" class="Bound">v</a> <a id="plfa_plfa-part3-Denotational-30566" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-30568" href="../Denotational/#plfa_plfa-part3-Denotational-3974" class="Datatype">Value</a><a id="plfa_plfa-part3-Denotational-30573" class="Symbol">}</a>
    <a id="plfa_plfa-part3-Denotational-30579" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-30581" href="../Denotational/#plfa_plfa-part3-Denotational-30562" class="Bound">u</a> <a id="plfa_plfa-part3-Denotational-30583" href="../Denotational/#plfa_plfa-part3-Denotational-30037" class="Function Operator">∈</a> <a id="plfa_plfa-part3-Denotational-30585" href="../Denotational/#plfa_plfa-part3-Denotational-30564" class="Bound">v</a>
      <a id="plfa_plfa-part3-Denotational-30593" class="Comment">-----</a>
    <a id="plfa_plfa-part3-Denotational-30603" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-30605" href="../Denotational/#plfa_plfa-part3-Denotational-30562" class="Bound">u</a> <a id="plfa_plfa-part3-Denotational-30607" href="../Denotational/#plfa_plfa-part3-Denotational-4335" class="Datatype Operator">⊑</a> <a id="plfa_plfa-part3-Denotational-30609" href="../Denotational/#plfa_plfa-part3-Denotational-30564" class="Bound">v</a>
<a id="plfa_plfa-part3-Denotational-30611" href="../Denotational/#plfa_plfa-part3-Denotational-30554" class="Function">∈→⊑</a> <a id="plfa_plfa-part3-Denotational-30615" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-30616" class="DottedPattern Symbol">.</a><a id="plfa_plfa-part3-Denotational-30617" href="../Denotational/#plfa_plfa-part3-Denotational-3994" class="DottedPattern InductiveConstructor">⊥</a><a id="plfa_plfa-part3-Denotational-30618" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-30620" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-30621" href="../Denotational/#plfa_plfa-part3-Denotational-3994" class="InductiveConstructor">⊥</a><a id="plfa_plfa-part3-Denotational-30622" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-30624" href="https://agda.github.io/agda-stdlib/v1.3/Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a> <a id="plfa_plfa-part3-Denotational-30629" class="Symbol">=</a> <a id="plfa_plfa-part3-Denotational-30631" href="../Denotational/#plfa_plfa-part3-Denotational-4370" class="InductiveConstructor">⊑-bot</a>
<a id="plfa_plfa-part3-Denotational-30637" href="../Denotational/#plfa_plfa-part3-Denotational-30554" class="Function">∈→⊑</a> <a id="plfa_plfa-part3-Denotational-30641" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-30642" href="../Denotational/#plfa_plfa-part3-Denotational-30642" class="Bound">v</a> <a id="plfa_plfa-part3-Denotational-30644" href="../Denotational/#plfa_plfa-part3-Denotational-4006" class="InductiveConstructor Operator">↦</a> <a id="plfa_plfa-part3-Denotational-30646" href="../Denotational/#plfa_plfa-part3-Denotational-30646" class="Bound">w</a><a id="plfa_plfa-part3-Denotational-30647" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-30649" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-30650" href="../Denotational/#plfa_plfa-part3-Denotational-30642" class="Bound">v</a> <a id="plfa_plfa-part3-Denotational-30652" href="../Denotational/#plfa_plfa-part3-Denotational-4006" class="InductiveConstructor Operator">↦</a> <a id="plfa_plfa-part3-Denotational-30654" href="../Denotational/#plfa_plfa-part3-Denotational-30646" class="Bound">w</a><a id="plfa_plfa-part3-Denotational-30655" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-30657" href="https://agda.github.io/agda-stdlib/v1.3/Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a> <a id="plfa_plfa-part3-Denotational-30662" class="Symbol">=</a> <a id="plfa_plfa-part3-Denotational-30664" href="../Denotational/#plfa_plfa-part3-Denotational-5469" class="Function">⊑-refl</a>
<a id="plfa_plfa-part3-Denotational-30671" href="../Denotational/#plfa_plfa-part3-Denotational-30554" class="Function">∈→⊑</a> <a id="plfa_plfa-part3-Denotational-30675" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-30676" href="../Denotational/#plfa_plfa-part3-Denotational-30676" class="Bound">u</a><a id="plfa_plfa-part3-Denotational-30677" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-30679" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-30680" href="../Denotational/#plfa_plfa-part3-Denotational-30680" class="Bound">v</a> <a id="plfa_plfa-part3-Denotational-30682" href="../Denotational/#plfa_plfa-part3-Denotational-4036" class="InductiveConstructor Operator">⊔</a> <a id="plfa_plfa-part3-Denotational-30684" href="../Denotational/#plfa_plfa-part3-Denotational-30684" class="Bound">w</a><a id="plfa_plfa-part3-Denotational-30685" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-30687" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-30688" href="https://agda.github.io/agda-stdlib/v1.3/Data.Sum.Base.html#778" class="InductiveConstructor">inj₁</a> <a id="plfa_plfa-part3-Denotational-30693" href="../Denotational/#plfa_plfa-part3-Denotational-30693" class="Bound">x</a><a id="plfa_plfa-part3-Denotational-30694" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-30696" class="Symbol">=</a> <a id="plfa_plfa-part3-Denotational-30698" href="../Denotational/#plfa_plfa-part3-Denotational-4479" class="InductiveConstructor">⊑-conj-R1</a> <a id="plfa_plfa-part3-Denotational-30708" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-30709" href="../Denotational/#plfa_plfa-part3-Denotational-30554" class="Function">∈→⊑</a> <a id="plfa_plfa-part3-Denotational-30713" href="../Denotational/#plfa_plfa-part3-Denotational-30693" class="Bound">x</a><a id="plfa_plfa-part3-Denotational-30714" class="Symbol">)</a>
<a id="plfa_plfa-part3-Denotational-30716" href="../Denotational/#plfa_plfa-part3-Denotational-30554" class="Function">∈→⊑</a> <a id="plfa_plfa-part3-Denotational-30720" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-30721" href="../Denotational/#plfa_plfa-part3-Denotational-30721" class="Bound">u</a><a id="plfa_plfa-part3-Denotational-30722" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-30724" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-30725" href="../Denotational/#plfa_plfa-part3-Denotational-30725" class="Bound">v</a> <a id="plfa_plfa-part3-Denotational-30727" href="../Denotational/#plfa_plfa-part3-Denotational-4036" class="InductiveConstructor Operator">⊔</a> <a id="plfa_plfa-part3-Denotational-30729" href="../Denotational/#plfa_plfa-part3-Denotational-30729" class="Bound">w</a><a id="plfa_plfa-part3-Denotational-30730" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-30732" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-30733" href="https://agda.github.io/agda-stdlib/v1.3/Data.Sum.Base.html#803" class="InductiveConstructor">inj₂</a> <a id="plfa_plfa-part3-Denotational-30738" href="../Denotational/#plfa_plfa-part3-Denotational-30738" class="Bound">y</a><a id="plfa_plfa-part3-Denotational-30739" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-30741" class="Symbol">=</a> <a id="plfa_plfa-part3-Denotational-30743" href="../Denotational/#plfa_plfa-part3-Denotational-4552" class="InductiveConstructor">⊑-conj-R2</a> <a id="plfa_plfa-part3-Denotational-30753" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-30754" href="../Denotational/#plfa_plfa-part3-Denotational-30554" class="Function">∈→⊑</a> <a id="plfa_plfa-part3-Denotational-30758" href="../Denotational/#plfa_plfa-part3-Denotational-30738" class="Bound">y</a><a id="plfa_plfa-part3-Denotational-30759" class="Symbol">)</a>

<a id="plfa_plfa-part3-Denotational-⊆→⊑"></a><a id="plfa_plfa-part3-Denotational-30762" href="../Denotational/#plfa_plfa-part3-Denotational-30762" class="Function">⊆→⊑</a> <a id="plfa_plfa-part3-Denotational-30766" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-30768" class="Symbol">∀{</a><a id="plfa_plfa-part3-Denotational-30770" href="../Denotational/#plfa_plfa-part3-Denotational-30770" class="Bound">u</a> <a id="plfa_plfa-part3-Denotational-30772" href="../Denotational/#plfa_plfa-part3-Denotational-30772" class="Bound">v</a> <a id="plfa_plfa-part3-Denotational-30774" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-30776" href="../Denotational/#plfa_plfa-part3-Denotational-3974" class="Datatype">Value</a><a id="plfa_plfa-part3-Denotational-30781" class="Symbol">}</a>
    <a id="plfa_plfa-part3-Denotational-30787" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-30789" href="../Denotational/#plfa_plfa-part3-Denotational-30770" class="Bound">u</a> <a id="plfa_plfa-part3-Denotational-30791" href="../Denotational/#plfa_plfa-part3-Denotational-30287" class="Function Operator">⊆</a> <a id="plfa_plfa-part3-Denotational-30793" href="../Denotational/#plfa_plfa-part3-Denotational-30772" class="Bound">v</a>
      <a id="plfa_plfa-part3-Denotational-30801" class="Comment">-----</a>
    <a id="plfa_plfa-part3-Denotational-30811" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-30813" href="../Denotational/#plfa_plfa-part3-Denotational-30770" class="Bound">u</a> <a id="plfa_plfa-part3-Denotational-30815" href="../Denotational/#plfa_plfa-part3-Denotational-4335" class="Datatype Operator">⊑</a> <a id="plfa_plfa-part3-Denotational-30817" href="../Denotational/#plfa_plfa-part3-Denotational-30772" class="Bound">v</a>
<a id="plfa_plfa-part3-Denotational-30819" href="../Denotational/#plfa_plfa-part3-Denotational-30762" class="Function">⊆→⊑</a> <a id="plfa_plfa-part3-Denotational-30823" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-30824" href="../Denotational/#plfa_plfa-part3-Denotational-3994" class="InductiveConstructor">⊥</a><a id="plfa_plfa-part3-Denotational-30825" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-30827" href="../Denotational/#plfa_plfa-part3-Denotational-30827" class="Bound">s</a> <a id="plfa_plfa-part3-Denotational-30829" class="Keyword">with</a> <a id="plfa_plfa-part3-Denotational-30834" href="../Denotational/#plfa_plfa-part3-Denotational-30827" class="Bound">s</a> <a id="plfa_plfa-part3-Denotational-30836" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-30837" href="../Denotational/#plfa_plfa-part3-Denotational-3994" class="InductiveConstructor">⊥</a><a id="plfa_plfa-part3-Denotational-30838" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-30840" href="https://agda.github.io/agda-stdlib/v1.3/Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a>
<a id="plfa_plfa-part3-Denotational-30845" class="Symbol">...</a> <a id="plfa_plfa-part3-Denotational-30849" class="Symbol">|</a> <a id="plfa_plfa-part3-Denotational-30851" href="../Denotational/#plfa_plfa-part3-Denotational-30851" class="Bound">x</a> <a id="plfa_plfa-part3-Denotational-30853" class="Symbol">=</a> <a id="plfa_plfa-part3-Denotational-30855" href="../Denotational/#plfa_plfa-part3-Denotational-4370" class="InductiveConstructor">⊑-bot</a>
<a id="plfa_plfa-part3-Denotational-30861" href="../Denotational/#plfa_plfa-part3-Denotational-30762" class="Function">⊆→⊑</a> <a id="plfa_plfa-part3-Denotational-30865" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-30866" href="../Denotational/#plfa_plfa-part3-Denotational-30866" class="Bound">u</a> <a id="plfa_plfa-part3-Denotational-30868" href="../Denotational/#plfa_plfa-part3-Denotational-4006" class="InductiveConstructor Operator">↦</a> <a id="plfa_plfa-part3-Denotational-30870" href="../Denotational/#plfa_plfa-part3-Denotational-30870" class="Bound">u′</a><a id="plfa_plfa-part3-Denotational-30872" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-30874" href="../Denotational/#plfa_plfa-part3-Denotational-30874" class="Bound">s</a> <a id="plfa_plfa-part3-Denotational-30876" class="Keyword">with</a> <a id="plfa_plfa-part3-Denotational-30881" href="../Denotational/#plfa_plfa-part3-Denotational-30874" class="Bound">s</a> <a id="plfa_plfa-part3-Denotational-30883" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-30884" href="../Denotational/#plfa_plfa-part3-Denotational-30866" class="Bound">u</a> <a id="plfa_plfa-part3-Denotational-30886" href="../Denotational/#plfa_plfa-part3-Denotational-4006" class="InductiveConstructor Operator">↦</a> <a id="plfa_plfa-part3-Denotational-30888" href="../Denotational/#plfa_plfa-part3-Denotational-30870" class="Bound">u′</a><a id="plfa_plfa-part3-Denotational-30890" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-30892" href="https://agda.github.io/agda-stdlib/v1.3/Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a>
<a id="plfa_plfa-part3-Denotational-30897" class="Symbol">...</a> <a id="plfa_plfa-part3-Denotational-30901" class="Symbol">|</a> <a id="plfa_plfa-part3-Denotational-30903" href="../Denotational/#plfa_plfa-part3-Denotational-30903" class="Bound">x</a> <a id="plfa_plfa-part3-Denotational-30905" class="Symbol">=</a> <a id="plfa_plfa-part3-Denotational-30907" href="../Denotational/#plfa_plfa-part3-Denotational-30554" class="Function">∈→⊑</a> <a id="plfa_plfa-part3-Denotational-30911" href="../Denotational/#plfa_plfa-part3-Denotational-30903" class="Bound">x</a>
<a id="plfa_plfa-part3-Denotational-30913" href="../Denotational/#plfa_plfa-part3-Denotational-30762" class="Function">⊆→⊑</a> <a id="plfa_plfa-part3-Denotational-30917" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-30918" href="../Denotational/#plfa_plfa-part3-Denotational-30918" class="Bound">u</a> <a id="plfa_plfa-part3-Denotational-30920" href="../Denotational/#plfa_plfa-part3-Denotational-4036" class="InductiveConstructor Operator">⊔</a> <a id="plfa_plfa-part3-Denotational-30922" href="../Denotational/#plfa_plfa-part3-Denotational-30922" class="Bound">u′</a><a id="plfa_plfa-part3-Denotational-30924" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-30926" href="../Denotational/#plfa_plfa-part3-Denotational-30926" class="Bound">s</a> <a id="plfa_plfa-part3-Denotational-30928" class="Symbol">=</a> <a id="plfa_plfa-part3-Denotational-30930" href="../Denotational/#plfa_plfa-part3-Denotational-4395" class="InductiveConstructor">⊑-conj-L</a> <a id="plfa_plfa-part3-Denotational-30939" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-30940" href="../Denotational/#plfa_plfa-part3-Denotational-30762" class="Function">⊆→⊑</a> <a id="plfa_plfa-part3-Denotational-30944" class="Symbol">(λ</a> <a id="plfa_plfa-part3-Denotational-30947" href="../Denotational/#plfa_plfa-part3-Denotational-30947" class="Bound">z</a> <a id="plfa_plfa-part3-Denotational-30949" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-30951" href="../Denotational/#plfa_plfa-part3-Denotational-30926" class="Bound">s</a> <a id="plfa_plfa-part3-Denotational-30953" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-30954" href="https://agda.github.io/agda-stdlib/v1.3/Data.Sum.Base.html#778" class="InductiveConstructor">inj₁</a> <a id="plfa_plfa-part3-Denotational-30959" href="../Denotational/#plfa_plfa-part3-Denotational-30947" class="Bound">z</a><a id="plfa_plfa-part3-Denotational-30960" class="Symbol">)))</a> <a id="plfa_plfa-part3-Denotational-30964" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-30965" href="../Denotational/#plfa_plfa-part3-Denotational-30762" class="Function">⊆→⊑</a> <a id="plfa_plfa-part3-Denotational-30969" class="Symbol">(λ</a> <a id="plfa_plfa-part3-Denotational-30972" href="../Denotational/#plfa_plfa-part3-Denotational-30972" class="Bound">z</a> <a id="plfa_plfa-part3-Denotational-30974" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-30976" href="../Denotational/#plfa_plfa-part3-Denotational-30926" class="Bound">s</a> <a id="plfa_plfa-part3-Denotational-30978" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-30979" href="https://agda.github.io/agda-stdlib/v1.3/Data.Sum.Base.html#803" class="InductiveConstructor">inj₂</a> <a id="plfa_plfa-part3-Denotational-30984" href="../Denotational/#plfa_plfa-part3-Denotational-30972" class="Bound">z</a><a id="plfa_plfa-part3-Denotational-30985" class="Symbol">)))</a>
</pre><p>We shall also need some inversion principles for value inclusion. If the union of <code>u</code> and <code>v</code> is included in <code>w</code>, then of course both <code>u</code> and <code>v</code> are each included in <code>w</code>.</p><pre class="Agda"><a id="plfa_plfa-part3-Denotational-⊔⊆-inv"></a><a id="plfa_plfa-part3-Denotational-31176" href="../Denotational/#plfa_plfa-part3-Denotational-31176" class="Function">⊔⊆-inv</a> <a id="plfa_plfa-part3-Denotational-31183" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-31185" class="Symbol">∀{</a><a id="plfa_plfa-part3-Denotational-31187" href="../Denotational/#plfa_plfa-part3-Denotational-31187" class="Bound">u</a> <a id="plfa_plfa-part3-Denotational-31189" href="../Denotational/#plfa_plfa-part3-Denotational-31189" class="Bound">v</a> <a id="plfa_plfa-part3-Denotational-31191" href="../Denotational/#plfa_plfa-part3-Denotational-31191" class="Bound">w</a> <a id="plfa_plfa-part3-Denotational-31193" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-31195" href="../Denotational/#plfa_plfa-part3-Denotational-3974" class="Datatype">Value</a><a id="plfa_plfa-part3-Denotational-31200" class="Symbol">}</a>
       <a id="plfa_plfa-part3-Denotational-31209" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-31211" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-31212" href="../Denotational/#plfa_plfa-part3-Denotational-31187" class="Bound">u</a> <a id="plfa_plfa-part3-Denotational-31214" href="../Denotational/#plfa_plfa-part3-Denotational-4036" class="InductiveConstructor Operator">⊔</a> <a id="plfa_plfa-part3-Denotational-31216" href="../Denotational/#plfa_plfa-part3-Denotational-31189" class="Bound">v</a><a id="plfa_plfa-part3-Denotational-31217" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-31219" href="../Denotational/#plfa_plfa-part3-Denotational-30287" class="Function Operator">⊆</a> <a id="plfa_plfa-part3-Denotational-31221" href="../Denotational/#plfa_plfa-part3-Denotational-31191" class="Bound">w</a>
         <a id="plfa_plfa-part3-Denotational-31232" class="Comment">---------------</a>
       <a id="plfa_plfa-part3-Denotational-31255" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-31257" href="../Denotational/#plfa_plfa-part3-Denotational-31187" class="Bound">u</a> <a id="plfa_plfa-part3-Denotational-31259" href="../Denotational/#plfa_plfa-part3-Denotational-30287" class="Function Operator">⊆</a> <a id="plfa_plfa-part3-Denotational-31261" href="../Denotational/#plfa_plfa-part3-Denotational-31191" class="Bound">w</a>  <a id="plfa_plfa-part3-Denotational-31264" href="https://agda.github.io/agda-stdlib/v1.3/Data.Product.html#1167" class="Function Operator">×</a>  <a id="plfa_plfa-part3-Denotational-31267" href="../Denotational/#plfa_plfa-part3-Denotational-31189" class="Bound">v</a> <a id="plfa_plfa-part3-Denotational-31269" href="../Denotational/#plfa_plfa-part3-Denotational-30287" class="Function Operator">⊆</a> <a id="plfa_plfa-part3-Denotational-31271" href="../Denotational/#plfa_plfa-part3-Denotational-31191" class="Bound">w</a>
<a id="plfa_plfa-part3-Denotational-31273" href="../Denotational/#plfa_plfa-part3-Denotational-31176" class="Function">⊔⊆-inv</a> <a id="plfa_plfa-part3-Denotational-31280" href="../Denotational/#plfa_plfa-part3-Denotational-31280" class="Bound">uvw</a> <a id="plfa_plfa-part3-Denotational-31284" class="Symbol">=</a> <a id="plfa_plfa-part3-Denotational-31286" href="../Denotational/#plfa_plfa-part3-Denotational-2730" class="InductiveConstructor Operator">⟨</a> <a id="plfa_plfa-part3-Denotational-31288" class="Symbol">(λ</a> <a id="plfa_plfa-part3-Denotational-31291" href="../Denotational/#plfa_plfa-part3-Denotational-31291" class="Bound">x</a> <a id="plfa_plfa-part3-Denotational-31293" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-31295" href="../Denotational/#plfa_plfa-part3-Denotational-31280" class="Bound">uvw</a> <a id="plfa_plfa-part3-Denotational-31299" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-31300" href="https://agda.github.io/agda-stdlib/v1.3/Data.Sum.Base.html#778" class="InductiveConstructor">inj₁</a> <a id="plfa_plfa-part3-Denotational-31305" href="../Denotational/#plfa_plfa-part3-Denotational-31291" class="Bound">x</a><a id="plfa_plfa-part3-Denotational-31306" class="Symbol">))</a> <a id="plfa_plfa-part3-Denotational-31309" href="../Denotational/#plfa_plfa-part3-Denotational-2730" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part3-Denotational-31311" class="Symbol">(λ</a> <a id="plfa_plfa-part3-Denotational-31314" href="../Denotational/#plfa_plfa-part3-Denotational-31314" class="Bound">x</a> <a id="plfa_plfa-part3-Denotational-31316" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-31318" href="../Denotational/#plfa_plfa-part3-Denotational-31280" class="Bound">uvw</a> <a id="plfa_plfa-part3-Denotational-31322" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-31323" href="https://agda.github.io/agda-stdlib/v1.3/Data.Sum.Base.html#803" class="InductiveConstructor">inj₂</a> <a id="plfa_plfa-part3-Denotational-31328" href="../Denotational/#plfa_plfa-part3-Denotational-31314" class="Bound">x</a><a id="plfa_plfa-part3-Denotational-31329" class="Symbol">))</a> <a id="plfa_plfa-part3-Denotational-31332" href="../Denotational/#plfa_plfa-part3-Denotational-2730" class="InductiveConstructor Operator">⟩</a>
</pre><p>In our value representation, the function value <code>v ↦ w</code> is both an element and also a singleton set. So if <code>v ↦ w</code> is a subset of <code>u</code>, then <code>v ↦ w</code> must be a member of <code>u</code>.</p><pre class="Agda"><a id="plfa_plfa-part3-Denotational-↦⊆→∈"></a><a id="plfa_plfa-part3-Denotational-31521" href="../Denotational/#plfa_plfa-part3-Denotational-31521" class="Function">↦⊆→∈</a> <a id="plfa_plfa-part3-Denotational-31526" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-31528" class="Symbol">∀{</a><a id="plfa_plfa-part3-Denotational-31530" href="../Denotational/#plfa_plfa-part3-Denotational-31530" class="Bound">v</a> <a id="plfa_plfa-part3-Denotational-31532" href="../Denotational/#plfa_plfa-part3-Denotational-31532" class="Bound">w</a> <a id="plfa_plfa-part3-Denotational-31534" href="../Denotational/#plfa_plfa-part3-Denotational-31534" class="Bound">u</a> <a id="plfa_plfa-part3-Denotational-31536" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-31538" href="../Denotational/#plfa_plfa-part3-Denotational-3974" class="Datatype">Value</a><a id="plfa_plfa-part3-Denotational-31543" class="Symbol">}</a>
     <a id="plfa_plfa-part3-Denotational-31550" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-31552" href="../Denotational/#plfa_plfa-part3-Denotational-31530" class="Bound">v</a> <a id="plfa_plfa-part3-Denotational-31554" href="../Denotational/#plfa_plfa-part3-Denotational-4006" class="InductiveConstructor Operator">↦</a> <a id="plfa_plfa-part3-Denotational-31556" href="../Denotational/#plfa_plfa-part3-Denotational-31532" class="Bound">w</a> <a id="plfa_plfa-part3-Denotational-31558" href="../Denotational/#plfa_plfa-part3-Denotational-30287" class="Function Operator">⊆</a> <a id="plfa_plfa-part3-Denotational-31560" href="../Denotational/#plfa_plfa-part3-Denotational-31534" class="Bound">u</a>
       <a id="plfa_plfa-part3-Denotational-31569" class="Comment">---------</a>
     <a id="plfa_plfa-part3-Denotational-31584" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-31586" href="../Denotational/#plfa_plfa-part3-Denotational-31530" class="Bound">v</a> <a id="plfa_plfa-part3-Denotational-31588" href="../Denotational/#plfa_plfa-part3-Denotational-4006" class="InductiveConstructor Operator">↦</a> <a id="plfa_plfa-part3-Denotational-31590" href="../Denotational/#plfa_plfa-part3-Denotational-31532" class="Bound">w</a> <a id="plfa_plfa-part3-Denotational-31592" href="../Denotational/#plfa_plfa-part3-Denotational-30037" class="Function Operator">∈</a> <a id="plfa_plfa-part3-Denotational-31594" href="../Denotational/#plfa_plfa-part3-Denotational-31534" class="Bound">u</a>
<a id="plfa_plfa-part3-Denotational-31596" href="../Denotational/#plfa_plfa-part3-Denotational-31521" class="Function">↦⊆→∈</a> <a id="plfa_plfa-part3-Denotational-31601" href="../Denotational/#plfa_plfa-part3-Denotational-31601" class="Bound">incl</a> <a id="plfa_plfa-part3-Denotational-31606" class="Symbol">=</a> <a id="plfa_plfa-part3-Denotational-31608" href="../Denotational/#plfa_plfa-part3-Denotational-31601" class="Bound">incl</a> <a id="plfa_plfa-part3-Denotational-31613" href="https://agda.github.io/agda-stdlib/v1.3/Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a>
</pre><h3 id="function-values">Function values</h3><p>To identify collections of functions, we define the following two predicates. We write <code>Fun u</code> if <code>u</code> is a function value, that is, if <code>u ≡ v ↦ w</code> for some values <code>v</code> and <code>w</code>. We write <code>all-funs v</code> if all the elements of <code>v</code> are functions.</p><pre class="Agda"><a id="plfa_plfa-part3-Denotational-31894" class="Keyword">data</a> <a id="plfa_plfa-part3-Denotational-Fun"></a><a id="plfa_plfa-part3-Denotational-31899" href="../Denotational/#plfa_plfa-part3-Denotational-31899" class="Datatype">Fun</a> <a id="plfa_plfa-part3-Denotational-31903" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-31905" href="../Denotational/#plfa_plfa-part3-Denotational-3974" class="Datatype">Value</a> <a id="plfa_plfa-part3-Denotational-31911" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-31913" href="https://agda.github.io/agda-stdlib/v1.3/Agda.Primitive.html#326" class="Primitive">Set</a> <a id="plfa_plfa-part3-Denotational-31917" class="Keyword">where</a>
  <a id="plfa_plfa-part3-Denotational-Fun.fun"></a><a id="plfa_plfa-part3-Denotational-31925" href="../Denotational/#plfa_plfa-part3-Denotational-31925" class="InductiveConstructor">fun</a> <a id="plfa_plfa-part3-Denotational-31929" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-31931" class="Symbol">∀{</a><a id="plfa_plfa-part3-Denotational-31933" href="../Denotational/#plfa_plfa-part3-Denotational-31933" class="Bound">u</a> <a id="plfa_plfa-part3-Denotational-31935" href="../Denotational/#plfa_plfa-part3-Denotational-31935" class="Bound">v</a> <a id="plfa_plfa-part3-Denotational-31937" href="../Denotational/#plfa_plfa-part3-Denotational-31937" class="Bound">w</a><a id="plfa_plfa-part3-Denotational-31938" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-31940" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-31942" href="../Denotational/#plfa_plfa-part3-Denotational-31933" class="Bound">u</a> <a id="plfa_plfa-part3-Denotational-31944" href="https://agda.github.io/agda-stdlib/v1.3/Agda.Builtin.Equality.html#151" class="Datatype Operator">≡</a> <a id="plfa_plfa-part3-Denotational-31946" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-31947" href="../Denotational/#plfa_plfa-part3-Denotational-31935" class="Bound">v</a> <a id="plfa_plfa-part3-Denotational-31949" href="../Denotational/#plfa_plfa-part3-Denotational-4006" class="InductiveConstructor Operator">↦</a> <a id="plfa_plfa-part3-Denotational-31951" href="../Denotational/#plfa_plfa-part3-Denotational-31937" class="Bound">w</a><a id="plfa_plfa-part3-Denotational-31952" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-31954" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-31956" href="../Denotational/#plfa_plfa-part3-Denotational-31899" class="Datatype">Fun</a> <a id="plfa_plfa-part3-Denotational-31960" href="../Denotational/#plfa_plfa-part3-Denotational-31933" class="Bound">u</a>

<a id="plfa_plfa-part3-Denotational-all-funs"></a><a id="plfa_plfa-part3-Denotational-31963" href="../Denotational/#plfa_plfa-part3-Denotational-31963" class="Function">all-funs</a> <a id="plfa_plfa-part3-Denotational-31972" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-31974" href="../Denotational/#plfa_plfa-part3-Denotational-3974" class="Datatype">Value</a> <a id="plfa_plfa-part3-Denotational-31980" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-31982" href="https://agda.github.io/agda-stdlib/v1.3/Agda.Primitive.html#326" class="Primitive">Set</a>
<a id="plfa_plfa-part3-Denotational-31986" href="../Denotational/#plfa_plfa-part3-Denotational-31963" class="Function">all-funs</a> <a id="plfa_plfa-part3-Denotational-31995" href="../Denotational/#plfa_plfa-part3-Denotational-31995" class="Bound">v</a> <a id="plfa_plfa-part3-Denotational-31997" class="Symbol">=</a> <a id="plfa_plfa-part3-Denotational-31999" class="Symbol">∀{</a><a id="plfa_plfa-part3-Denotational-32001" href="../Denotational/#plfa_plfa-part3-Denotational-32001" class="Bound">u</a><a id="plfa_plfa-part3-Denotational-32002" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-32004" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-32006" href="../Denotational/#plfa_plfa-part3-Denotational-32001" class="Bound">u</a> <a id="plfa_plfa-part3-Denotational-32008" href="../Denotational/#plfa_plfa-part3-Denotational-30037" class="Function Operator">∈</a> <a id="plfa_plfa-part3-Denotational-32010" href="../Denotational/#plfa_plfa-part3-Denotational-31995" class="Bound">v</a> <a id="plfa_plfa-part3-Denotational-32012" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-32014" href="../Denotational/#plfa_plfa-part3-Denotational-31899" class="Datatype">Fun</a> <a id="plfa_plfa-part3-Denotational-32018" href="../Denotational/#plfa_plfa-part3-Denotational-32001" class="Bound">u</a>
</pre><p>The value <code>⊥</code> is not a function.</p><pre class="Agda"><a id="plfa_plfa-part3-Denotational-¬Fun⊥"></a><a id="plfa_plfa-part3-Denotational-32067" href="../Denotational/#plfa_plfa-part3-Denotational-32067" class="Function">¬Fun⊥</a> <a id="plfa_plfa-part3-Denotational-32073" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-32075" href="https://agda.github.io/agda-stdlib/v1.3/Relation.Nullary.html#653" class="Function Operator">¬</a> <a id="plfa_plfa-part3-Denotational-32077" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-32078" href="../Denotational/#plfa_plfa-part3-Denotational-31899" class="Datatype">Fun</a> <a id="plfa_plfa-part3-Denotational-32082" href="../Denotational/#plfa_plfa-part3-Denotational-3994" class="InductiveConstructor">⊥</a><a id="plfa_plfa-part3-Denotational-32083" class="Symbol">)</a>
<a id="plfa_plfa-part3-Denotational-32085" href="../Denotational/#plfa_plfa-part3-Denotational-32067" class="Function">¬Fun⊥</a> <a id="plfa_plfa-part3-Denotational-32091" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-32092" href="../Denotational/#plfa_plfa-part3-Denotational-31925" class="InductiveConstructor">fun</a> <a id="plfa_plfa-part3-Denotational-32096" class="Symbol">())</a>
</pre><p>In our values-as-sets representation, our sets always include at least one element. Thus, if all the elements are functions, there is at least one that is a function.</p><pre class="Agda"><a id="plfa_plfa-part3-Denotational-all-funs∈"></a><a id="plfa_plfa-part3-Denotational-32281" href="../Denotational/#plfa_plfa-part3-Denotational-32281" class="Function">all-funs∈</a> <a id="plfa_plfa-part3-Denotational-32291" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-32293" class="Symbol">∀{</a><a id="plfa_plfa-part3-Denotational-32295" href="../Denotational/#plfa_plfa-part3-Denotational-32295" class="Bound">u</a><a id="plfa_plfa-part3-Denotational-32296" class="Symbol">}</a>
      <a id="plfa_plfa-part3-Denotational-32304" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-32306" href="../Denotational/#plfa_plfa-part3-Denotational-31963" class="Function">all-funs</a> <a id="plfa_plfa-part3-Denotational-32315" href="../Denotational/#plfa_plfa-part3-Denotational-32295" class="Bound">u</a>
      <a id="plfa_plfa-part3-Denotational-32323" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-32325" href="https://agda.github.io/agda-stdlib/v1.3/Data.Product.html#916" class="Function">Σ[</a> <a id="plfa_plfa-part3-Denotational-32328" href="../Denotational/#plfa_plfa-part3-Denotational-32328" class="Bound">v</a> <a id="plfa_plfa-part3-Denotational-32330" href="https://agda.github.io/agda-stdlib/v1.3/Data.Product.html#916" class="Function">∈</a> <a id="plfa_plfa-part3-Denotational-32332" href="../Denotational/#plfa_plfa-part3-Denotational-3974" class="Datatype">Value</a> <a id="plfa_plfa-part3-Denotational-32338" href="https://agda.github.io/agda-stdlib/v1.3/Data.Product.html#916" class="Function">]</a> <a id="plfa_plfa-part3-Denotational-32340" href="https://agda.github.io/agda-stdlib/v1.3/Data.Product.html#916" class="Function">Σ[</a> <a id="plfa_plfa-part3-Denotational-32343" href="../Denotational/#plfa_plfa-part3-Denotational-32343" class="Bound">w</a> <a id="plfa_plfa-part3-Denotational-32345" href="https://agda.github.io/agda-stdlib/v1.3/Data.Product.html#916" class="Function">∈</a> <a id="plfa_plfa-part3-Denotational-32347" href="../Denotational/#plfa_plfa-part3-Denotational-3974" class="Datatype">Value</a> <a id="plfa_plfa-part3-Denotational-32353" href="https://agda.github.io/agda-stdlib/v1.3/Data.Product.html#916" class="Function">]</a> <a id="plfa_plfa-part3-Denotational-32355" href="../Denotational/#plfa_plfa-part3-Denotational-32328" class="Bound">v</a> <a id="plfa_plfa-part3-Denotational-32357" href="../Denotational/#plfa_plfa-part3-Denotational-4006" class="InductiveConstructor Operator">↦</a> <a id="plfa_plfa-part3-Denotational-32359" href="../Denotational/#plfa_plfa-part3-Denotational-32343" class="Bound">w</a> <a id="plfa_plfa-part3-Denotational-32361" href="../Denotational/#plfa_plfa-part3-Denotational-30037" class="Function Operator">∈</a> <a id="plfa_plfa-part3-Denotational-32363" href="../Denotational/#plfa_plfa-part3-Denotational-32295" class="Bound">u</a>
<a id="plfa_plfa-part3-Denotational-32365" href="../Denotational/#plfa_plfa-part3-Denotational-32281" class="Function">all-funs∈</a> <a id="plfa_plfa-part3-Denotational-32375" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-32376" href="../Denotational/#plfa_plfa-part3-Denotational-3994" class="InductiveConstructor">⊥</a><a id="plfa_plfa-part3-Denotational-32377" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-32379" href="../Denotational/#plfa_plfa-part3-Denotational-32379" class="Bound">f</a> <a id="plfa_plfa-part3-Denotational-32381" class="Keyword">with</a> <a id="plfa_plfa-part3-Denotational-32386" href="../Denotational/#plfa_plfa-part3-Denotational-32379" class="Bound">f</a> <a id="plfa_plfa-part3-Denotational-32388" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-32389" href="../Denotational/#plfa_plfa-part3-Denotational-3994" class="InductiveConstructor">⊥</a><a id="plfa_plfa-part3-Denotational-32390" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-32392" href="https://agda.github.io/agda-stdlib/v1.3/Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a>
<a id="plfa_plfa-part3-Denotational-32397" class="Symbol">...</a> <a id="plfa_plfa-part3-Denotational-32401" class="Symbol">|</a> <a id="plfa_plfa-part3-Denotational-32403" href="../Denotational/#plfa_plfa-part3-Denotational-31925" class="InductiveConstructor">fun</a> <a id="plfa_plfa-part3-Denotational-32407" class="Symbol">()</a>
<a id="plfa_plfa-part3-Denotational-32410" href="../Denotational/#plfa_plfa-part3-Denotational-32281" class="Function">all-funs∈</a> <a id="plfa_plfa-part3-Denotational-32420" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-32421" href="../Denotational/#plfa_plfa-part3-Denotational-32421" class="Bound">v</a> <a id="plfa_plfa-part3-Denotational-32423" href="../Denotational/#plfa_plfa-part3-Denotational-4006" class="InductiveConstructor Operator">↦</a> <a id="plfa_plfa-part3-Denotational-32425" href="../Denotational/#plfa_plfa-part3-Denotational-32425" class="Bound">w</a><a id="plfa_plfa-part3-Denotational-32426" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-32428" href="../Denotational/#plfa_plfa-part3-Denotational-32428" class="Bound">f</a> <a id="plfa_plfa-part3-Denotational-32430" class="Symbol">=</a> <a id="plfa_plfa-part3-Denotational-32432" href="../Denotational/#plfa_plfa-part3-Denotational-2730" class="InductiveConstructor Operator">⟨</a> <a id="plfa_plfa-part3-Denotational-32434" href="../Denotational/#plfa_plfa-part3-Denotational-32421" class="Bound">v</a> <a id="plfa_plfa-part3-Denotational-32436" href="../Denotational/#plfa_plfa-part3-Denotational-2730" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part3-Denotational-32438" href="../Denotational/#plfa_plfa-part3-Denotational-2730" class="InductiveConstructor Operator">⟨</a> <a id="plfa_plfa-part3-Denotational-32440" href="../Denotational/#plfa_plfa-part3-Denotational-32425" class="Bound">w</a> <a id="plfa_plfa-part3-Denotational-32442" href="../Denotational/#plfa_plfa-part3-Denotational-2730" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part3-Denotational-32444" href="https://agda.github.io/agda-stdlib/v1.3/Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a> <a id="plfa_plfa-part3-Denotational-32449" href="../Denotational/#plfa_plfa-part3-Denotational-2730" class="InductiveConstructor Operator">⟩</a> <a id="plfa_plfa-part3-Denotational-32451" href="../Denotational/#plfa_plfa-part3-Denotational-2730" class="InductiveConstructor Operator">⟩</a>
<a id="plfa_plfa-part3-Denotational-32453" href="../Denotational/#plfa_plfa-part3-Denotational-32281" class="Function">all-funs∈</a> <a id="plfa_plfa-part3-Denotational-32463" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-32464" href="../Denotational/#plfa_plfa-part3-Denotational-32464" class="Bound">u</a> <a id="plfa_plfa-part3-Denotational-32466" href="../Denotational/#plfa_plfa-part3-Denotational-4036" class="InductiveConstructor Operator">⊔</a> <a id="plfa_plfa-part3-Denotational-32468" href="../Denotational/#plfa_plfa-part3-Denotational-32468" class="Bound">u′</a><a id="plfa_plfa-part3-Denotational-32470" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-32472" href="../Denotational/#plfa_plfa-part3-Denotational-32472" class="Bound">f</a>
    <a id="plfa_plfa-part3-Denotational-32478" class="Keyword">with</a> <a id="plfa_plfa-part3-Denotational-32483" href="../Denotational/#plfa_plfa-part3-Denotational-32281" class="Function">all-funs∈</a> <a id="plfa_plfa-part3-Denotational-32493" class="Symbol">(λ</a> <a id="plfa_plfa-part3-Denotational-32496" href="../Denotational/#plfa_plfa-part3-Denotational-32496" class="Bound">z</a> <a id="plfa_plfa-part3-Denotational-32498" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-32500" href="../Denotational/#plfa_plfa-part3-Denotational-32472" class="Bound">f</a> <a id="plfa_plfa-part3-Denotational-32502" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-32503" href="https://agda.github.io/agda-stdlib/v1.3/Data.Sum.Base.html#778" class="InductiveConstructor">inj₁</a> <a id="plfa_plfa-part3-Denotational-32508" href="../Denotational/#plfa_plfa-part3-Denotational-32496" class="Bound">z</a><a id="plfa_plfa-part3-Denotational-32509" class="Symbol">))</a>
<a id="plfa_plfa-part3-Denotational-32512" class="Symbol">...</a> <a id="plfa_plfa-part3-Denotational-32516" class="Symbol">|</a> <a id="plfa_plfa-part3-Denotational-32518" href="../Denotational/#plfa_plfa-part3-Denotational-2730" class="InductiveConstructor Operator">⟨</a> <a id="plfa_plfa-part3-Denotational-32520" href="../Denotational/#plfa_plfa-part3-Denotational-32520" class="Bound">v</a> <a id="plfa_plfa-part3-Denotational-32522" href="../Denotational/#plfa_plfa-part3-Denotational-2730" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part3-Denotational-32524" href="../Denotational/#plfa_plfa-part3-Denotational-2730" class="InductiveConstructor Operator">⟨</a> <a id="plfa_plfa-part3-Denotational-32526" href="../Denotational/#plfa_plfa-part3-Denotational-32526" class="Bound">w</a> <a id="plfa_plfa-part3-Denotational-32528" href="../Denotational/#plfa_plfa-part3-Denotational-2730" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part3-Denotational-32530" href="../Denotational/#plfa_plfa-part3-Denotational-32530" class="Bound">m</a> <a id="plfa_plfa-part3-Denotational-32532" href="../Denotational/#plfa_plfa-part3-Denotational-2730" class="InductiveConstructor Operator">⟩</a> <a id="plfa_plfa-part3-Denotational-32534" href="../Denotational/#plfa_plfa-part3-Denotational-2730" class="InductiveConstructor Operator">⟩</a> <a id="plfa_plfa-part3-Denotational-32536" class="Symbol">=</a> <a id="plfa_plfa-part3-Denotational-32538" href="../Denotational/#plfa_plfa-part3-Denotational-2730" class="InductiveConstructor Operator">⟨</a> <a id="plfa_plfa-part3-Denotational-32540" href="../Denotational/#plfa_plfa-part3-Denotational-32520" class="Bound">v</a> <a id="plfa_plfa-part3-Denotational-32542" href="../Denotational/#plfa_plfa-part3-Denotational-2730" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part3-Denotational-32544" href="../Denotational/#plfa_plfa-part3-Denotational-2730" class="InductiveConstructor Operator">⟨</a> <a id="plfa_plfa-part3-Denotational-32546" href="../Denotational/#plfa_plfa-part3-Denotational-32526" class="Bound">w</a> <a id="plfa_plfa-part3-Denotational-32548" href="../Denotational/#plfa_plfa-part3-Denotational-2730" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part3-Denotational-32550" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-32551" href="https://agda.github.io/agda-stdlib/v1.3/Data.Sum.Base.html#778" class="InductiveConstructor">inj₁</a> <a id="plfa_plfa-part3-Denotational-32556" href="../Denotational/#plfa_plfa-part3-Denotational-32530" class="Bound">m</a><a id="plfa_plfa-part3-Denotational-32557" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-32559" href="../Denotational/#plfa_plfa-part3-Denotational-2730" class="InductiveConstructor Operator">⟩</a> <a id="plfa_plfa-part3-Denotational-32561" href="../Denotational/#plfa_plfa-part3-Denotational-2730" class="InductiveConstructor Operator">⟩</a>
</pre><h3 id="domains-and-codomains">Domains and codomains</h3><p>Returning to our goal, the inversion principle for less-than a function, we want to show that <code>v ↦ w ⊑ u</code> implies that <code>u</code> includes a set of function values such that the join of their domains is less than <code>v</code> and the join of their codomains is greater than <code>w</code>.</p><p>To this end we define the following <code>⨆dom</code> and <code>⨆cod</code> functions. Given some value <code>u</code> (that represents a set of entries), <code>⨆dom u</code> returns the join of their domains and <code>⨆cod u</code> returns the join of their codomains.</p><pre class="Agda"><a id="plfa_plfa-part3-Denotational-⨆dom"></a><a id="plfa_plfa-part3-Denotational-33085" href="../Denotational/#plfa_plfa-part3-Denotational-33085" class="Function">⨆dom</a> <a id="plfa_plfa-part3-Denotational-33090" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-33092" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-33093" href="../Denotational/#plfa_plfa-part3-Denotational-33093" class="Bound">u</a> <a id="plfa_plfa-part3-Denotational-33095" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-33097" href="../Denotational/#plfa_plfa-part3-Denotational-3974" class="Datatype">Value</a><a id="plfa_plfa-part3-Denotational-33102" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-33104" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-33106" href="../Denotational/#plfa_plfa-part3-Denotational-3974" class="Datatype">Value</a>
<a id="plfa_plfa-part3-Denotational-33112" href="../Denotational/#plfa_plfa-part3-Denotational-33085" class="Function">⨆dom</a> <a id="plfa_plfa-part3-Denotational-33117" href="../Denotational/#plfa_plfa-part3-Denotational-3994" class="InductiveConstructor">⊥</a>  <a id="plfa_plfa-part3-Denotational-33120" class="Symbol">=</a> <a id="plfa_plfa-part3-Denotational-33122" href="../Denotational/#plfa_plfa-part3-Denotational-3994" class="InductiveConstructor">⊥</a>
<a id="plfa_plfa-part3-Denotational-33124" href="../Denotational/#plfa_plfa-part3-Denotational-33085" class="Function">⨆dom</a> <a id="plfa_plfa-part3-Denotational-33129" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-33130" href="../Denotational/#plfa_plfa-part3-Denotational-33130" class="Bound">v</a> <a id="plfa_plfa-part3-Denotational-33132" href="../Denotational/#plfa_plfa-part3-Denotational-4006" class="InductiveConstructor Operator">↦</a> <a id="plfa_plfa-part3-Denotational-33134" href="../Denotational/#plfa_plfa-part3-Denotational-33134" class="Bound">w</a><a id="plfa_plfa-part3-Denotational-33135" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-33137" class="Symbol">=</a> <a id="plfa_plfa-part3-Denotational-33139" href="../Denotational/#plfa_plfa-part3-Denotational-33130" class="Bound">v</a>
<a id="plfa_plfa-part3-Denotational-33141" href="../Denotational/#plfa_plfa-part3-Denotational-33085" class="Function">⨆dom</a> <a id="plfa_plfa-part3-Denotational-33146" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-33147" href="../Denotational/#plfa_plfa-part3-Denotational-33147" class="Bound">u</a> <a id="plfa_plfa-part3-Denotational-33149" href="../Denotational/#plfa_plfa-part3-Denotational-4036" class="InductiveConstructor Operator">⊔</a> <a id="plfa_plfa-part3-Denotational-33151" href="../Denotational/#plfa_plfa-part3-Denotational-33151" class="Bound">u′</a><a id="plfa_plfa-part3-Denotational-33153" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-33155" class="Symbol">=</a> <a id="plfa_plfa-part3-Denotational-33157" href="../Denotational/#plfa_plfa-part3-Denotational-33085" class="Function">⨆dom</a> <a id="plfa_plfa-part3-Denotational-33162" href="../Denotational/#plfa_plfa-part3-Denotational-33147" class="Bound">u</a> <a id="plfa_plfa-part3-Denotational-33164" href="../Denotational/#plfa_plfa-part3-Denotational-4036" class="InductiveConstructor Operator">⊔</a> <a id="plfa_plfa-part3-Denotational-33166" href="../Denotational/#plfa_plfa-part3-Denotational-33085" class="Function">⨆dom</a> <a id="plfa_plfa-part3-Denotational-33171" href="../Denotational/#plfa_plfa-part3-Denotational-33151" class="Bound">u′</a>

<a id="plfa_plfa-part3-Denotational-⨆cod"></a><a id="plfa_plfa-part3-Denotational-33175" href="../Denotational/#plfa_plfa-part3-Denotational-33175" class="Function">⨆cod</a> <a id="plfa_plfa-part3-Denotational-33180" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-33182" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-33183" href="../Denotational/#plfa_plfa-part3-Denotational-33183" class="Bound">u</a> <a id="plfa_plfa-part3-Denotational-33185" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-33187" href="../Denotational/#plfa_plfa-part3-Denotational-3974" class="Datatype">Value</a><a id="plfa_plfa-part3-Denotational-33192" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-33194" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-33196" href="../Denotational/#plfa_plfa-part3-Denotational-3974" class="Datatype">Value</a>
<a id="plfa_plfa-part3-Denotational-33202" href="../Denotational/#plfa_plfa-part3-Denotational-33175" class="Function">⨆cod</a> <a id="plfa_plfa-part3-Denotational-33207" href="../Denotational/#plfa_plfa-part3-Denotational-3994" class="InductiveConstructor">⊥</a>  <a id="plfa_plfa-part3-Denotational-33210" class="Symbol">=</a> <a id="plfa_plfa-part3-Denotational-33212" href="../Denotational/#plfa_plfa-part3-Denotational-3994" class="InductiveConstructor">⊥</a>
<a id="plfa_plfa-part3-Denotational-33214" href="../Denotational/#plfa_plfa-part3-Denotational-33175" class="Function">⨆cod</a> <a id="plfa_plfa-part3-Denotational-33219" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-33220" href="../Denotational/#plfa_plfa-part3-Denotational-33220" class="Bound">v</a> <a id="plfa_plfa-part3-Denotational-33222" href="../Denotational/#plfa_plfa-part3-Denotational-4006" class="InductiveConstructor Operator">↦</a> <a id="plfa_plfa-part3-Denotational-33224" href="../Denotational/#plfa_plfa-part3-Denotational-33224" class="Bound">w</a><a id="plfa_plfa-part3-Denotational-33225" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-33227" class="Symbol">=</a> <a id="plfa_plfa-part3-Denotational-33229" href="../Denotational/#plfa_plfa-part3-Denotational-33224" class="Bound">w</a>
<a id="plfa_plfa-part3-Denotational-33231" href="../Denotational/#plfa_plfa-part3-Denotational-33175" class="Function">⨆cod</a> <a id="plfa_plfa-part3-Denotational-33236" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-33237" href="../Denotational/#plfa_plfa-part3-Denotational-33237" class="Bound">u</a> <a id="plfa_plfa-part3-Denotational-33239" href="../Denotational/#plfa_plfa-part3-Denotational-4036" class="InductiveConstructor Operator">⊔</a> <a id="plfa_plfa-part3-Denotational-33241" href="../Denotational/#plfa_plfa-part3-Denotational-33241" class="Bound">u′</a><a id="plfa_plfa-part3-Denotational-33243" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-33245" class="Symbol">=</a> <a id="plfa_plfa-part3-Denotational-33247" href="../Denotational/#plfa_plfa-part3-Denotational-33175" class="Function">⨆cod</a> <a id="plfa_plfa-part3-Denotational-33252" href="../Denotational/#plfa_plfa-part3-Denotational-33237" class="Bound">u</a> <a id="plfa_plfa-part3-Denotational-33254" href="../Denotational/#plfa_plfa-part3-Denotational-4036" class="InductiveConstructor Operator">⊔</a> <a id="plfa_plfa-part3-Denotational-33256" href="../Denotational/#plfa_plfa-part3-Denotational-33175" class="Function">⨆cod</a> <a id="plfa_plfa-part3-Denotational-33261" href="../Denotational/#plfa_plfa-part3-Denotational-33241" class="Bound">u′</a>
</pre><p>We need just one property each for <code>⨆dom</code> and <code>⨆cod</code>. Given a collection of functions represented by value <code>u</code>, and an entry <code>v ↦ w ∈ u</code>, we know that <code>v</code> is included in the domain of <code>u</code>.</p><pre class="Agda"><a id="plfa_plfa-part3-Denotational-↦∈→⊆⨆dom"></a><a id="plfa_plfa-part3-Denotational-33468" href="../Denotational/#plfa_plfa-part3-Denotational-33468" class="Function">↦∈→⊆⨆dom</a> <a id="plfa_plfa-part3-Denotational-33477" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-33479" class="Symbol">∀{</a><a id="plfa_plfa-part3-Denotational-33481" href="../Denotational/#plfa_plfa-part3-Denotational-33481" class="Bound">u</a> <a id="plfa_plfa-part3-Denotational-33483" href="../Denotational/#plfa_plfa-part3-Denotational-33483" class="Bound">v</a> <a id="plfa_plfa-part3-Denotational-33485" href="../Denotational/#plfa_plfa-part3-Denotational-33485" class="Bound">w</a> <a id="plfa_plfa-part3-Denotational-33487" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-33489" href="../Denotational/#plfa_plfa-part3-Denotational-3974" class="Datatype">Value</a><a id="plfa_plfa-part3-Denotational-33494" class="Symbol">}</a>
          <a id="plfa_plfa-part3-Denotational-33506" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-33508" href="../Denotational/#plfa_plfa-part3-Denotational-31963" class="Function">all-funs</a> <a id="plfa_plfa-part3-Denotational-33517" href="../Denotational/#plfa_plfa-part3-Denotational-33481" class="Bound">u</a>  <a id="plfa_plfa-part3-Denotational-33520" class="Symbol">→</a>  <a id="plfa_plfa-part3-Denotational-33523" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-33524" href="../Denotational/#plfa_plfa-part3-Denotational-33483" class="Bound">v</a> <a id="plfa_plfa-part3-Denotational-33526" href="../Denotational/#plfa_plfa-part3-Denotational-4006" class="InductiveConstructor Operator">↦</a> <a id="plfa_plfa-part3-Denotational-33528" href="../Denotational/#plfa_plfa-part3-Denotational-33485" class="Bound">w</a><a id="plfa_plfa-part3-Denotational-33529" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-33531" href="../Denotational/#plfa_plfa-part3-Denotational-30037" class="Function Operator">∈</a> <a id="plfa_plfa-part3-Denotational-33533" href="../Denotational/#plfa_plfa-part3-Denotational-33481" class="Bound">u</a>
            <a id="plfa_plfa-part3-Denotational-33547" class="Comment">----------------------</a>
          <a id="plfa_plfa-part3-Denotational-33580" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-33582" href="../Denotational/#plfa_plfa-part3-Denotational-33483" class="Bound">v</a> <a id="plfa_plfa-part3-Denotational-33584" href="../Denotational/#plfa_plfa-part3-Denotational-30287" class="Function Operator">⊆</a> <a id="plfa_plfa-part3-Denotational-33586" href="../Denotational/#plfa_plfa-part3-Denotational-33085" class="Function">⨆dom</a> <a id="plfa_plfa-part3-Denotational-33591" href="../Denotational/#plfa_plfa-part3-Denotational-33481" class="Bound">u</a>
<a id="plfa_plfa-part3-Denotational-33593" href="../Denotational/#plfa_plfa-part3-Denotational-33468" class="Function">↦∈→⊆⨆dom</a> <a id="plfa_plfa-part3-Denotational-33602" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-33603" href="../Denotational/#plfa_plfa-part3-Denotational-3994" class="InductiveConstructor">⊥</a><a id="plfa_plfa-part3-Denotational-33604" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-33606" href="../Denotational/#plfa_plfa-part3-Denotational-33606" class="Bound">fg</a> <a id="plfa_plfa-part3-Denotational-33609" class="Symbol">()</a> <a id="plfa_plfa-part3-Denotational-33612" href="../Denotational/#plfa_plfa-part3-Denotational-33612" class="Bound">u∈v</a>
<a id="plfa_plfa-part3-Denotational-33616" href="../Denotational/#plfa_plfa-part3-Denotational-33468" class="Function">↦∈→⊆⨆dom</a> <a id="plfa_plfa-part3-Denotational-33625" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-33626" href="../Denotational/#plfa_plfa-part3-Denotational-33626" class="Bound">v</a> <a id="plfa_plfa-part3-Denotational-33628" href="../Denotational/#plfa_plfa-part3-Denotational-4006" class="InductiveConstructor Operator">↦</a> <a id="plfa_plfa-part3-Denotational-33630" href="../Denotational/#plfa_plfa-part3-Denotational-33630" class="Bound">w</a><a id="plfa_plfa-part3-Denotational-33631" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-33633" href="../Denotational/#plfa_plfa-part3-Denotational-33633" class="Bound">fg</a> <a id="plfa_plfa-part3-Denotational-33636" href="https://agda.github.io/agda-stdlib/v1.3/Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a> <a id="plfa_plfa-part3-Denotational-33641" href="../Denotational/#plfa_plfa-part3-Denotational-33641" class="Bound">u∈v</a> <a id="plfa_plfa-part3-Denotational-33645" class="Symbol">=</a> <a id="plfa_plfa-part3-Denotational-33647" href="../Denotational/#plfa_plfa-part3-Denotational-33641" class="Bound">u∈v</a>
<a id="plfa_plfa-part3-Denotational-33651" href="../Denotational/#plfa_plfa-part3-Denotational-33468" class="Function">↦∈→⊆⨆dom</a> <a id="plfa_plfa-part3-Denotational-33660" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-33661" href="../Denotational/#plfa_plfa-part3-Denotational-33661" class="Bound">u</a> <a id="plfa_plfa-part3-Denotational-33663" href="../Denotational/#plfa_plfa-part3-Denotational-4036" class="InductiveConstructor Operator">⊔</a> <a id="plfa_plfa-part3-Denotational-33665" href="../Denotational/#plfa_plfa-part3-Denotational-33665" class="Bound">u′</a><a id="plfa_plfa-part3-Denotational-33667" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-33669" href="../Denotational/#plfa_plfa-part3-Denotational-33669" class="Bound">fg</a> <a id="plfa_plfa-part3-Denotational-33672" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-33673" href="https://agda.github.io/agda-stdlib/v1.3/Data.Sum.Base.html#778" class="InductiveConstructor">inj₁</a> <a id="plfa_plfa-part3-Denotational-33678" href="../Denotational/#plfa_plfa-part3-Denotational-33678" class="Bound">v↦w∈u</a><a id="plfa_plfa-part3-Denotational-33683" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-33685" href="../Denotational/#plfa_plfa-part3-Denotational-33685" class="Bound">u∈v</a> <a id="plfa_plfa-part3-Denotational-33689" class="Symbol">=</a>
   <a id="plfa_plfa-part3-Denotational-33694" class="Keyword">let</a> <a id="plfa_plfa-part3-Denotational-33698" href="../Denotational/#plfa_plfa-part3-Denotational-33698" class="Bound">ih</a> <a id="plfa_plfa-part3-Denotational-33701" class="Symbol">=</a> <a id="plfa_plfa-part3-Denotational-33703" href="../Denotational/#plfa_plfa-part3-Denotational-33468" class="Function">↦∈→⊆⨆dom</a> <a id="plfa_plfa-part3-Denotational-33712" class="Symbol">(λ</a> <a id="plfa_plfa-part3-Denotational-33715" href="../Denotational/#plfa_plfa-part3-Denotational-33715" class="Bound">z</a> <a id="plfa_plfa-part3-Denotational-33717" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-33719" href="../Denotational/#plfa_plfa-part3-Denotational-33669" class="Bound">fg</a> <a id="plfa_plfa-part3-Denotational-33722" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-33723" href="https://agda.github.io/agda-stdlib/v1.3/Data.Sum.Base.html#778" class="InductiveConstructor">inj₁</a> <a id="plfa_plfa-part3-Denotational-33728" href="../Denotational/#plfa_plfa-part3-Denotational-33715" class="Bound">z</a><a id="plfa_plfa-part3-Denotational-33729" class="Symbol">))</a> <a id="plfa_plfa-part3-Denotational-33732" href="../Denotational/#plfa_plfa-part3-Denotational-33678" class="Bound">v↦w∈u</a> <a id="plfa_plfa-part3-Denotational-33738" class="Keyword">in</a>
   <a id="plfa_plfa-part3-Denotational-33744" href="https://agda.github.io/agda-stdlib/v1.3/Data.Sum.Base.html#778" class="InductiveConstructor">inj₁</a> <a id="plfa_plfa-part3-Denotational-33749" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-33750" href="../Denotational/#plfa_plfa-part3-Denotational-33698" class="Bound">ih</a> <a id="plfa_plfa-part3-Denotational-33753" href="../Denotational/#plfa_plfa-part3-Denotational-33685" class="Bound">u∈v</a><a id="plfa_plfa-part3-Denotational-33756" class="Symbol">)</a>
<a id="plfa_plfa-part3-Denotational-33758" href="../Denotational/#plfa_plfa-part3-Denotational-33468" class="Function">↦∈→⊆⨆dom</a> <a id="plfa_plfa-part3-Denotational-33767" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-33768" href="../Denotational/#plfa_plfa-part3-Denotational-33768" class="Bound">u</a> <a id="plfa_plfa-part3-Denotational-33770" href="../Denotational/#plfa_plfa-part3-Denotational-4036" class="InductiveConstructor Operator">⊔</a> <a id="plfa_plfa-part3-Denotational-33772" href="../Denotational/#plfa_plfa-part3-Denotational-33772" class="Bound">u′</a><a id="plfa_plfa-part3-Denotational-33774" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-33776" href="../Denotational/#plfa_plfa-part3-Denotational-33776" class="Bound">fg</a> <a id="plfa_plfa-part3-Denotational-33779" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-33780" href="https://agda.github.io/agda-stdlib/v1.3/Data.Sum.Base.html#803" class="InductiveConstructor">inj₂</a> <a id="plfa_plfa-part3-Denotational-33785" href="../Denotational/#plfa_plfa-part3-Denotational-33785" class="Bound">v↦w∈u′</a><a id="plfa_plfa-part3-Denotational-33791" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-33793" href="../Denotational/#plfa_plfa-part3-Denotational-33793" class="Bound">u∈v</a> <a id="plfa_plfa-part3-Denotational-33797" class="Symbol">=</a>
   <a id="plfa_plfa-part3-Denotational-33802" class="Keyword">let</a> <a id="plfa_plfa-part3-Denotational-33806" href="../Denotational/#plfa_plfa-part3-Denotational-33806" class="Bound">ih</a> <a id="plfa_plfa-part3-Denotational-33809" class="Symbol">=</a> <a id="plfa_plfa-part3-Denotational-33811" href="../Denotational/#plfa_plfa-part3-Denotational-33468" class="Function">↦∈→⊆⨆dom</a> <a id="plfa_plfa-part3-Denotational-33820" class="Symbol">(λ</a> <a id="plfa_plfa-part3-Denotational-33823" href="../Denotational/#plfa_plfa-part3-Denotational-33823" class="Bound">z</a> <a id="plfa_plfa-part3-Denotational-33825" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-33827" href="../Denotational/#plfa_plfa-part3-Denotational-33776" class="Bound">fg</a> <a id="plfa_plfa-part3-Denotational-33830" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-33831" href="https://agda.github.io/agda-stdlib/v1.3/Data.Sum.Base.html#803" class="InductiveConstructor">inj₂</a> <a id="plfa_plfa-part3-Denotational-33836" href="../Denotational/#plfa_plfa-part3-Denotational-33823" class="Bound">z</a><a id="plfa_plfa-part3-Denotational-33837" class="Symbol">))</a> <a id="plfa_plfa-part3-Denotational-33840" href="../Denotational/#plfa_plfa-part3-Denotational-33785" class="Bound">v↦w∈u′</a> <a id="plfa_plfa-part3-Denotational-33847" class="Keyword">in</a>
   <a id="plfa_plfa-part3-Denotational-33853" href="https://agda.github.io/agda-stdlib/v1.3/Data.Sum.Base.html#803" class="InductiveConstructor">inj₂</a> <a id="plfa_plfa-part3-Denotational-33858" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-33859" href="../Denotational/#plfa_plfa-part3-Denotational-33806" class="Bound">ih</a> <a id="plfa_plfa-part3-Denotational-33862" href="../Denotational/#plfa_plfa-part3-Denotational-33793" class="Bound">u∈v</a><a id="plfa_plfa-part3-Denotational-33865" class="Symbol">)</a>
</pre><p>Regarding <code>⨆cod</code>, suppose we have a collection of functions represented by <code>u</code>, but all of them are just copies of <code>v ↦ w</code>. Then the <code>⨆cod u</code> is included in <code>w</code>.</p><pre class="Agda"><a id="plfa_plfa-part3-Denotational-⊆↦→⨆cod⊆"></a><a id="plfa_plfa-part3-Denotational-34044" href="../Denotational/#plfa_plfa-part3-Denotational-34044" class="Function">⊆↦→⨆cod⊆</a> <a id="plfa_plfa-part3-Denotational-34053" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-34055" class="Symbol">∀{</a><a id="plfa_plfa-part3-Denotational-34057" href="../Denotational/#plfa_plfa-part3-Denotational-34057" class="Bound">u</a> <a id="plfa_plfa-part3-Denotational-34059" href="../Denotational/#plfa_plfa-part3-Denotational-34059" class="Bound">v</a> <a id="plfa_plfa-part3-Denotational-34061" href="../Denotational/#plfa_plfa-part3-Denotational-34061" class="Bound">w</a> <a id="plfa_plfa-part3-Denotational-34063" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-34065" href="../Denotational/#plfa_plfa-part3-Denotational-3974" class="Datatype">Value</a><a id="plfa_plfa-part3-Denotational-34070" class="Symbol">}</a>
        <a id="plfa_plfa-part3-Denotational-34080" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-34082" href="../Denotational/#plfa_plfa-part3-Denotational-34057" class="Bound">u</a> <a id="plfa_plfa-part3-Denotational-34084" href="../Denotational/#plfa_plfa-part3-Denotational-30287" class="Function Operator">⊆</a> <a id="plfa_plfa-part3-Denotational-34086" href="../Denotational/#plfa_plfa-part3-Denotational-34059" class="Bound">v</a> <a id="plfa_plfa-part3-Denotational-34088" href="../Denotational/#plfa_plfa-part3-Denotational-4006" class="InductiveConstructor Operator">↦</a> <a id="plfa_plfa-part3-Denotational-34090" href="../Denotational/#plfa_plfa-part3-Denotational-34061" class="Bound">w</a>
          <a id="plfa_plfa-part3-Denotational-34102" class="Comment">---------</a>
        <a id="plfa_plfa-part3-Denotational-34120" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-34122" href="../Denotational/#plfa_plfa-part3-Denotational-33175" class="Function">⨆cod</a> <a id="plfa_plfa-part3-Denotational-34127" href="../Denotational/#plfa_plfa-part3-Denotational-34057" class="Bound">u</a> <a id="plfa_plfa-part3-Denotational-34129" href="../Denotational/#plfa_plfa-part3-Denotational-30287" class="Function Operator">⊆</a> <a id="plfa_plfa-part3-Denotational-34131" href="../Denotational/#plfa_plfa-part3-Denotational-34061" class="Bound">w</a>
<a id="plfa_plfa-part3-Denotational-34133" href="../Denotational/#plfa_plfa-part3-Denotational-34044" class="Function">⊆↦→⨆cod⊆</a> <a id="plfa_plfa-part3-Denotational-34142" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-34143" href="../Denotational/#plfa_plfa-part3-Denotational-3994" class="InductiveConstructor">⊥</a><a id="plfa_plfa-part3-Denotational-34144" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-34146" href="../Denotational/#plfa_plfa-part3-Denotational-34146" class="Bound">s</a> <a id="plfa_plfa-part3-Denotational-34148" href="https://agda.github.io/agda-stdlib/v1.3/Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a> <a id="plfa_plfa-part3-Denotational-34153" class="Keyword">with</a> <a id="plfa_plfa-part3-Denotational-34158" href="../Denotational/#plfa_plfa-part3-Denotational-34146" class="Bound">s</a> <a id="plfa_plfa-part3-Denotational-34160" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-34161" href="../Denotational/#plfa_plfa-part3-Denotational-3994" class="InductiveConstructor">⊥</a><a id="plfa_plfa-part3-Denotational-34162" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-34164" href="https://agda.github.io/agda-stdlib/v1.3/Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a>
<a id="plfa_plfa-part3-Denotational-34169" class="Symbol">...</a> <a id="plfa_plfa-part3-Denotational-34173" class="Symbol">|</a> <a id="plfa_plfa-part3-Denotational-34175" class="Symbol">()</a>
<a id="plfa_plfa-part3-Denotational-34178" href="../Denotational/#plfa_plfa-part3-Denotational-34044" class="Function">⊆↦→⨆cod⊆</a> <a id="plfa_plfa-part3-Denotational-34187" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-34188" href="../Denotational/#plfa_plfa-part3-Denotational-34188" class="Bound">C</a> <a id="plfa_plfa-part3-Denotational-34190" href="../Denotational/#plfa_plfa-part3-Denotational-4006" class="InductiveConstructor Operator">↦</a> <a id="plfa_plfa-part3-Denotational-34192" href="../Denotational/#plfa_plfa-part3-Denotational-34192" class="Bound">C′</a><a id="plfa_plfa-part3-Denotational-34194" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-34196" href="../Denotational/#plfa_plfa-part3-Denotational-34196" class="Bound">s</a> <a id="plfa_plfa-part3-Denotational-34198" href="../Denotational/#plfa_plfa-part3-Denotational-34198" class="Bound">m</a> <a id="plfa_plfa-part3-Denotational-34200" class="Keyword">with</a> <a id="plfa_plfa-part3-Denotational-34205" href="../Denotational/#plfa_plfa-part3-Denotational-34196" class="Bound">s</a> <a id="plfa_plfa-part3-Denotational-34207" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-34208" href="../Denotational/#plfa_plfa-part3-Denotational-34188" class="Bound">C</a> <a id="plfa_plfa-part3-Denotational-34210" href="../Denotational/#plfa_plfa-part3-Denotational-4006" class="InductiveConstructor Operator">↦</a> <a id="plfa_plfa-part3-Denotational-34212" href="../Denotational/#plfa_plfa-part3-Denotational-34192" class="Bound">C′</a><a id="plfa_plfa-part3-Denotational-34214" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-34216" href="https://agda.github.io/agda-stdlib/v1.3/Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a>
<a id="plfa_plfa-part3-Denotational-34221" class="Symbol">...</a> <a id="plfa_plfa-part3-Denotational-34225" class="Symbol">|</a> <a id="plfa_plfa-part3-Denotational-34227" href="https://agda.github.io/agda-stdlib/v1.3/Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a> <a id="plfa_plfa-part3-Denotational-34232" class="Symbol">=</a> <a id="plfa_plfa-part3-Denotational-34234" class="Bound">m</a>
<a id="plfa_plfa-part3-Denotational-34236" href="../Denotational/#plfa_plfa-part3-Denotational-34044" class="Function">⊆↦→⨆cod⊆</a> <a id="plfa_plfa-part3-Denotational-34245" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-34246" href="../Denotational/#plfa_plfa-part3-Denotational-34246" class="Bound">u</a> <a id="plfa_plfa-part3-Denotational-34248" href="../Denotational/#plfa_plfa-part3-Denotational-4036" class="InductiveConstructor Operator">⊔</a> <a id="plfa_plfa-part3-Denotational-34250" href="../Denotational/#plfa_plfa-part3-Denotational-34250" class="Bound">u′</a><a id="plfa_plfa-part3-Denotational-34252" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-34254" href="../Denotational/#plfa_plfa-part3-Denotational-34254" class="Bound">s</a> <a id="plfa_plfa-part3-Denotational-34256" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-34257" href="https://agda.github.io/agda-stdlib/v1.3/Data.Sum.Base.html#778" class="InductiveConstructor">inj₁</a> <a id="plfa_plfa-part3-Denotational-34262" href="../Denotational/#plfa_plfa-part3-Denotational-34262" class="Bound">x</a><a id="plfa_plfa-part3-Denotational-34263" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-34265" class="Symbol">=</a> <a id="plfa_plfa-part3-Denotational-34267" href="../Denotational/#plfa_plfa-part3-Denotational-34044" class="Function">⊆↦→⨆cod⊆</a> <a id="plfa_plfa-part3-Denotational-34276" class="Symbol">(λ</a> <a id="plfa_plfa-part3-Denotational-34279" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-34280" href="../Denotational/#plfa_plfa-part3-Denotational-34280" class="Bound">C</a><a id="plfa_plfa-part3-Denotational-34281" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-34283" href="../Denotational/#plfa_plfa-part3-Denotational-34283" class="Bound">z</a> <a id="plfa_plfa-part3-Denotational-34285" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-34287" href="../Denotational/#plfa_plfa-part3-Denotational-34254" class="Bound">s</a> <a id="plfa_plfa-part3-Denotational-34289" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-34290" href="https://agda.github.io/agda-stdlib/v1.3/Data.Sum.Base.html#778" class="InductiveConstructor">inj₁</a> <a id="plfa_plfa-part3-Denotational-34295" href="../Denotational/#plfa_plfa-part3-Denotational-34283" class="Bound">z</a><a id="plfa_plfa-part3-Denotational-34296" class="Symbol">))</a> <a id="plfa_plfa-part3-Denotational-34299" href="../Denotational/#plfa_plfa-part3-Denotational-34262" class="Bound">x</a>
<a id="plfa_plfa-part3-Denotational-34301" href="../Denotational/#plfa_plfa-part3-Denotational-34044" class="Function">⊆↦→⨆cod⊆</a> <a id="plfa_plfa-part3-Denotational-34310" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-34311" href="../Denotational/#plfa_plfa-part3-Denotational-34311" class="Bound">u</a> <a id="plfa_plfa-part3-Denotational-34313" href="../Denotational/#plfa_plfa-part3-Denotational-4036" class="InductiveConstructor Operator">⊔</a> <a id="plfa_plfa-part3-Denotational-34315" href="../Denotational/#plfa_plfa-part3-Denotational-34315" class="Bound">u′</a><a id="plfa_plfa-part3-Denotational-34317" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-34319" href="../Denotational/#plfa_plfa-part3-Denotational-34319" class="Bound">s</a> <a id="plfa_plfa-part3-Denotational-34321" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-34322" href="https://agda.github.io/agda-stdlib/v1.3/Data.Sum.Base.html#803" class="InductiveConstructor">inj₂</a> <a id="plfa_plfa-part3-Denotational-34327" href="../Denotational/#plfa_plfa-part3-Denotational-34327" class="Bound">y</a><a id="plfa_plfa-part3-Denotational-34328" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-34330" class="Symbol">=</a> <a id="plfa_plfa-part3-Denotational-34332" href="../Denotational/#plfa_plfa-part3-Denotational-34044" class="Function">⊆↦→⨆cod⊆</a> <a id="plfa_plfa-part3-Denotational-34341" class="Symbol">(λ</a> <a id="plfa_plfa-part3-Denotational-34344" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-34345" href="../Denotational/#plfa_plfa-part3-Denotational-34345" class="Bound">C</a><a id="plfa_plfa-part3-Denotational-34346" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-34348" href="../Denotational/#plfa_plfa-part3-Denotational-34348" class="Bound">z</a> <a id="plfa_plfa-part3-Denotational-34350" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-34352" href="../Denotational/#plfa_plfa-part3-Denotational-34319" class="Bound">s</a> <a id="plfa_plfa-part3-Denotational-34354" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-34355" href="https://agda.github.io/agda-stdlib/v1.3/Data.Sum.Base.html#803" class="InductiveConstructor">inj₂</a> <a id="plfa_plfa-part3-Denotational-34360" href="../Denotational/#plfa_plfa-part3-Denotational-34348" class="Bound">z</a><a id="plfa_plfa-part3-Denotational-34361" class="Symbol">))</a> <a id="plfa_plfa-part3-Denotational-34364" href="../Denotational/#plfa_plfa-part3-Denotational-34327" class="Bound">y</a>
</pre><p>With the <code>⨆dom</code> and <code>⨆cod</code> functions in hand, we can make precise the conclusion of the inversion principle for functions, which we package into the following predicate named <code>factor</code>. We say that <code>v ↦ w</code> <em>factors</em> <code>u</code> into <code>u′</code> if <code>u′</code> is included in <code>u</code>, if <code>u′</code> contains only functions, its domain is less than <code>v</code>, and its codomain is greater than <code>w</code>.</p><pre class="Agda"><a id="plfa_plfa-part3-Denotational-factor"></a><a id="plfa_plfa-part3-Denotational-34737" href="../Denotational/#plfa_plfa-part3-Denotational-34737" class="Function">factor</a> <a id="plfa_plfa-part3-Denotational-34744" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-34746" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-34747" href="../Denotational/#plfa_plfa-part3-Denotational-34747" class="Bound">u</a> <a id="plfa_plfa-part3-Denotational-34749" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-34751" href="../Denotational/#plfa_plfa-part3-Denotational-3974" class="Datatype">Value</a><a id="plfa_plfa-part3-Denotational-34756" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-34758" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-34760" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-34761" href="../Denotational/#plfa_plfa-part3-Denotational-34761" class="Bound">u′</a> <a id="plfa_plfa-part3-Denotational-34764" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-34766" href="../Denotational/#plfa_plfa-part3-Denotational-3974" class="Datatype">Value</a><a id="plfa_plfa-part3-Denotational-34771" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-34773" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-34775" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-34776" href="../Denotational/#plfa_plfa-part3-Denotational-34776" class="Bound">v</a> <a id="plfa_plfa-part3-Denotational-34778" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-34780" href="../Denotational/#plfa_plfa-part3-Denotational-3974" class="Datatype">Value</a><a id="plfa_plfa-part3-Denotational-34785" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-34787" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-34789" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-34790" href="../Denotational/#plfa_plfa-part3-Denotational-34790" class="Bound">w</a> <a id="plfa_plfa-part3-Denotational-34792" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-34794" href="../Denotational/#plfa_plfa-part3-Denotational-3974" class="Datatype">Value</a><a id="plfa_plfa-part3-Denotational-34799" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-34801" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-34803" href="https://agda.github.io/agda-stdlib/v1.3/Agda.Primitive.html#326" class="Primitive">Set</a>
<a id="plfa_plfa-part3-Denotational-34807" href="../Denotational/#plfa_plfa-part3-Denotational-34737" class="Function">factor</a> <a id="plfa_plfa-part3-Denotational-34814" href="../Denotational/#plfa_plfa-part3-Denotational-34814" class="Bound">u</a> <a id="plfa_plfa-part3-Denotational-34816" href="../Denotational/#plfa_plfa-part3-Denotational-34816" class="Bound">u′</a> <a id="plfa_plfa-part3-Denotational-34819" href="../Denotational/#plfa_plfa-part3-Denotational-34819" class="Bound">v</a> <a id="plfa_plfa-part3-Denotational-34821" href="../Denotational/#plfa_plfa-part3-Denotational-34821" class="Bound">w</a> <a id="plfa_plfa-part3-Denotational-34823" class="Symbol">=</a> <a id="plfa_plfa-part3-Denotational-34825" href="../Denotational/#plfa_plfa-part3-Denotational-31963" class="Function">all-funs</a> <a id="plfa_plfa-part3-Denotational-34834" href="../Denotational/#plfa_plfa-part3-Denotational-34816" class="Bound">u′</a>  <a id="plfa_plfa-part3-Denotational-34838" href="https://agda.github.io/agda-stdlib/v1.3/Data.Product.html#1167" class="Function Operator">×</a>  <a id="plfa_plfa-part3-Denotational-34841" href="../Denotational/#plfa_plfa-part3-Denotational-34816" class="Bound">u′</a> <a id="plfa_plfa-part3-Denotational-34844" href="../Denotational/#plfa_plfa-part3-Denotational-30287" class="Function Operator">⊆</a> <a id="plfa_plfa-part3-Denotational-34846" href="../Denotational/#plfa_plfa-part3-Denotational-34814" class="Bound">u</a>  <a id="plfa_plfa-part3-Denotational-34849" href="https://agda.github.io/agda-stdlib/v1.3/Data.Product.html#1167" class="Function Operator">×</a>  <a id="plfa_plfa-part3-Denotational-34852" href="../Denotational/#plfa_plfa-part3-Denotational-33085" class="Function">⨆dom</a> <a id="plfa_plfa-part3-Denotational-34857" href="../Denotational/#plfa_plfa-part3-Denotational-34816" class="Bound">u′</a> <a id="plfa_plfa-part3-Denotational-34860" href="../Denotational/#plfa_plfa-part3-Denotational-4335" class="Datatype Operator">⊑</a> <a id="plfa_plfa-part3-Denotational-34862" href="../Denotational/#plfa_plfa-part3-Denotational-34819" class="Bound">v</a>  <a id="plfa_plfa-part3-Denotational-34865" href="https://agda.github.io/agda-stdlib/v1.3/Data.Product.html#1167" class="Function Operator">×</a>  <a id="plfa_plfa-part3-Denotational-34868" href="../Denotational/#plfa_plfa-part3-Denotational-34821" class="Bound">w</a> <a id="plfa_plfa-part3-Denotational-34870" href="../Denotational/#plfa_plfa-part3-Denotational-4335" class="Datatype Operator">⊑</a> <a id="plfa_plfa-part3-Denotational-34872" href="../Denotational/#plfa_plfa-part3-Denotational-33175" class="Function">⨆cod</a> <a id="plfa_plfa-part3-Denotational-34877" href="../Denotational/#plfa_plfa-part3-Denotational-34816" class="Bound">u′</a>
</pre><p>So the inversion principle for functions can be stated as</p><pre><code>  v ↦ w ⊑ u
  ---------------
→ factor u u′ v w</code></pre><p>We prove the inversion principle for functions by induction on the derivation of the less-than relation. To make the induction hypothesis stronger, we broaden the premise <code>v ↦ w ⊑ u</code> to <code>u₁ ⊑ u₂</code>, and strengthen the conclusion to say that for <em>every</em> function value <code>v ↦ w ∈ u₁</code>, we have that <code>v ↦ w</code> factors <code>u₂</code> into some value <code>u₃</code>.</p><pre><code>→ u₁ ⊑ u₂
  ------------------------------------------------------
→ ∀{v w} → v ↦ w ∈ u₁ → Σ[ u₃ ∈ Value ] factor u₂ u₃ v w</code></pre><h3 id="inversion-of-less-than-for-functions-the-case-for--trans">Inversion of less-than for functions, the case for ⊑-trans</h3><p>The crux of the proof is the case for <code>⊑-trans</code>.</p><pre><code>u₁ ⊑ u   u ⊑ u₂
--------------- (⊑-trans)
    u₁ ⊑ u₂</code></pre><p>By the induction hypothesis for <code>u₁ ⊑ u</code>, we know that <code>v ↦ w factors u into u′</code>, for some value <code>u′</code>, so we have <code>all-funs u′</code> and <code>u′ ⊆ u</code>. By the induction hypothesis for <code>u ⊑ u₂</code>, we know that for any <code>v′ ↦ w′ ∈ u</code>, <code>v′ ↦ w′</code> factors <code>u₂</code> into <code>u₃</code>. With these facts in hand, we proceed by induction on <code>u′</code> to prove that <code>(⨆dom u′) ↦ (⨆cod u′)</code> factors <code>u₂</code> into <code>u₃</code>. We discuss each case of the proof in the text below.</p><pre class="Agda"><a id="plfa_plfa-part3-Denotational-sub-inv-trans"></a><a id="plfa_plfa-part3-Denotational-36097" href="../Denotational/#plfa_plfa-part3-Denotational-36097" class="Function">sub-inv-trans</a> <a id="plfa_plfa-part3-Denotational-36111" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-36113" class="Symbol">∀{</a><a id="plfa_plfa-part3-Denotational-36115" href="../Denotational/#plfa_plfa-part3-Denotational-36115" class="Bound">u′</a> <a id="plfa_plfa-part3-Denotational-36118" href="../Denotational/#plfa_plfa-part3-Denotational-36118" class="Bound">u₂</a> <a id="plfa_plfa-part3-Denotational-36121" href="../Denotational/#plfa_plfa-part3-Denotational-36121" class="Bound">u</a> <a id="plfa_plfa-part3-Denotational-36123" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-36125" href="../Denotational/#plfa_plfa-part3-Denotational-3974" class="Datatype">Value</a><a id="plfa_plfa-part3-Denotational-36130" class="Symbol">}</a>
    <a id="plfa_plfa-part3-Denotational-36136" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-36138" href="../Denotational/#plfa_plfa-part3-Denotational-31963" class="Function">all-funs</a> <a id="plfa_plfa-part3-Denotational-36147" href="../Denotational/#plfa_plfa-part3-Denotational-36115" class="Bound">u′</a>  <a id="plfa_plfa-part3-Denotational-36151" class="Symbol">→</a>  <a id="plfa_plfa-part3-Denotational-36154" href="../Denotational/#plfa_plfa-part3-Denotational-36115" class="Bound">u′</a> <a id="plfa_plfa-part3-Denotational-36157" href="../Denotational/#plfa_plfa-part3-Denotational-30287" class="Function Operator">⊆</a> <a id="plfa_plfa-part3-Denotational-36159" href="../Denotational/#plfa_plfa-part3-Denotational-36121" class="Bound">u</a>
    <a id="plfa_plfa-part3-Denotational-36165" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-36167" class="Symbol">(∀{</a><a id="plfa_plfa-part3-Denotational-36170" href="../Denotational/#plfa_plfa-part3-Denotational-36170" class="Bound">v′</a> <a id="plfa_plfa-part3-Denotational-36173" href="../Denotational/#plfa_plfa-part3-Denotational-36173" class="Bound">w′</a><a id="plfa_plfa-part3-Denotational-36175" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-36177" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-36179" href="../Denotational/#plfa_plfa-part3-Denotational-36170" class="Bound">v′</a> <a id="plfa_plfa-part3-Denotational-36182" href="../Denotational/#plfa_plfa-part3-Denotational-4006" class="InductiveConstructor Operator">↦</a> <a id="plfa_plfa-part3-Denotational-36184" href="../Denotational/#plfa_plfa-part3-Denotational-36173" class="Bound">w′</a> <a id="plfa_plfa-part3-Denotational-36187" href="../Denotational/#plfa_plfa-part3-Denotational-30037" class="Function Operator">∈</a> <a id="plfa_plfa-part3-Denotational-36189" href="../Denotational/#plfa_plfa-part3-Denotational-36121" class="Bound">u</a> <a id="plfa_plfa-part3-Denotational-36191" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-36193" href="https://agda.github.io/agda-stdlib/v1.3/Data.Product.html#916" class="Function">Σ[</a> <a id="plfa_plfa-part3-Denotational-36196" href="../Denotational/#plfa_plfa-part3-Denotational-36196" class="Bound">u₃</a> <a id="plfa_plfa-part3-Denotational-36199" href="https://agda.github.io/agda-stdlib/v1.3/Data.Product.html#916" class="Function">∈</a> <a id="plfa_plfa-part3-Denotational-36201" href="../Denotational/#plfa_plfa-part3-Denotational-3974" class="Datatype">Value</a> <a id="plfa_plfa-part3-Denotational-36207" href="https://agda.github.io/agda-stdlib/v1.3/Data.Product.html#916" class="Function">]</a> <a id="plfa_plfa-part3-Denotational-36209" href="../Denotational/#plfa_plfa-part3-Denotational-34737" class="Function">factor</a> <a id="plfa_plfa-part3-Denotational-36216" href="../Denotational/#plfa_plfa-part3-Denotational-36118" class="Bound">u₂</a> <a id="plfa_plfa-part3-Denotational-36219" href="../Denotational/#plfa_plfa-part3-Denotational-36196" class="Bound">u₃</a> <a id="plfa_plfa-part3-Denotational-36222" href="../Denotational/#plfa_plfa-part3-Denotational-36170" class="Bound">v′</a> <a id="plfa_plfa-part3-Denotational-36225" href="../Denotational/#plfa_plfa-part3-Denotational-36173" class="Bound">w′</a><a id="plfa_plfa-part3-Denotational-36227" class="Symbol">)</a>
      <a id="plfa_plfa-part3-Denotational-36235" class="Comment">---------------------------------------------------------------</a>
    <a id="plfa_plfa-part3-Denotational-36303" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-36305" href="https://agda.github.io/agda-stdlib/v1.3/Data.Product.html#916" class="Function">Σ[</a> <a id="plfa_plfa-part3-Denotational-36308" href="../Denotational/#plfa_plfa-part3-Denotational-36308" class="Bound">u₃</a> <a id="plfa_plfa-part3-Denotational-36311" href="https://agda.github.io/agda-stdlib/v1.3/Data.Product.html#916" class="Function">∈</a> <a id="plfa_plfa-part3-Denotational-36313" href="../Denotational/#plfa_plfa-part3-Denotational-3974" class="Datatype">Value</a> <a id="plfa_plfa-part3-Denotational-36319" href="https://agda.github.io/agda-stdlib/v1.3/Data.Product.html#916" class="Function">]</a> <a id="plfa_plfa-part3-Denotational-36321" href="../Denotational/#plfa_plfa-part3-Denotational-34737" class="Function">factor</a> <a id="plfa_plfa-part3-Denotational-36328" href="../Denotational/#plfa_plfa-part3-Denotational-36118" class="Bound">u₂</a> <a id="plfa_plfa-part3-Denotational-36331" href="../Denotational/#plfa_plfa-part3-Denotational-36308" class="Bound">u₃</a> <a id="plfa_plfa-part3-Denotational-36334" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-36335" href="../Denotational/#plfa_plfa-part3-Denotational-33085" class="Function">⨆dom</a> <a id="plfa_plfa-part3-Denotational-36340" href="../Denotational/#plfa_plfa-part3-Denotational-36115" class="Bound">u′</a><a id="plfa_plfa-part3-Denotational-36342" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-36344" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-36345" href="../Denotational/#plfa_plfa-part3-Denotational-33175" class="Function">⨆cod</a> <a id="plfa_plfa-part3-Denotational-36350" href="../Denotational/#plfa_plfa-part3-Denotational-36115" class="Bound">u′</a><a id="plfa_plfa-part3-Denotational-36352" class="Symbol">)</a>
<a id="plfa_plfa-part3-Denotational-36354" href="../Denotational/#plfa_plfa-part3-Denotational-36097" class="Function">sub-inv-trans</a> <a id="plfa_plfa-part3-Denotational-36368" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-36369" href="../Denotational/#plfa_plfa-part3-Denotational-3994" class="InductiveConstructor">⊥</a><a id="plfa_plfa-part3-Denotational-36370" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-36372" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-36373" href="../Denotational/#plfa_plfa-part3-Denotational-36373" class="Bound">u₂</a><a id="plfa_plfa-part3-Denotational-36375" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-36377" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-36378" href="../Denotational/#plfa_plfa-part3-Denotational-36378" class="Bound">u</a><a id="plfa_plfa-part3-Denotational-36379" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-36381" href="../Denotational/#plfa_plfa-part3-Denotational-36381" class="Bound">fu′</a> <a id="plfa_plfa-part3-Denotational-36385" href="../Denotational/#plfa_plfa-part3-Denotational-36385" class="Bound">u′⊆u</a> <a id="plfa_plfa-part3-Denotational-36390" href="../Denotational/#plfa_plfa-part3-Denotational-36390" class="Bound">IH</a> <a id="plfa_plfa-part3-Denotational-36393" class="Symbol">=</a>
   <a id="plfa_plfa-part3-Denotational-36398" href="https://agda.github.io/agda-stdlib/v1.3/Relation.Nullary.Negation.html#858" class="Function">contradiction</a> <a id="plfa_plfa-part3-Denotational-36412" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-36413" href="../Denotational/#plfa_plfa-part3-Denotational-36381" class="Bound">fu′</a> <a id="plfa_plfa-part3-Denotational-36417" href="https://agda.github.io/agda-stdlib/v1.3/Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a><a id="plfa_plfa-part3-Denotational-36421" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-36423" href="../Denotational/#plfa_plfa-part3-Denotational-32067" class="Function">¬Fun⊥</a>
<a id="plfa_plfa-part3-Denotational-36429" href="../Denotational/#plfa_plfa-part3-Denotational-36097" class="Function">sub-inv-trans</a> <a id="plfa_plfa-part3-Denotational-36443" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-36444" href="../Denotational/#plfa_plfa-part3-Denotational-36444" class="Bound">u₁′</a> <a id="plfa_plfa-part3-Denotational-36448" href="../Denotational/#plfa_plfa-part3-Denotational-4006" class="InductiveConstructor Operator">↦</a> <a id="plfa_plfa-part3-Denotational-36450" href="../Denotational/#plfa_plfa-part3-Denotational-36450" class="Bound">u₂′</a><a id="plfa_plfa-part3-Denotational-36453" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-36455" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-36456" href="../Denotational/#plfa_plfa-part3-Denotational-36456" class="Bound">u₂</a><a id="plfa_plfa-part3-Denotational-36458" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-36460" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-36461" href="../Denotational/#plfa_plfa-part3-Denotational-36461" class="Bound">u</a><a id="plfa_plfa-part3-Denotational-36462" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-36464" href="../Denotational/#plfa_plfa-part3-Denotational-36464" class="Bound">fg</a> <a id="plfa_plfa-part3-Denotational-36467" href="../Denotational/#plfa_plfa-part3-Denotational-36467" class="Bound">u′⊆u</a> <a id="plfa_plfa-part3-Denotational-36472" href="../Denotational/#plfa_plfa-part3-Denotational-36472" class="Bound">IH</a> <a id="plfa_plfa-part3-Denotational-36475" class="Symbol">=</a> <a id="plfa_plfa-part3-Denotational-36477" href="../Denotational/#plfa_plfa-part3-Denotational-36472" class="Bound">IH</a> <a id="plfa_plfa-part3-Denotational-36480" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-36481" href="../Denotational/#plfa_plfa-part3-Denotational-31521" class="Function">↦⊆→∈</a> <a id="plfa_plfa-part3-Denotational-36486" href="../Denotational/#plfa_plfa-part3-Denotational-36467" class="Bound">u′⊆u</a><a id="plfa_plfa-part3-Denotational-36490" class="Symbol">)</a>
<a id="plfa_plfa-part3-Denotational-36492" href="../Denotational/#plfa_plfa-part3-Denotational-36097" class="Function">sub-inv-trans</a> <a id="plfa_plfa-part3-Denotational-36506" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-36507" href="../Denotational/#plfa_plfa-part3-Denotational-36507" class="Bound">u₁′</a> <a id="plfa_plfa-part3-Denotational-36511" href="../Denotational/#plfa_plfa-part3-Denotational-4036" class="InductiveConstructor Operator">⊔</a> <a id="plfa_plfa-part3-Denotational-36513" href="../Denotational/#plfa_plfa-part3-Denotational-36513" class="Bound">u₂′</a><a id="plfa_plfa-part3-Denotational-36516" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-36518" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-36519" href="../Denotational/#plfa_plfa-part3-Denotational-36519" class="Bound">u₂</a><a id="plfa_plfa-part3-Denotational-36521" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-36523" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-36524" href="../Denotational/#plfa_plfa-part3-Denotational-36524" class="Bound">u</a><a id="plfa_plfa-part3-Denotational-36525" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-36527" href="../Denotational/#plfa_plfa-part3-Denotational-36527" class="Bound">fg</a> <a id="plfa_plfa-part3-Denotational-36530" href="../Denotational/#plfa_plfa-part3-Denotational-36530" class="Bound">u′⊆u</a> <a id="plfa_plfa-part3-Denotational-36535" href="../Denotational/#plfa_plfa-part3-Denotational-36535" class="Bound">IH</a>
    <a id="plfa_plfa-part3-Denotational-36542" class="Keyword">with</a> <a id="plfa_plfa-part3-Denotational-36547" href="../Denotational/#plfa_plfa-part3-Denotational-31176" class="Function">⊔⊆-inv</a> <a id="plfa_plfa-part3-Denotational-36554" href="../Denotational/#plfa_plfa-part3-Denotational-36530" class="Bound">u′⊆u</a>
<a id="plfa_plfa-part3-Denotational-36559" class="Symbol">...</a> <a id="plfa_plfa-part3-Denotational-36563" class="Symbol">|</a> <a id="plfa_plfa-part3-Denotational-36565" href="../Denotational/#plfa_plfa-part3-Denotational-2730" class="InductiveConstructor Operator">⟨</a> <a id="plfa_plfa-part3-Denotational-36567" href="../Denotational/#plfa_plfa-part3-Denotational-36567" class="Bound">u₁′⊆u</a> <a id="plfa_plfa-part3-Denotational-36573" href="../Denotational/#plfa_plfa-part3-Denotational-2730" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part3-Denotational-36575" href="../Denotational/#plfa_plfa-part3-Denotational-36575" class="Bound">u₂′⊆u</a> <a id="plfa_plfa-part3-Denotational-36581" href="../Denotational/#plfa_plfa-part3-Denotational-2730" class="InductiveConstructor Operator">⟩</a>
    <a id="plfa_plfa-part3-Denotational-36587" class="Keyword">with</a> <a id="plfa_plfa-part3-Denotational-36592" href="../Denotational/#plfa_plfa-part3-Denotational-36097" class="Function">sub-inv-trans</a> <a id="plfa_plfa-part3-Denotational-36606" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-36607" class="Bound">u₁′</a><a id="plfa_plfa-part3-Denotational-36610" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-36612" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-36613" class="Bound">u₂</a><a id="plfa_plfa-part3-Denotational-36615" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-36617" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-36618" class="Bound">u</a><a id="plfa_plfa-part3-Denotational-36619" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-36621" class="Symbol">(λ</a> <a id="plfa_plfa-part3-Denotational-36624" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-36625" href="../Denotational/#plfa_plfa-part3-Denotational-36625" class="Bound">v′</a><a id="plfa_plfa-part3-Denotational-36627" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-36629" href="../Denotational/#plfa_plfa-part3-Denotational-36629" class="Bound">z</a> <a id="plfa_plfa-part3-Denotational-36631" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-36633" class="Bound">fg</a> <a id="plfa_plfa-part3-Denotational-36636" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-36637" href="https://agda.github.io/agda-stdlib/v1.3/Data.Sum.Base.html#778" class="InductiveConstructor">inj₁</a> <a id="plfa_plfa-part3-Denotational-36642" href="../Denotational/#plfa_plfa-part3-Denotational-36629" class="Bound">z</a><a id="plfa_plfa-part3-Denotational-36643" class="Symbol">))</a> <a id="plfa_plfa-part3-Denotational-36646" href="../Denotational/#plfa_plfa-part3-Denotational-36567" class="Bound">u₁′⊆u</a> <a id="plfa_plfa-part3-Denotational-36652" class="Bound">IH</a>
       <a id="plfa_plfa-part3-Denotational-36662" class="Symbol">|</a> <a id="plfa_plfa-part3-Denotational-36664" href="../Denotational/#plfa_plfa-part3-Denotational-36097" class="Function">sub-inv-trans</a> <a id="plfa_plfa-part3-Denotational-36678" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-36679" class="Bound">u₂′</a><a id="plfa_plfa-part3-Denotational-36682" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-36684" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-36685" class="Bound">u₂</a><a id="plfa_plfa-part3-Denotational-36687" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-36689" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-36690" class="Bound">u</a><a id="plfa_plfa-part3-Denotational-36691" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-36693" class="Symbol">(λ</a> <a id="plfa_plfa-part3-Denotational-36696" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-36697" href="../Denotational/#plfa_plfa-part3-Denotational-36697" class="Bound">v′</a><a id="plfa_plfa-part3-Denotational-36699" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-36701" href="../Denotational/#plfa_plfa-part3-Denotational-36701" class="Bound">z</a> <a id="plfa_plfa-part3-Denotational-36703" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-36705" class="Bound">fg</a> <a id="plfa_plfa-part3-Denotational-36708" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-36709" href="https://agda.github.io/agda-stdlib/v1.3/Data.Sum.Base.html#803" class="InductiveConstructor">inj₂</a> <a id="plfa_plfa-part3-Denotational-36714" href="../Denotational/#plfa_plfa-part3-Denotational-36701" class="Bound">z</a><a id="plfa_plfa-part3-Denotational-36715" class="Symbol">))</a> <a id="plfa_plfa-part3-Denotational-36718" href="../Denotational/#plfa_plfa-part3-Denotational-36575" class="Bound">u₂′⊆u</a> <a id="plfa_plfa-part3-Denotational-36724" class="Bound">IH</a>
<a id="plfa_plfa-part3-Denotational-36727" class="Symbol">...</a> <a id="plfa_plfa-part3-Denotational-36731" class="Symbol">|</a> <a id="plfa_plfa-part3-Denotational-36733" href="../Denotational/#plfa_plfa-part3-Denotational-2730" class="InductiveConstructor Operator">⟨</a> <a id="plfa_plfa-part3-Denotational-36735" href="../Denotational/#plfa_plfa-part3-Denotational-36735" class="Bound">u₃₁</a> <a id="plfa_plfa-part3-Denotational-36739" href="../Denotational/#plfa_plfa-part3-Denotational-2730" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part3-Denotational-36741" href="../Denotational/#plfa_plfa-part3-Denotational-2730" class="InductiveConstructor Operator">⟨</a> <a id="plfa_plfa-part3-Denotational-36743" href="../Denotational/#plfa_plfa-part3-Denotational-36743" class="Bound">fu21&#39;</a> <a id="plfa_plfa-part3-Denotational-36749" href="../Denotational/#plfa_plfa-part3-Denotational-2730" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part3-Denotational-36751" href="../Denotational/#plfa_plfa-part3-Denotational-2730" class="InductiveConstructor Operator">⟨</a> <a id="plfa_plfa-part3-Denotational-36753" href="../Denotational/#plfa_plfa-part3-Denotational-36753" class="Bound">u₃₁⊆u₂</a> <a id="plfa_plfa-part3-Denotational-36760" href="../Denotational/#plfa_plfa-part3-Denotational-2730" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part3-Denotational-36762" href="../Denotational/#plfa_plfa-part3-Denotational-2730" class="InductiveConstructor Operator">⟨</a> <a id="plfa_plfa-part3-Denotational-36764" href="../Denotational/#plfa_plfa-part3-Denotational-36764" class="Bound">du₃₁⊑du₁′</a> <a id="plfa_plfa-part3-Denotational-36774" href="../Denotational/#plfa_plfa-part3-Denotational-2730" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part3-Denotational-36776" href="../Denotational/#plfa_plfa-part3-Denotational-36776" class="Bound">cu₁′⊑cu₃₁</a> <a id="plfa_plfa-part3-Denotational-36786" href="../Denotational/#plfa_plfa-part3-Denotational-2730" class="InductiveConstructor Operator">⟩</a> <a id="plfa_plfa-part3-Denotational-36788" href="../Denotational/#plfa_plfa-part3-Denotational-2730" class="InductiveConstructor Operator">⟩</a> <a id="plfa_plfa-part3-Denotational-36790" href="../Denotational/#plfa_plfa-part3-Denotational-2730" class="InductiveConstructor Operator">⟩</a> <a id="plfa_plfa-part3-Denotational-36792" href="../Denotational/#plfa_plfa-part3-Denotational-2730" class="InductiveConstructor Operator">⟩</a>
    <a id="plfa_plfa-part3-Denotational-36798" class="Symbol">|</a> <a id="plfa_plfa-part3-Denotational-36800" href="../Denotational/#plfa_plfa-part3-Denotational-2730" class="InductiveConstructor Operator">⟨</a> <a id="plfa_plfa-part3-Denotational-36802" href="../Denotational/#plfa_plfa-part3-Denotational-36802" class="Bound">u₃₂</a> <a id="plfa_plfa-part3-Denotational-36806" href="../Denotational/#plfa_plfa-part3-Denotational-2730" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part3-Denotational-36808" href="../Denotational/#plfa_plfa-part3-Denotational-2730" class="InductiveConstructor Operator">⟨</a> <a id="plfa_plfa-part3-Denotational-36810" href="../Denotational/#plfa_plfa-part3-Denotational-36810" class="Bound">fu22&#39;</a> <a id="plfa_plfa-part3-Denotational-36816" href="../Denotational/#plfa_plfa-part3-Denotational-2730" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part3-Denotational-36818" href="../Denotational/#plfa_plfa-part3-Denotational-2730" class="InductiveConstructor Operator">⟨</a> <a id="plfa_plfa-part3-Denotational-36820" href="../Denotational/#plfa_plfa-part3-Denotational-36820" class="Bound">u₃₂⊆u₂</a> <a id="plfa_plfa-part3-Denotational-36827" href="../Denotational/#plfa_plfa-part3-Denotational-2730" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part3-Denotational-36829" href="../Denotational/#plfa_plfa-part3-Denotational-2730" class="InductiveConstructor Operator">⟨</a> <a id="plfa_plfa-part3-Denotational-36831" href="../Denotational/#plfa_plfa-part3-Denotational-36831" class="Bound">du₃₂⊑du₂′</a> <a id="plfa_plfa-part3-Denotational-36841" href="../Denotational/#plfa_plfa-part3-Denotational-2730" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part3-Denotational-36843" href="../Denotational/#plfa_plfa-part3-Denotational-36843" class="Bound">cu₁′⊑cu₃₂</a> <a id="plfa_plfa-part3-Denotational-36853" href="../Denotational/#plfa_plfa-part3-Denotational-2730" class="InductiveConstructor Operator">⟩</a> <a id="plfa_plfa-part3-Denotational-36855" href="../Denotational/#plfa_plfa-part3-Denotational-2730" class="InductiveConstructor Operator">⟩</a> <a id="plfa_plfa-part3-Denotational-36857" href="../Denotational/#plfa_plfa-part3-Denotational-2730" class="InductiveConstructor Operator">⟩</a> <a id="plfa_plfa-part3-Denotational-36859" href="../Denotational/#plfa_plfa-part3-Denotational-2730" class="InductiveConstructor Operator">⟩</a> <a id="plfa_plfa-part3-Denotational-36861" class="Symbol">=</a>
      <a id="plfa_plfa-part3-Denotational-36869" href="../Denotational/#plfa_plfa-part3-Denotational-2730" class="InductiveConstructor Operator">⟨</a> <a id="plfa_plfa-part3-Denotational-36871" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-36872" href="../Denotational/#plfa_plfa-part3-Denotational-36735" class="Bound">u₃₁</a> <a id="plfa_plfa-part3-Denotational-36876" href="../Denotational/#plfa_plfa-part3-Denotational-4036" class="InductiveConstructor Operator">⊔</a> <a id="plfa_plfa-part3-Denotational-36878" href="../Denotational/#plfa_plfa-part3-Denotational-36802" class="Bound">u₃₂</a><a id="plfa_plfa-part3-Denotational-36881" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-36883" href="../Denotational/#plfa_plfa-part3-Denotational-2730" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part3-Denotational-36885" href="../Denotational/#plfa_plfa-part3-Denotational-2730" class="InductiveConstructor Operator">⟨</a> <a id="plfa_plfa-part3-Denotational-36887" href="../Denotational/#plfa_plfa-part3-Denotational-36989" class="Function">fu₂′</a> <a id="plfa_plfa-part3-Denotational-36892" href="../Denotational/#plfa_plfa-part3-Denotational-2730" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part3-Denotational-36894" href="../Denotational/#plfa_plfa-part3-Denotational-2730" class="InductiveConstructor Operator">⟨</a> <a id="plfa_plfa-part3-Denotational-36896" href="../Denotational/#plfa_plfa-part3-Denotational-37128" class="Function">u₂′⊆u₂</a> <a id="plfa_plfa-part3-Denotational-36903" href="../Denotational/#plfa_plfa-part3-Denotational-2730" class="InductiveConstructor Operator">,</a>
      <a id="plfa_plfa-part3-Denotational-36911" href="../Denotational/#plfa_plfa-part3-Denotational-2730" class="InductiveConstructor Operator">⟨</a> <a id="plfa_plfa-part3-Denotational-36913" href="../Denotational/#plfa_plfa-part3-Denotational-5742" class="Function">⊔⊑⊔</a> <a id="plfa_plfa-part3-Denotational-36917" href="../Denotational/#plfa_plfa-part3-Denotational-36764" class="Bound">du₃₁⊑du₁′</a> <a id="plfa_plfa-part3-Denotational-36927" href="../Denotational/#plfa_plfa-part3-Denotational-36831" class="Bound">du₃₂⊑du₂′</a> <a id="plfa_plfa-part3-Denotational-36937" href="../Denotational/#plfa_plfa-part3-Denotational-2730" class="InductiveConstructor Operator">,</a>
        <a id="plfa_plfa-part3-Denotational-36947" href="../Denotational/#plfa_plfa-part3-Denotational-5742" class="Function">⊔⊑⊔</a> <a id="plfa_plfa-part3-Denotational-36951" href="../Denotational/#plfa_plfa-part3-Denotational-36776" class="Bound">cu₁′⊑cu₃₁</a> <a id="plfa_plfa-part3-Denotational-36961" href="../Denotational/#plfa_plfa-part3-Denotational-36843" class="Bound">cu₁′⊑cu₃₂</a> <a id="plfa_plfa-part3-Denotational-36971" href="../Denotational/#plfa_plfa-part3-Denotational-2730" class="InductiveConstructor Operator">⟩</a> <a id="plfa_plfa-part3-Denotational-36973" href="../Denotational/#plfa_plfa-part3-Denotational-2730" class="InductiveConstructor Operator">⟩</a> <a id="plfa_plfa-part3-Denotational-36975" href="../Denotational/#plfa_plfa-part3-Denotational-2730" class="InductiveConstructor Operator">⟩</a> <a id="plfa_plfa-part3-Denotational-36977" href="../Denotational/#plfa_plfa-part3-Denotational-2730" class="InductiveConstructor Operator">⟩</a>
    <a id="plfa_plfa-part3-Denotational-36983" class="Keyword">where</a> <a id="plfa_plfa-part3-Denotational-36989" href="../Denotational/#plfa_plfa-part3-Denotational-36989" class="Function">fu₂′</a> <a id="plfa_plfa-part3-Denotational-36994" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-36996" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-36997" href="../Denotational/#plfa_plfa-part3-Denotational-36997" class="Bound">v′</a> <a id="plfa_plfa-part3-Denotational-37000" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-37002" href="../Denotational/#plfa_plfa-part3-Denotational-3974" class="Datatype">Value</a><a id="plfa_plfa-part3-Denotational-37007" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-37009" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-37011" href="../Denotational/#plfa_plfa-part3-Denotational-36997" class="Bound">v′</a> <a id="plfa_plfa-part3-Denotational-37014" href="../Denotational/#plfa_plfa-part3-Denotational-30037" class="Function Operator">∈</a> <a id="plfa_plfa-part3-Denotational-37016" href="../Denotational/#plfa_plfa-part3-Denotational-36735" class="Bound">u₃₁</a> <a id="plfa_plfa-part3-Denotational-37020" href="https://agda.github.io/agda-stdlib/v1.3/Data.Sum.Base.html#728" class="Datatype Operator">⊎</a> <a id="plfa_plfa-part3-Denotational-37022" href="../Denotational/#plfa_plfa-part3-Denotational-36997" class="Bound">v′</a> <a id="plfa_plfa-part3-Denotational-37025" href="../Denotational/#plfa_plfa-part3-Denotational-30037" class="Function Operator">∈</a> <a id="plfa_plfa-part3-Denotational-37027" href="../Denotational/#plfa_plfa-part3-Denotational-36802" class="Bound">u₃₂</a> <a id="plfa_plfa-part3-Denotational-37031" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-37033" href="../Denotational/#plfa_plfa-part3-Denotational-31899" class="Datatype">Fun</a> <a id="plfa_plfa-part3-Denotational-37037" href="../Denotational/#plfa_plfa-part3-Denotational-36997" class="Bound">v′</a>
          <a id="plfa_plfa-part3-Denotational-37050" href="../Denotational/#plfa_plfa-part3-Denotational-36989" class="Function">fu₂′</a> <a id="plfa_plfa-part3-Denotational-37055" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-37056" href="../Denotational/#plfa_plfa-part3-Denotational-37056" class="Bound">v′</a><a id="plfa_plfa-part3-Denotational-37058" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-37060" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-37061" href="https://agda.github.io/agda-stdlib/v1.3/Data.Sum.Base.html#778" class="InductiveConstructor">inj₁</a> <a id="plfa_plfa-part3-Denotational-37066" href="../Denotational/#plfa_plfa-part3-Denotational-37066" class="Bound">x</a><a id="plfa_plfa-part3-Denotational-37067" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-37069" class="Symbol">=</a> <a id="plfa_plfa-part3-Denotational-37071" href="../Denotational/#plfa_plfa-part3-Denotational-36743" class="Bound">fu21&#39;</a> <a id="plfa_plfa-part3-Denotational-37077" href="../Denotational/#plfa_plfa-part3-Denotational-37066" class="Bound">x</a>
          <a id="plfa_plfa-part3-Denotational-37089" href="../Denotational/#plfa_plfa-part3-Denotational-36989" class="Function">fu₂′</a> <a id="plfa_plfa-part3-Denotational-37094" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-37095" href="../Denotational/#plfa_plfa-part3-Denotational-37095" class="Bound">v′</a><a id="plfa_plfa-part3-Denotational-37097" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-37099" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-37100" href="https://agda.github.io/agda-stdlib/v1.3/Data.Sum.Base.html#803" class="InductiveConstructor">inj₂</a> <a id="plfa_plfa-part3-Denotational-37105" href="../Denotational/#plfa_plfa-part3-Denotational-37105" class="Bound">y</a><a id="plfa_plfa-part3-Denotational-37106" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-37108" class="Symbol">=</a> <a id="plfa_plfa-part3-Denotational-37110" href="../Denotational/#plfa_plfa-part3-Denotational-36810" class="Bound">fu22&#39;</a> <a id="plfa_plfa-part3-Denotational-37116" href="../Denotational/#plfa_plfa-part3-Denotational-37105" class="Bound">y</a>
          <a id="plfa_plfa-part3-Denotational-37128" href="../Denotational/#plfa_plfa-part3-Denotational-37128" class="Function">u₂′⊆u₂</a> <a id="plfa_plfa-part3-Denotational-37135" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-37137" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-37138" href="../Denotational/#plfa_plfa-part3-Denotational-37138" class="Bound">C</a> <a id="plfa_plfa-part3-Denotational-37140" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-37142" href="../Denotational/#plfa_plfa-part3-Denotational-3974" class="Datatype">Value</a><a id="plfa_plfa-part3-Denotational-37147" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-37149" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-37151" href="../Denotational/#plfa_plfa-part3-Denotational-37138" class="Bound">C</a> <a id="plfa_plfa-part3-Denotational-37153" href="../Denotational/#plfa_plfa-part3-Denotational-30037" class="Function Operator">∈</a> <a id="plfa_plfa-part3-Denotational-37155" href="../Denotational/#plfa_plfa-part3-Denotational-36735" class="Bound">u₃₁</a> <a id="plfa_plfa-part3-Denotational-37159" href="https://agda.github.io/agda-stdlib/v1.3/Data.Sum.Base.html#728" class="Datatype Operator">⊎</a> <a id="plfa_plfa-part3-Denotational-37161" href="../Denotational/#plfa_plfa-part3-Denotational-37138" class="Bound">C</a> <a id="plfa_plfa-part3-Denotational-37163" href="../Denotational/#plfa_plfa-part3-Denotational-30037" class="Function Operator">∈</a> <a id="plfa_plfa-part3-Denotational-37165" href="../Denotational/#plfa_plfa-part3-Denotational-36802" class="Bound">u₃₂</a> <a id="plfa_plfa-part3-Denotational-37169" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-37171" href="../Denotational/#plfa_plfa-part3-Denotational-37138" class="Bound">C</a> <a id="plfa_plfa-part3-Denotational-37173" href="../Denotational/#plfa_plfa-part3-Denotational-30037" class="Function Operator">∈</a> <a id="plfa_plfa-part3-Denotational-37175" class="Bound">u₂</a>
          <a id="plfa_plfa-part3-Denotational-37188" href="../Denotational/#plfa_plfa-part3-Denotational-37128" class="Function">u₂′⊆u₂</a> <a id="plfa_plfa-part3-Denotational-37195" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-37196" href="../Denotational/#plfa_plfa-part3-Denotational-37196" class="Bound">C</a><a id="plfa_plfa-part3-Denotational-37197" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-37199" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-37200" href="https://agda.github.io/agda-stdlib/v1.3/Data.Sum.Base.html#778" class="InductiveConstructor">inj₁</a> <a id="plfa_plfa-part3-Denotational-37205" href="../Denotational/#plfa_plfa-part3-Denotational-37205" class="Bound">x</a><a id="plfa_plfa-part3-Denotational-37206" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-37208" class="Symbol">=</a> <a id="plfa_plfa-part3-Denotational-37210" href="../Denotational/#plfa_plfa-part3-Denotational-36753" class="Bound">u₃₁⊆u₂</a> <a id="plfa_plfa-part3-Denotational-37217" href="../Denotational/#plfa_plfa-part3-Denotational-37205" class="Bound">x</a>
          <a id="plfa_plfa-part3-Denotational-37229" href="../Denotational/#plfa_plfa-part3-Denotational-37128" class="Function">u₂′⊆u₂</a> <a id="plfa_plfa-part3-Denotational-37236" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-37237" href="../Denotational/#plfa_plfa-part3-Denotational-37237" class="Bound">C</a><a id="plfa_plfa-part3-Denotational-37238" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-37240" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-37241" href="https://agda.github.io/agda-stdlib/v1.3/Data.Sum.Base.html#803" class="InductiveConstructor">inj₂</a> <a id="plfa_plfa-part3-Denotational-37246" href="../Denotational/#plfa_plfa-part3-Denotational-37246" class="Bound">y</a><a id="plfa_plfa-part3-Denotational-37247" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-37249" class="Symbol">=</a> <a id="plfa_plfa-part3-Denotational-37251" href="../Denotational/#plfa_plfa-part3-Denotational-36820" class="Bound">u₃₂⊆u₂</a> <a id="plfa_plfa-part3-Denotational-37258" href="../Denotational/#plfa_plfa-part3-Denotational-37246" class="Bound">y</a>
</pre><ul><li><p>Suppose <code>u′ ≡ ⊥</code>. Then we have a contradiction because it is not the case that <code>Fun ⊥</code>.</p></li><li><p>Suppose <code>u′ ≡ u₁′ ↦ u₂′</code>. Then <code>u₁′ ↦ u₂′ ∈ u</code> and we can apply the premise (the induction hypothesis from <code>u ⊑ u₂</code>) to obtain that <code>u₁′ ↦ u₂′</code> factors <code>u₂</code> into <code>u₃</code>. This case is complete because <code>⨆dom u′ ≡ u₁′</code> and <code>⨆cod u′ ≡ u₂′</code>.</p></li><li><p>Suppose <code>u′ ≡ u₁′ ⊔ u₂′</code>. Then we have <code>u₁′ ⊆ u</code> and <code>u₂′ ⊆ u</code>. We also have <code>all-funs u₁′</code> and <code>all-funs u₂′</code>, so we can apply the induction hypothesis for both <code>u₁′</code> and <code>u₂′</code>. So there exists values <code>u₃₁</code> and <code>u₃₂</code> such that <code>(⨆dom u₁′) ↦ (⨆cod u₁′)</code> factors <code>u</code> into <code>u₃₁</code> and <code>(⨆dom u₂′) ↦ (⨆cod u₂′)</code> factors <code>u</code> into <code>u₃₂</code>. We will show that <code>(⨆dom u) ↦ (⨆cod u)</code> factors <code>u</code> into <code>u₃₁ ⊔ u₃₂</code>. So we need to show that</p><pre><code>  ⨆dom (u₃₁ ⊔ u₃₂) ⊑ ⨆dom (u₁′ ⊔ u₂′)
  ⨆cod (u₁′ ⊔ u₂′) ⊑ ⨆cod (u₃₁ ⊔ u₃₂)</code></pre><p>But those both follow directly from the factoring of <code>u</code> into <code>u₃₁</code> and <code>u₃₂</code>, using the monotonicity of <code>⊔</code> with respect to <code>⊑</code>.</p></li></ul><h3 id="inversion-of-less-than-for-functions">Inversion of less-than for functions</h3><p>We come to the proof of the main lemma concerning the inversion of less-than for functions. We show that if <code>u₁ ⊑ u₂</code>, then for any <code>v ↦ w ∈ u₁</code>, we can factor <code>u₂</code> into <code>u₃</code> according to <code>v ↦ w</code>. We proceed by induction on the derivation of <code>u₁ ⊑ u₂</code>, and describe each case in the text after the Agda proof.</p><pre class="Agda"><a id="plfa_plfa-part3-Denotational-sub-inv"></a><a id="plfa_plfa-part3-Denotational-38628" href="../Denotational/#plfa_plfa-part3-Denotational-38628" class="Function">sub-inv</a> <a id="plfa_plfa-part3-Denotational-38636" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-38638" class="Symbol">∀{</a><a id="plfa_plfa-part3-Denotational-38640" href="../Denotational/#plfa_plfa-part3-Denotational-38640" class="Bound">u₁</a> <a id="plfa_plfa-part3-Denotational-38643" href="../Denotational/#plfa_plfa-part3-Denotational-38643" class="Bound">u₂</a> <a id="plfa_plfa-part3-Denotational-38646" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-38648" href="../Denotational/#plfa_plfa-part3-Denotational-3974" class="Datatype">Value</a><a id="plfa_plfa-part3-Denotational-38653" class="Symbol">}</a>
        <a id="plfa_plfa-part3-Denotational-38663" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-38665" href="../Denotational/#plfa_plfa-part3-Denotational-38640" class="Bound">u₁</a> <a id="plfa_plfa-part3-Denotational-38668" href="../Denotational/#plfa_plfa-part3-Denotational-4335" class="Datatype Operator">⊑</a> <a id="plfa_plfa-part3-Denotational-38670" href="../Denotational/#plfa_plfa-part3-Denotational-38643" class="Bound">u₂</a>
        <a id="plfa_plfa-part3-Denotational-38681" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-38683" class="Symbol">∀{</a><a id="plfa_plfa-part3-Denotational-38685" href="../Denotational/#plfa_plfa-part3-Denotational-38685" class="Bound">v</a> <a id="plfa_plfa-part3-Denotational-38687" href="../Denotational/#plfa_plfa-part3-Denotational-38687" class="Bound">w</a><a id="plfa_plfa-part3-Denotational-38688" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-38690" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-38692" href="../Denotational/#plfa_plfa-part3-Denotational-38685" class="Bound">v</a> <a id="plfa_plfa-part3-Denotational-38694" href="../Denotational/#plfa_plfa-part3-Denotational-4006" class="InductiveConstructor Operator">↦</a> <a id="plfa_plfa-part3-Denotational-38696" href="../Denotational/#plfa_plfa-part3-Denotational-38687" class="Bound">w</a> <a id="plfa_plfa-part3-Denotational-38698" href="../Denotational/#plfa_plfa-part3-Denotational-30037" class="Function Operator">∈</a> <a id="plfa_plfa-part3-Denotational-38700" href="../Denotational/#plfa_plfa-part3-Denotational-38640" class="Bound">u₁</a>
          <a id="plfa_plfa-part3-Denotational-38713" class="Comment">-------------------------------------</a>
        <a id="plfa_plfa-part3-Denotational-38759" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-38761" href="https://agda.github.io/agda-stdlib/v1.3/Data.Product.html#916" class="Function">Σ[</a> <a id="plfa_plfa-part3-Denotational-38764" href="../Denotational/#plfa_plfa-part3-Denotational-38764" class="Bound">u₃</a> <a id="plfa_plfa-part3-Denotational-38767" href="https://agda.github.io/agda-stdlib/v1.3/Data.Product.html#916" class="Function">∈</a> <a id="plfa_plfa-part3-Denotational-38769" href="../Denotational/#plfa_plfa-part3-Denotational-3974" class="Datatype">Value</a> <a id="plfa_plfa-part3-Denotational-38775" href="https://agda.github.io/agda-stdlib/v1.3/Data.Product.html#916" class="Function">]</a> <a id="plfa_plfa-part3-Denotational-38777" href="../Denotational/#plfa_plfa-part3-Denotational-34737" class="Function">factor</a> <a id="plfa_plfa-part3-Denotational-38784" href="../Denotational/#plfa_plfa-part3-Denotational-38643" class="Bound">u₂</a> <a id="plfa_plfa-part3-Denotational-38787" href="../Denotational/#plfa_plfa-part3-Denotational-38764" class="Bound">u₃</a> <a id="plfa_plfa-part3-Denotational-38790" href="../Denotational/#plfa_plfa-part3-Denotational-38685" class="Bound">v</a> <a id="plfa_plfa-part3-Denotational-38792" href="../Denotational/#plfa_plfa-part3-Denotational-38687" class="Bound">w</a>
<a id="plfa_plfa-part3-Denotational-38794" href="../Denotational/#plfa_plfa-part3-Denotational-38628" class="Function">sub-inv</a> <a id="plfa_plfa-part3-Denotational-38802" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-38803" href="../Denotational/#plfa_plfa-part3-Denotational-3994" class="InductiveConstructor">⊥</a><a id="plfa_plfa-part3-Denotational-38804" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-38806" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-38807" href="../Denotational/#plfa_plfa-part3-Denotational-38807" class="Bound">u₂</a><a id="plfa_plfa-part3-Denotational-38809" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-38811" href="../Denotational/#plfa_plfa-part3-Denotational-4370" class="InductiveConstructor">⊑-bot</a> <a id="plfa_plfa-part3-Denotational-38817" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-38818" href="../Denotational/#plfa_plfa-part3-Denotational-38818" class="Bound">v</a><a id="plfa_plfa-part3-Denotational-38819" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-38821" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-38822" href="../Denotational/#plfa_plfa-part3-Denotational-38822" class="Bound">w</a><a id="plfa_plfa-part3-Denotational-38823" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-38825" class="Symbol">()</a>
<a id="plfa_plfa-part3-Denotational-38828" href="../Denotational/#plfa_plfa-part3-Denotational-38628" class="Function">sub-inv</a> <a id="plfa_plfa-part3-Denotational-38836" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-38837" href="../Denotational/#plfa_plfa-part3-Denotational-38837" class="Bound">u₁₁</a> <a id="plfa_plfa-part3-Denotational-38841" href="../Denotational/#plfa_plfa-part3-Denotational-4036" class="InductiveConstructor Operator">⊔</a> <a id="plfa_plfa-part3-Denotational-38843" href="../Denotational/#plfa_plfa-part3-Denotational-38843" class="Bound">u₁₂</a><a id="plfa_plfa-part3-Denotational-38846" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-38848" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-38849" href="../Denotational/#plfa_plfa-part3-Denotational-38849" class="Bound">u₂</a><a id="plfa_plfa-part3-Denotational-38851" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-38853" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-38854" href="../Denotational/#plfa_plfa-part3-Denotational-4395" class="InductiveConstructor">⊑-conj-L</a> <a id="plfa_plfa-part3-Denotational-38863" href="../Denotational/#plfa_plfa-part3-Denotational-38863" class="Bound">lt1</a> <a id="plfa_plfa-part3-Denotational-38867" href="../Denotational/#plfa_plfa-part3-Denotational-38867" class="Bound">lt2</a><a id="plfa_plfa-part3-Denotational-38870" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-38872" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-38873" href="../Denotational/#plfa_plfa-part3-Denotational-38873" class="Bound">v</a><a id="plfa_plfa-part3-Denotational-38874" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-38876" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-38877" href="../Denotational/#plfa_plfa-part3-Denotational-38877" class="Bound">w</a><a id="plfa_plfa-part3-Denotational-38878" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-38880" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-38881" href="https://agda.github.io/agda-stdlib/v1.3/Data.Sum.Base.html#778" class="InductiveConstructor">inj₁</a> <a id="plfa_plfa-part3-Denotational-38886" href="../Denotational/#plfa_plfa-part3-Denotational-38886" class="Bound">x</a><a id="plfa_plfa-part3-Denotational-38887" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-38889" class="Symbol">=</a> <a id="plfa_plfa-part3-Denotational-38891" href="../Denotational/#plfa_plfa-part3-Denotational-38628" class="Function">sub-inv</a> <a id="plfa_plfa-part3-Denotational-38899" href="../Denotational/#plfa_plfa-part3-Denotational-38863" class="Bound">lt1</a> <a id="plfa_plfa-part3-Denotational-38903" href="../Denotational/#plfa_plfa-part3-Denotational-38886" class="Bound">x</a>
<a id="plfa_plfa-part3-Denotational-38905" href="../Denotational/#plfa_plfa-part3-Denotational-38628" class="Function">sub-inv</a> <a id="plfa_plfa-part3-Denotational-38913" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-38914" href="../Denotational/#plfa_plfa-part3-Denotational-38914" class="Bound">u₁₁</a> <a id="plfa_plfa-part3-Denotational-38918" href="../Denotational/#plfa_plfa-part3-Denotational-4036" class="InductiveConstructor Operator">⊔</a> <a id="plfa_plfa-part3-Denotational-38920" href="../Denotational/#plfa_plfa-part3-Denotational-38920" class="Bound">u₁₂</a><a id="plfa_plfa-part3-Denotational-38923" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-38925" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-38926" href="../Denotational/#plfa_plfa-part3-Denotational-38926" class="Bound">u₂</a><a id="plfa_plfa-part3-Denotational-38928" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-38930" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-38931" href="../Denotational/#plfa_plfa-part3-Denotational-4395" class="InductiveConstructor">⊑-conj-L</a> <a id="plfa_plfa-part3-Denotational-38940" href="../Denotational/#plfa_plfa-part3-Denotational-38940" class="Bound">lt1</a> <a id="plfa_plfa-part3-Denotational-38944" href="../Denotational/#plfa_plfa-part3-Denotational-38944" class="Bound">lt2</a><a id="plfa_plfa-part3-Denotational-38947" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-38949" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-38950" href="../Denotational/#plfa_plfa-part3-Denotational-38950" class="Bound">v</a><a id="plfa_plfa-part3-Denotational-38951" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-38953" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-38954" href="../Denotational/#plfa_plfa-part3-Denotational-38954" class="Bound">w</a><a id="plfa_plfa-part3-Denotational-38955" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-38957" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-38958" href="https://agda.github.io/agda-stdlib/v1.3/Data.Sum.Base.html#803" class="InductiveConstructor">inj₂</a> <a id="plfa_plfa-part3-Denotational-38963" href="../Denotational/#plfa_plfa-part3-Denotational-38963" class="Bound">y</a><a id="plfa_plfa-part3-Denotational-38964" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-38966" class="Symbol">=</a> <a id="plfa_plfa-part3-Denotational-38968" href="../Denotational/#plfa_plfa-part3-Denotational-38628" class="Function">sub-inv</a> <a id="plfa_plfa-part3-Denotational-38976" href="../Denotational/#plfa_plfa-part3-Denotational-38944" class="Bound">lt2</a> <a id="plfa_plfa-part3-Denotational-38980" href="../Denotational/#plfa_plfa-part3-Denotational-38963" class="Bound">y</a>
<a id="plfa_plfa-part3-Denotational-38982" href="../Denotational/#plfa_plfa-part3-Denotational-38628" class="CatchallClause Function">sub-inv</a><a id="plfa_plfa-part3-Denotational-38989" class="CatchallClause"> </a><a id="plfa_plfa-part3-Denotational-38990" class="CatchallClause Symbol">{</a><a id="plfa_plfa-part3-Denotational-38991" href="../Denotational/#plfa_plfa-part3-Denotational-38991" class="CatchallClause Bound">u₁</a><a id="plfa_plfa-part3-Denotational-38993" class="CatchallClause Symbol">}</a><a id="plfa_plfa-part3-Denotational-38994" class="CatchallClause"> </a><a id="plfa_plfa-part3-Denotational-38995" class="CatchallClause Symbol">{</a><a id="plfa_plfa-part3-Denotational-38996" href="../Denotational/#plfa_plfa-part3-Denotational-38996" class="CatchallClause Bound">u₂₁</a><a id="plfa_plfa-part3-Denotational-38999" class="CatchallClause"> </a><a id="plfa_plfa-part3-Denotational-39000" href="../Denotational/#plfa_plfa-part3-Denotational-4036" class="CatchallClause InductiveConstructor Operator">⊔</a><a id="plfa_plfa-part3-Denotational-39001" class="CatchallClause"> </a><a id="plfa_plfa-part3-Denotational-39002" href="../Denotational/#plfa_plfa-part3-Denotational-39002" class="CatchallClause Bound">u₂₂</a><a id="plfa_plfa-part3-Denotational-39005" class="CatchallClause Symbol">}</a><a id="plfa_plfa-part3-Denotational-39006" class="CatchallClause"> </a><a id="plfa_plfa-part3-Denotational-39007" class="CatchallClause Symbol">(</a><a id="plfa_plfa-part3-Denotational-39008" href="../Denotational/#plfa_plfa-part3-Denotational-4479" class="CatchallClause InductiveConstructor">⊑-conj-R1</a><a id="plfa_plfa-part3-Denotational-39017" class="CatchallClause"> </a><a id="plfa_plfa-part3-Denotational-39018" href="../Denotational/#plfa_plfa-part3-Denotational-39018" class="CatchallClause Bound">lt</a><a id="plfa_plfa-part3-Denotational-39020" class="CatchallClause Symbol">)</a><a id="plfa_plfa-part3-Denotational-39021" class="CatchallClause"> </a><a id="plfa_plfa-part3-Denotational-39022" class="CatchallClause Symbol">{</a><a id="plfa_plfa-part3-Denotational-39023" href="../Denotational/#plfa_plfa-part3-Denotational-39023" class="CatchallClause Bound">v</a><a id="plfa_plfa-part3-Denotational-39024" class="CatchallClause Symbol">}</a><a id="plfa_plfa-part3-Denotational-39025" class="CatchallClause"> </a><a id="plfa_plfa-part3-Denotational-39026" class="CatchallClause Symbol">{</a><a id="plfa_plfa-part3-Denotational-39027" href="../Denotational/#plfa_plfa-part3-Denotational-39027" class="CatchallClause Bound">w</a><a id="plfa_plfa-part3-Denotational-39028" class="CatchallClause Symbol">}</a><a id="plfa_plfa-part3-Denotational-39029" class="CatchallClause"> </a><a id="plfa_plfa-part3-Denotational-39030" href="../Denotational/#plfa_plfa-part3-Denotational-39030" class="CatchallClause Bound">m</a>
    <a id="plfa_plfa-part3-Denotational-39036" class="Keyword">with</a> <a id="plfa_plfa-part3-Denotational-39041" href="../Denotational/#plfa_plfa-part3-Denotational-38628" class="Function">sub-inv</a> <a id="plfa_plfa-part3-Denotational-39049" href="../Denotational/#plfa_plfa-part3-Denotational-39018" class="Bound">lt</a> <a id="plfa_plfa-part3-Denotational-39052" href="../Denotational/#plfa_plfa-part3-Denotational-39030" class="Bound">m</a>
<a id="plfa_plfa-part3-Denotational-39054" class="Symbol">...</a> <a id="plfa_plfa-part3-Denotational-39058" class="Symbol">|</a> <a id="plfa_plfa-part3-Denotational-39060" href="../Denotational/#plfa_plfa-part3-Denotational-2730" class="InductiveConstructor Operator">⟨</a> <a id="plfa_plfa-part3-Denotational-39062" href="../Denotational/#plfa_plfa-part3-Denotational-39062" class="Bound">u₃₁</a> <a id="plfa_plfa-part3-Denotational-39066" href="../Denotational/#plfa_plfa-part3-Denotational-2730" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part3-Denotational-39068" href="../Denotational/#plfa_plfa-part3-Denotational-2730" class="InductiveConstructor Operator">⟨</a> <a id="plfa_plfa-part3-Denotational-39070" href="../Denotational/#plfa_plfa-part3-Denotational-39070" class="Bound">fu₃₁</a> <a id="plfa_plfa-part3-Denotational-39075" href="../Denotational/#plfa_plfa-part3-Denotational-2730" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part3-Denotational-39077" href="../Denotational/#plfa_plfa-part3-Denotational-2730" class="InductiveConstructor Operator">⟨</a> <a id="plfa_plfa-part3-Denotational-39079" href="../Denotational/#plfa_plfa-part3-Denotational-39079" class="Bound">u₃₁⊆u₂₁</a> <a id="plfa_plfa-part3-Denotational-39087" href="../Denotational/#plfa_plfa-part3-Denotational-2730" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part3-Denotational-39089" href="../Denotational/#plfa_plfa-part3-Denotational-2730" class="InductiveConstructor Operator">⟨</a> <a id="plfa_plfa-part3-Denotational-39091" href="../Denotational/#plfa_plfa-part3-Denotational-39091" class="Bound">domu₃₁⊑v</a> <a id="plfa_plfa-part3-Denotational-39100" href="../Denotational/#plfa_plfa-part3-Denotational-2730" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part3-Denotational-39102" href="../Denotational/#plfa_plfa-part3-Denotational-39102" class="Bound">w⊑codu₃₁</a> <a id="plfa_plfa-part3-Denotational-39111" href="../Denotational/#plfa_plfa-part3-Denotational-2730" class="InductiveConstructor Operator">⟩</a> <a id="plfa_plfa-part3-Denotational-39113" href="../Denotational/#plfa_plfa-part3-Denotational-2730" class="InductiveConstructor Operator">⟩</a> <a id="plfa_plfa-part3-Denotational-39115" href="../Denotational/#plfa_plfa-part3-Denotational-2730" class="InductiveConstructor Operator">⟩</a> <a id="plfa_plfa-part3-Denotational-39117" href="../Denotational/#plfa_plfa-part3-Denotational-2730" class="InductiveConstructor Operator">⟩</a> <a id="plfa_plfa-part3-Denotational-39119" class="Symbol">=</a>
      <a id="plfa_plfa-part3-Denotational-39127" href="../Denotational/#plfa_plfa-part3-Denotational-2730" class="InductiveConstructor Operator">⟨</a> <a id="plfa_plfa-part3-Denotational-39129" href="../Denotational/#plfa_plfa-part3-Denotational-39062" class="Bound">u₃₁</a> <a id="plfa_plfa-part3-Denotational-39133" href="../Denotational/#plfa_plfa-part3-Denotational-2730" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part3-Denotational-39135" href="../Denotational/#plfa_plfa-part3-Denotational-2730" class="InductiveConstructor Operator">⟨</a> <a id="plfa_plfa-part3-Denotational-39137" href="../Denotational/#plfa_plfa-part3-Denotational-39070" class="Bound">fu₃₁</a> <a id="plfa_plfa-part3-Denotational-39142" href="../Denotational/#plfa_plfa-part3-Denotational-2730" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part3-Denotational-39144" href="../Denotational/#plfa_plfa-part3-Denotational-2730" class="InductiveConstructor Operator">⟨</a> <a id="plfa_plfa-part3-Denotational-39146" class="Symbol">(λ</a> <a id="plfa_plfa-part3-Denotational-39149" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-39150" href="../Denotational/#plfa_plfa-part3-Denotational-39150" class="Bound">w</a><a id="plfa_plfa-part3-Denotational-39151" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-39153" href="../Denotational/#plfa_plfa-part3-Denotational-39153" class="Bound">z</a> <a id="plfa_plfa-part3-Denotational-39155" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-39157" href="https://agda.github.io/agda-stdlib/v1.3/Data.Sum.Base.html#778" class="InductiveConstructor">inj₁</a> <a id="plfa_plfa-part3-Denotational-39162" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-39163" href="../Denotational/#plfa_plfa-part3-Denotational-39079" class="Bound">u₃₁⊆u₂₁</a> <a id="plfa_plfa-part3-Denotational-39171" href="../Denotational/#plfa_plfa-part3-Denotational-39153" class="Bound">z</a><a id="plfa_plfa-part3-Denotational-39172" class="Symbol">))</a> <a id="plfa_plfa-part3-Denotational-39175" href="../Denotational/#plfa_plfa-part3-Denotational-2730" class="InductiveConstructor Operator">,</a>
                                   <a id="plfa_plfa-part3-Denotational-39212" href="../Denotational/#plfa_plfa-part3-Denotational-2730" class="InductiveConstructor Operator">⟨</a> <a id="plfa_plfa-part3-Denotational-39214" href="../Denotational/#plfa_plfa-part3-Denotational-39091" class="Bound">domu₃₁⊑v</a> <a id="plfa_plfa-part3-Denotational-39223" href="../Denotational/#plfa_plfa-part3-Denotational-2730" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part3-Denotational-39225" href="../Denotational/#plfa_plfa-part3-Denotational-39102" class="Bound">w⊑codu₃₁</a> <a id="plfa_plfa-part3-Denotational-39234" href="../Denotational/#plfa_plfa-part3-Denotational-2730" class="InductiveConstructor Operator">⟩</a> <a id="plfa_plfa-part3-Denotational-39236" href="../Denotational/#plfa_plfa-part3-Denotational-2730" class="InductiveConstructor Operator">⟩</a> <a id="plfa_plfa-part3-Denotational-39238" href="../Denotational/#plfa_plfa-part3-Denotational-2730" class="InductiveConstructor Operator">⟩</a> <a id="plfa_plfa-part3-Denotational-39240" href="../Denotational/#plfa_plfa-part3-Denotational-2730" class="InductiveConstructor Operator">⟩</a>
<a id="plfa_plfa-part3-Denotational-39242" href="../Denotational/#plfa_plfa-part3-Denotational-38628" class="CatchallClause Function">sub-inv</a><a id="plfa_plfa-part3-Denotational-39249" class="CatchallClause"> </a><a id="plfa_plfa-part3-Denotational-39250" class="CatchallClause Symbol">{</a><a id="plfa_plfa-part3-Denotational-39251" href="../Denotational/#plfa_plfa-part3-Denotational-39251" class="CatchallClause Bound">u₁</a><a id="plfa_plfa-part3-Denotational-39253" class="CatchallClause Symbol">}</a><a id="plfa_plfa-part3-Denotational-39254" class="CatchallClause"> </a><a id="plfa_plfa-part3-Denotational-39255" class="CatchallClause Symbol">{</a><a id="plfa_plfa-part3-Denotational-39256" href="../Denotational/#plfa_plfa-part3-Denotational-39256" class="CatchallClause Bound">u₂₁</a><a id="plfa_plfa-part3-Denotational-39259" class="CatchallClause"> </a><a id="plfa_plfa-part3-Denotational-39260" href="../Denotational/#plfa_plfa-part3-Denotational-4036" class="CatchallClause InductiveConstructor Operator">⊔</a><a id="plfa_plfa-part3-Denotational-39261" class="CatchallClause"> </a><a id="plfa_plfa-part3-Denotational-39262" href="../Denotational/#plfa_plfa-part3-Denotational-39262" class="CatchallClause Bound">u₂₂</a><a id="plfa_plfa-part3-Denotational-39265" class="CatchallClause Symbol">}</a><a id="plfa_plfa-part3-Denotational-39266" class="CatchallClause"> </a><a id="plfa_plfa-part3-Denotational-39267" class="CatchallClause Symbol">(</a><a id="plfa_plfa-part3-Denotational-39268" href="../Denotational/#plfa_plfa-part3-Denotational-4552" class="CatchallClause InductiveConstructor">⊑-conj-R2</a><a id="plfa_plfa-part3-Denotational-39277" class="CatchallClause"> </a><a id="plfa_plfa-part3-Denotational-39278" href="../Denotational/#plfa_plfa-part3-Denotational-39278" class="CatchallClause Bound">lt</a><a id="plfa_plfa-part3-Denotational-39280" class="CatchallClause Symbol">)</a><a id="plfa_plfa-part3-Denotational-39281" class="CatchallClause"> </a><a id="plfa_plfa-part3-Denotational-39282" class="CatchallClause Symbol">{</a><a id="plfa_plfa-part3-Denotational-39283" href="../Denotational/#plfa_plfa-part3-Denotational-39283" class="CatchallClause Bound">v</a><a id="plfa_plfa-part3-Denotational-39284" class="CatchallClause Symbol">}</a><a id="plfa_plfa-part3-Denotational-39285" class="CatchallClause"> </a><a id="plfa_plfa-part3-Denotational-39286" class="CatchallClause Symbol">{</a><a id="plfa_plfa-part3-Denotational-39287" href="../Denotational/#plfa_plfa-part3-Denotational-39287" class="CatchallClause Bound">w</a><a id="plfa_plfa-part3-Denotational-39288" class="CatchallClause Symbol">}</a><a id="plfa_plfa-part3-Denotational-39289" class="CatchallClause"> </a><a id="plfa_plfa-part3-Denotational-39290" href="../Denotational/#plfa_plfa-part3-Denotational-39290" class="CatchallClause Bound">m</a>
    <a id="plfa_plfa-part3-Denotational-39296" class="Keyword">with</a> <a id="plfa_plfa-part3-Denotational-39301" href="../Denotational/#plfa_plfa-part3-Denotational-38628" class="Function">sub-inv</a> <a id="plfa_plfa-part3-Denotational-39309" href="../Denotational/#plfa_plfa-part3-Denotational-39278" class="Bound">lt</a> <a id="plfa_plfa-part3-Denotational-39312" href="../Denotational/#plfa_plfa-part3-Denotational-39290" class="Bound">m</a>
<a id="plfa_plfa-part3-Denotational-39314" class="Symbol">...</a> <a id="plfa_plfa-part3-Denotational-39318" class="Symbol">|</a> <a id="plfa_plfa-part3-Denotational-39320" href="../Denotational/#plfa_plfa-part3-Denotational-2730" class="InductiveConstructor Operator">⟨</a> <a id="plfa_plfa-part3-Denotational-39322" href="../Denotational/#plfa_plfa-part3-Denotational-39322" class="Bound">u₃₂</a> <a id="plfa_plfa-part3-Denotational-39326" href="../Denotational/#plfa_plfa-part3-Denotational-2730" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part3-Denotational-39328" href="../Denotational/#plfa_plfa-part3-Denotational-2730" class="InductiveConstructor Operator">⟨</a> <a id="plfa_plfa-part3-Denotational-39330" href="../Denotational/#plfa_plfa-part3-Denotational-39330" class="Bound">fu₃₂</a> <a id="plfa_plfa-part3-Denotational-39335" href="../Denotational/#plfa_plfa-part3-Denotational-2730" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part3-Denotational-39337" href="../Denotational/#plfa_plfa-part3-Denotational-2730" class="InductiveConstructor Operator">⟨</a> <a id="plfa_plfa-part3-Denotational-39339" href="../Denotational/#plfa_plfa-part3-Denotational-39339" class="Bound">u₃₂⊆u₂₂</a> <a id="plfa_plfa-part3-Denotational-39347" href="../Denotational/#plfa_plfa-part3-Denotational-2730" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part3-Denotational-39349" href="../Denotational/#plfa_plfa-part3-Denotational-2730" class="InductiveConstructor Operator">⟨</a> <a id="plfa_plfa-part3-Denotational-39351" href="../Denotational/#plfa_plfa-part3-Denotational-39351" class="Bound">domu₃₂⊑v</a> <a id="plfa_plfa-part3-Denotational-39360" href="../Denotational/#plfa_plfa-part3-Denotational-2730" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part3-Denotational-39362" href="../Denotational/#plfa_plfa-part3-Denotational-39362" class="Bound">w⊑codu₃₂</a> <a id="plfa_plfa-part3-Denotational-39371" href="../Denotational/#plfa_plfa-part3-Denotational-2730" class="InductiveConstructor Operator">⟩</a> <a id="plfa_plfa-part3-Denotational-39373" href="../Denotational/#plfa_plfa-part3-Denotational-2730" class="InductiveConstructor Operator">⟩</a> <a id="plfa_plfa-part3-Denotational-39375" href="../Denotational/#plfa_plfa-part3-Denotational-2730" class="InductiveConstructor Operator">⟩</a> <a id="plfa_plfa-part3-Denotational-39377" href="../Denotational/#plfa_plfa-part3-Denotational-2730" class="InductiveConstructor Operator">⟩</a> <a id="plfa_plfa-part3-Denotational-39379" class="Symbol">=</a>
      <a id="plfa_plfa-part3-Denotational-39387" href="../Denotational/#plfa_plfa-part3-Denotational-2730" class="InductiveConstructor Operator">⟨</a> <a id="plfa_plfa-part3-Denotational-39389" href="../Denotational/#plfa_plfa-part3-Denotational-39322" class="Bound">u₃₂</a> <a id="plfa_plfa-part3-Denotational-39393" href="../Denotational/#plfa_plfa-part3-Denotational-2730" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part3-Denotational-39395" href="../Denotational/#plfa_plfa-part3-Denotational-2730" class="InductiveConstructor Operator">⟨</a> <a id="plfa_plfa-part3-Denotational-39397" href="../Denotational/#plfa_plfa-part3-Denotational-39330" class="Bound">fu₃₂</a> <a id="plfa_plfa-part3-Denotational-39402" href="../Denotational/#plfa_plfa-part3-Denotational-2730" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part3-Denotational-39404" href="../Denotational/#plfa_plfa-part3-Denotational-2730" class="InductiveConstructor Operator">⟨</a> <a id="plfa_plfa-part3-Denotational-39406" class="Symbol">(λ</a> <a id="plfa_plfa-part3-Denotational-39409" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-39410" href="../Denotational/#plfa_plfa-part3-Denotational-39410" class="Bound">C</a><a id="plfa_plfa-part3-Denotational-39411" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-39413" href="../Denotational/#plfa_plfa-part3-Denotational-39413" class="Bound">z</a> <a id="plfa_plfa-part3-Denotational-39415" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-39417" href="https://agda.github.io/agda-stdlib/v1.3/Data.Sum.Base.html#803" class="InductiveConstructor">inj₂</a> <a id="plfa_plfa-part3-Denotational-39422" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-39423" href="../Denotational/#plfa_plfa-part3-Denotational-39339" class="Bound">u₃₂⊆u₂₂</a> <a id="plfa_plfa-part3-Denotational-39431" href="../Denotational/#plfa_plfa-part3-Denotational-39413" class="Bound">z</a><a id="plfa_plfa-part3-Denotational-39432" class="Symbol">))</a> <a id="plfa_plfa-part3-Denotational-39435" href="../Denotational/#plfa_plfa-part3-Denotational-2730" class="InductiveConstructor Operator">,</a>
                                   <a id="plfa_plfa-part3-Denotational-39472" href="../Denotational/#plfa_plfa-part3-Denotational-2730" class="InductiveConstructor Operator">⟨</a> <a id="plfa_plfa-part3-Denotational-39474" href="../Denotational/#plfa_plfa-part3-Denotational-39351" class="Bound">domu₃₂⊑v</a> <a id="plfa_plfa-part3-Denotational-39483" href="../Denotational/#plfa_plfa-part3-Denotational-2730" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part3-Denotational-39485" href="../Denotational/#plfa_plfa-part3-Denotational-39362" class="Bound">w⊑codu₃₂</a> <a id="plfa_plfa-part3-Denotational-39494" href="../Denotational/#plfa_plfa-part3-Denotational-2730" class="InductiveConstructor Operator">⟩</a> <a id="plfa_plfa-part3-Denotational-39496" href="../Denotational/#plfa_plfa-part3-Denotational-2730" class="InductiveConstructor Operator">⟩</a> <a id="plfa_plfa-part3-Denotational-39498" href="../Denotational/#plfa_plfa-part3-Denotational-2730" class="InductiveConstructor Operator">⟩</a> <a id="plfa_plfa-part3-Denotational-39500" href="../Denotational/#plfa_plfa-part3-Denotational-2730" class="InductiveConstructor Operator">⟩</a>
<a id="plfa_plfa-part3-Denotational-39502" href="../Denotational/#plfa_plfa-part3-Denotational-38628" class="CatchallClause Function">sub-inv</a><a id="plfa_plfa-part3-Denotational-39509" class="CatchallClause"> </a><a id="plfa_plfa-part3-Denotational-39510" class="CatchallClause Symbol">{</a><a id="plfa_plfa-part3-Denotational-39511" href="../Denotational/#plfa_plfa-part3-Denotational-39511" class="CatchallClause Bound">u₁</a><a id="plfa_plfa-part3-Denotational-39513" class="CatchallClause Symbol">}</a><a id="plfa_plfa-part3-Denotational-39514" class="CatchallClause"> </a><a id="plfa_plfa-part3-Denotational-39515" class="CatchallClause Symbol">{</a><a id="plfa_plfa-part3-Denotational-39516" href="../Denotational/#plfa_plfa-part3-Denotational-39516" class="CatchallClause Bound">u₂</a><a id="plfa_plfa-part3-Denotational-39518" class="CatchallClause Symbol">}</a><a id="plfa_plfa-part3-Denotational-39519" class="CatchallClause"> </a><a id="plfa_plfa-part3-Denotational-39520" class="CatchallClause Symbol">(</a><a id="plfa_plfa-part3-Denotational-39521" href="../Denotational/#plfa_plfa-part3-Denotational-4625" class="CatchallClause InductiveConstructor">⊑-trans</a><a id="plfa_plfa-part3-Denotational-39528" class="CatchallClause Symbol">{</a><a id="plfa_plfa-part3-Denotational-39529" class="CatchallClause Argument">v</a><a id="plfa_plfa-part3-Denotational-39530" class="CatchallClause"> </a><a id="plfa_plfa-part3-Denotational-39531" class="CatchallClause Symbol">=</a><a id="plfa_plfa-part3-Denotational-39532" class="CatchallClause"> </a><a id="plfa_plfa-part3-Denotational-39533" href="../Denotational/#plfa_plfa-part3-Denotational-39533" class="CatchallClause Bound">u</a><a id="plfa_plfa-part3-Denotational-39534" class="CatchallClause Symbol">}</a><a id="plfa_plfa-part3-Denotational-39535" class="CatchallClause"> </a><a id="plfa_plfa-part3-Denotational-39536" href="../Denotational/#plfa_plfa-part3-Denotational-39536" class="CatchallClause Bound">u₁⊑u</a><a id="plfa_plfa-part3-Denotational-39540" class="CatchallClause"> </a><a id="plfa_plfa-part3-Denotational-39541" href="../Denotational/#plfa_plfa-part3-Denotational-39541" class="CatchallClause Bound">u⊑u₂</a><a id="plfa_plfa-part3-Denotational-39545" class="CatchallClause Symbol">)</a><a id="plfa_plfa-part3-Denotational-39546" class="CatchallClause"> </a><a id="plfa_plfa-part3-Denotational-39547" class="CatchallClause Symbol">{</a><a id="plfa_plfa-part3-Denotational-39548" href="../Denotational/#plfa_plfa-part3-Denotational-39548" class="CatchallClause Bound">v</a><a id="plfa_plfa-part3-Denotational-39549" class="CatchallClause Symbol">}</a><a id="plfa_plfa-part3-Denotational-39550" class="CatchallClause"> </a><a id="plfa_plfa-part3-Denotational-39551" class="CatchallClause Symbol">{</a><a id="plfa_plfa-part3-Denotational-39552" href="../Denotational/#plfa_plfa-part3-Denotational-39552" class="CatchallClause Bound">w</a><a id="plfa_plfa-part3-Denotational-39553" class="CatchallClause Symbol">}</a><a id="plfa_plfa-part3-Denotational-39554" class="CatchallClause"> </a><a id="plfa_plfa-part3-Denotational-39555" href="../Denotational/#plfa_plfa-part3-Denotational-39555" class="CatchallClause Bound">v↦w∈u₁</a>
    <a id="plfa_plfa-part3-Denotational-39566" class="Keyword">with</a> <a id="plfa_plfa-part3-Denotational-39571" href="../Denotational/#plfa_plfa-part3-Denotational-38628" class="Function">sub-inv</a> <a id="plfa_plfa-part3-Denotational-39579" href="../Denotational/#plfa_plfa-part3-Denotational-39536" class="Bound">u₁⊑u</a> <a id="plfa_plfa-part3-Denotational-39584" href="../Denotational/#plfa_plfa-part3-Denotational-39555" class="Bound">v↦w∈u₁</a>
<a id="plfa_plfa-part3-Denotational-39591" class="Symbol">...</a> <a id="plfa_plfa-part3-Denotational-39595" class="Symbol">|</a> <a id="plfa_plfa-part3-Denotational-39597" href="../Denotational/#plfa_plfa-part3-Denotational-2730" class="InductiveConstructor Operator">⟨</a> <a id="plfa_plfa-part3-Denotational-39599" href="../Denotational/#plfa_plfa-part3-Denotational-39599" class="Bound">u′</a> <a id="plfa_plfa-part3-Denotational-39602" href="../Denotational/#plfa_plfa-part3-Denotational-2730" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part3-Denotational-39604" href="../Denotational/#plfa_plfa-part3-Denotational-2730" class="InductiveConstructor Operator">⟨</a> <a id="plfa_plfa-part3-Denotational-39606" href="../Denotational/#plfa_plfa-part3-Denotational-39606" class="Bound">fu′</a> <a id="plfa_plfa-part3-Denotational-39610" href="../Denotational/#plfa_plfa-part3-Denotational-2730" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part3-Denotational-39612" href="../Denotational/#plfa_plfa-part3-Denotational-2730" class="InductiveConstructor Operator">⟨</a> <a id="plfa_plfa-part3-Denotational-39614" href="../Denotational/#plfa_plfa-part3-Denotational-39614" class="Bound">u′⊆u</a> <a id="plfa_plfa-part3-Denotational-39619" href="../Denotational/#plfa_plfa-part3-Denotational-2730" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part3-Denotational-39621" href="../Denotational/#plfa_plfa-part3-Denotational-2730" class="InductiveConstructor Operator">⟨</a> <a id="plfa_plfa-part3-Denotational-39623" href="../Denotational/#plfa_plfa-part3-Denotational-39623" class="Bound">domu′⊑v</a> <a id="plfa_plfa-part3-Denotational-39631" href="../Denotational/#plfa_plfa-part3-Denotational-2730" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part3-Denotational-39633" href="../Denotational/#plfa_plfa-part3-Denotational-39633" class="Bound">w⊑codu′</a> <a id="plfa_plfa-part3-Denotational-39641" href="../Denotational/#plfa_plfa-part3-Denotational-2730" class="InductiveConstructor Operator">⟩</a> <a id="plfa_plfa-part3-Denotational-39643" href="../Denotational/#plfa_plfa-part3-Denotational-2730" class="InductiveConstructor Operator">⟩</a> <a id="plfa_plfa-part3-Denotational-39645" href="../Denotational/#plfa_plfa-part3-Denotational-2730" class="InductiveConstructor Operator">⟩</a> <a id="plfa_plfa-part3-Denotational-39647" href="../Denotational/#plfa_plfa-part3-Denotational-2730" class="InductiveConstructor Operator">⟩</a>
    <a id="plfa_plfa-part3-Denotational-39653" class="Keyword">with</a> <a id="plfa_plfa-part3-Denotational-39658" href="../Denotational/#plfa_plfa-part3-Denotational-36097" class="Function">sub-inv-trans</a> <a id="plfa_plfa-part3-Denotational-39672" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-39673" href="../Denotational/#plfa_plfa-part3-Denotational-39599" class="Bound">u′</a><a id="plfa_plfa-part3-Denotational-39675" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-39677" href="../Denotational/#plfa_plfa-part3-Denotational-39606" class="Bound">fu′</a> <a id="plfa_plfa-part3-Denotational-39681" href="../Denotational/#plfa_plfa-part3-Denotational-39614" class="Bound">u′⊆u</a> <a id="plfa_plfa-part3-Denotational-39686" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-39687" href="../Denotational/#plfa_plfa-part3-Denotational-38628" class="Function">sub-inv</a> <a id="plfa_plfa-part3-Denotational-39695" class="Bound">u⊑u₂</a><a id="plfa_plfa-part3-Denotational-39699" class="Symbol">)</a>
<a id="plfa_plfa-part3-Denotational-39701" class="Symbol">...</a> <a id="plfa_plfa-part3-Denotational-39705" class="Symbol">|</a> <a id="plfa_plfa-part3-Denotational-39707" href="../Denotational/#plfa_plfa-part3-Denotational-2730" class="InductiveConstructor Operator">⟨</a> <a id="plfa_plfa-part3-Denotational-39709" href="../Denotational/#plfa_plfa-part3-Denotational-39709" class="Bound">u₃</a> <a id="plfa_plfa-part3-Denotational-39712" href="../Denotational/#plfa_plfa-part3-Denotational-2730" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part3-Denotational-39714" href="../Denotational/#plfa_plfa-part3-Denotational-2730" class="InductiveConstructor Operator">⟨</a> <a id="plfa_plfa-part3-Denotational-39716" href="../Denotational/#plfa_plfa-part3-Denotational-39716" class="Bound">fu₃</a> <a id="plfa_plfa-part3-Denotational-39720" href="../Denotational/#plfa_plfa-part3-Denotational-2730" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part3-Denotational-39722" href="../Denotational/#plfa_plfa-part3-Denotational-2730" class="InductiveConstructor Operator">⟨</a> <a id="plfa_plfa-part3-Denotational-39724" href="../Denotational/#plfa_plfa-part3-Denotational-39724" class="Bound">u₃⊆u₂</a> <a id="plfa_plfa-part3-Denotational-39730" href="../Denotational/#plfa_plfa-part3-Denotational-2730" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part3-Denotational-39732" href="../Denotational/#plfa_plfa-part3-Denotational-2730" class="InductiveConstructor Operator">⟨</a> <a id="plfa_plfa-part3-Denotational-39734" href="../Denotational/#plfa_plfa-part3-Denotational-39734" class="Bound">domu₃⊑domu′</a> <a id="plfa_plfa-part3-Denotational-39746" href="../Denotational/#plfa_plfa-part3-Denotational-2730" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part3-Denotational-39748" href="../Denotational/#plfa_plfa-part3-Denotational-39748" class="Bound">codu′⊑codu₃</a> <a id="plfa_plfa-part3-Denotational-39760" href="../Denotational/#plfa_plfa-part3-Denotational-2730" class="InductiveConstructor Operator">⟩</a> <a id="plfa_plfa-part3-Denotational-39762" href="../Denotational/#plfa_plfa-part3-Denotational-2730" class="InductiveConstructor Operator">⟩</a> <a id="plfa_plfa-part3-Denotational-39764" href="../Denotational/#plfa_plfa-part3-Denotational-2730" class="InductiveConstructor Operator">⟩</a> <a id="plfa_plfa-part3-Denotational-39766" href="../Denotational/#plfa_plfa-part3-Denotational-2730" class="InductiveConstructor Operator">⟩</a> <a id="plfa_plfa-part3-Denotational-39768" class="Symbol">=</a>
      <a id="plfa_plfa-part3-Denotational-39776" href="../Denotational/#plfa_plfa-part3-Denotational-2730" class="InductiveConstructor Operator">⟨</a> <a id="plfa_plfa-part3-Denotational-39778" href="../Denotational/#plfa_plfa-part3-Denotational-39709" class="Bound">u₃</a> <a id="plfa_plfa-part3-Denotational-39781" href="../Denotational/#plfa_plfa-part3-Denotational-2730" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part3-Denotational-39783" href="../Denotational/#plfa_plfa-part3-Denotational-2730" class="InductiveConstructor Operator">⟨</a> <a id="plfa_plfa-part3-Denotational-39785" href="../Denotational/#plfa_plfa-part3-Denotational-39716" class="Bound">fu₃</a> <a id="plfa_plfa-part3-Denotational-39789" href="../Denotational/#plfa_plfa-part3-Denotational-2730" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part3-Denotational-39791" href="../Denotational/#plfa_plfa-part3-Denotational-2730" class="InductiveConstructor Operator">⟨</a> <a id="plfa_plfa-part3-Denotational-39793" href="../Denotational/#plfa_plfa-part3-Denotational-39724" class="Bound">u₃⊆u₂</a> <a id="plfa_plfa-part3-Denotational-39799" href="../Denotational/#plfa_plfa-part3-Denotational-2730" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part3-Denotational-39801" href="../Denotational/#plfa_plfa-part3-Denotational-2730" class="InductiveConstructor Operator">⟨</a> <a id="plfa_plfa-part3-Denotational-39803" href="../Denotational/#plfa_plfa-part3-Denotational-4625" class="InductiveConstructor">⊑-trans</a> <a id="plfa_plfa-part3-Denotational-39811" href="../Denotational/#plfa_plfa-part3-Denotational-39734" class="Bound">domu₃⊑domu′</a> <a id="plfa_plfa-part3-Denotational-39823" class="Bound">domu′⊑v</a> <a id="plfa_plfa-part3-Denotational-39831" href="../Denotational/#plfa_plfa-part3-Denotational-2730" class="InductiveConstructor Operator">,</a>
                                    <a id="plfa_plfa-part3-Denotational-39869" href="../Denotational/#plfa_plfa-part3-Denotational-4625" class="InductiveConstructor">⊑-trans</a> <a id="plfa_plfa-part3-Denotational-39877" class="Bound">w⊑codu′</a> <a id="plfa_plfa-part3-Denotational-39885" href="../Denotational/#plfa_plfa-part3-Denotational-39748" class="Bound">codu′⊑codu₃</a> <a id="plfa_plfa-part3-Denotational-39897" href="../Denotational/#plfa_plfa-part3-Denotational-2730" class="InductiveConstructor Operator">⟩</a> <a id="plfa_plfa-part3-Denotational-39899" href="../Denotational/#plfa_plfa-part3-Denotational-2730" class="InductiveConstructor Operator">⟩</a> <a id="plfa_plfa-part3-Denotational-39901" href="../Denotational/#plfa_plfa-part3-Denotational-2730" class="InductiveConstructor Operator">⟩</a> <a id="plfa_plfa-part3-Denotational-39903" href="../Denotational/#plfa_plfa-part3-Denotational-2730" class="InductiveConstructor Operator">⟩</a>
<a id="plfa_plfa-part3-Denotational-39905" href="../Denotational/#plfa_plfa-part3-Denotational-38628" class="Function">sub-inv</a> <a id="plfa_plfa-part3-Denotational-39913" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-39914" href="../Denotational/#plfa_plfa-part3-Denotational-39914" class="Bound">u₁₁</a> <a id="plfa_plfa-part3-Denotational-39918" href="../Denotational/#plfa_plfa-part3-Denotational-4006" class="InductiveConstructor Operator">↦</a> <a id="plfa_plfa-part3-Denotational-39920" href="../Denotational/#plfa_plfa-part3-Denotational-39920" class="Bound">u₁₂</a><a id="plfa_plfa-part3-Denotational-39923" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-39925" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-39926" href="../Denotational/#plfa_plfa-part3-Denotational-39926" class="Bound">u₂₁</a> <a id="plfa_plfa-part3-Denotational-39930" href="../Denotational/#plfa_plfa-part3-Denotational-4006" class="InductiveConstructor Operator">↦</a> <a id="plfa_plfa-part3-Denotational-39932" href="../Denotational/#plfa_plfa-part3-Denotational-39932" class="Bound">u₂₂</a><a id="plfa_plfa-part3-Denotational-39935" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-39937" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-39938" href="../Denotational/#plfa_plfa-part3-Denotational-4696" class="InductiveConstructor">⊑-fun</a> <a id="plfa_plfa-part3-Denotational-39944" href="../Denotational/#plfa_plfa-part3-Denotational-39944" class="Bound">lt1</a> <a id="plfa_plfa-part3-Denotational-39948" href="../Denotational/#plfa_plfa-part3-Denotational-39948" class="Bound">lt2</a><a id="plfa_plfa-part3-Denotational-39951" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-39953" href="https://agda.github.io/agda-stdlib/v1.3/Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a> <a id="plfa_plfa-part3-Denotational-39958" class="Symbol">=</a>
    <a id="plfa_plfa-part3-Denotational-39964" href="../Denotational/#plfa_plfa-part3-Denotational-2730" class="InductiveConstructor Operator">⟨</a> <a id="plfa_plfa-part3-Denotational-39966" href="../Denotational/#plfa_plfa-part3-Denotational-39926" class="Bound">u₂₁</a> <a id="plfa_plfa-part3-Denotational-39970" href="../Denotational/#plfa_plfa-part3-Denotational-4006" class="InductiveConstructor Operator">↦</a> <a id="plfa_plfa-part3-Denotational-39972" href="../Denotational/#plfa_plfa-part3-Denotational-39932" class="Bound">u₂₂</a> <a id="plfa_plfa-part3-Denotational-39976" href="../Denotational/#plfa_plfa-part3-Denotational-2730" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part3-Denotational-39978" href="../Denotational/#plfa_plfa-part3-Denotational-2730" class="InductiveConstructor Operator">⟨</a> <a id="plfa_plfa-part3-Denotational-39980" class="Symbol">(λ</a> <a id="plfa_plfa-part3-Denotational-39983" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-39984" href="../Denotational/#plfa_plfa-part3-Denotational-39984" class="Bound">w</a><a id="plfa_plfa-part3-Denotational-39985" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-39987" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-39989" href="../Denotational/#plfa_plfa-part3-Denotational-31925" class="InductiveConstructor">fun</a><a id="plfa_plfa-part3-Denotational-39992" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-39994" href="../Denotational/#plfa_plfa-part3-Denotational-2730" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part3-Denotational-39996" href="../Denotational/#plfa_plfa-part3-Denotational-2730" class="InductiveConstructor Operator">⟨</a> <a id="plfa_plfa-part3-Denotational-39998" class="Symbol">(λ</a> <a id="plfa_plfa-part3-Denotational-40001" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-40002" href="../Denotational/#plfa_plfa-part3-Denotational-40002" class="Bound">C</a><a id="plfa_plfa-part3-Denotational-40003" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-40005" href="../Denotational/#plfa_plfa-part3-Denotational-40005" class="Bound">z</a> <a id="plfa_plfa-part3-Denotational-40007" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-40009" href="../Denotational/#plfa_plfa-part3-Denotational-40005" class="Bound">z</a><a id="plfa_plfa-part3-Denotational-40010" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-40012" href="../Denotational/#plfa_plfa-part3-Denotational-2730" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part3-Denotational-40014" href="../Denotational/#plfa_plfa-part3-Denotational-2730" class="InductiveConstructor Operator">⟨</a> <a id="plfa_plfa-part3-Denotational-40016" href="../Denotational/#plfa_plfa-part3-Denotational-39944" class="Bound">lt1</a> <a id="plfa_plfa-part3-Denotational-40020" href="../Denotational/#plfa_plfa-part3-Denotational-2730" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part3-Denotational-40022" href="../Denotational/#plfa_plfa-part3-Denotational-39948" class="Bound">lt2</a> <a id="plfa_plfa-part3-Denotational-40026" href="../Denotational/#plfa_plfa-part3-Denotational-2730" class="InductiveConstructor Operator">⟩</a> <a id="plfa_plfa-part3-Denotational-40028" href="../Denotational/#plfa_plfa-part3-Denotational-2730" class="InductiveConstructor Operator">⟩</a> <a id="plfa_plfa-part3-Denotational-40030" href="../Denotational/#plfa_plfa-part3-Denotational-2730" class="InductiveConstructor Operator">⟩</a> <a id="plfa_plfa-part3-Denotational-40032" href="../Denotational/#plfa_plfa-part3-Denotational-2730" class="InductiveConstructor Operator">⟩</a>
<a id="plfa_plfa-part3-Denotational-40034" href="../Denotational/#plfa_plfa-part3-Denotational-38628" class="Function">sub-inv</a> <a id="plfa_plfa-part3-Denotational-40042" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-40043" href="../Denotational/#plfa_plfa-part3-Denotational-40043" class="Bound">u₂₁</a> <a id="plfa_plfa-part3-Denotational-40047" href="../Denotational/#plfa_plfa-part3-Denotational-4006" class="InductiveConstructor Operator">↦</a> <a id="plfa_plfa-part3-Denotational-40049" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-40050" href="../Denotational/#plfa_plfa-part3-Denotational-40050" class="Bound">u₂₂</a> <a id="plfa_plfa-part3-Denotational-40054" href="../Denotational/#plfa_plfa-part3-Denotational-4036" class="InductiveConstructor Operator">⊔</a> <a id="plfa_plfa-part3-Denotational-40056" href="../Denotational/#plfa_plfa-part3-Denotational-40056" class="Bound">u₂₃</a><a id="plfa_plfa-part3-Denotational-40059" class="Symbol">)}</a> <a id="plfa_plfa-part3-Denotational-40062" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-40063" href="../Denotational/#plfa_plfa-part3-Denotational-40043" class="Bound">u₂₁</a> <a id="plfa_plfa-part3-Denotational-40067" href="../Denotational/#plfa_plfa-part3-Denotational-4006" class="InductiveConstructor Operator">↦</a> <a id="plfa_plfa-part3-Denotational-40069" href="../Denotational/#plfa_plfa-part3-Denotational-40050" class="Bound">u₂₂</a> <a id="plfa_plfa-part3-Denotational-40073" href="../Denotational/#plfa_plfa-part3-Denotational-4036" class="InductiveConstructor Operator">⊔</a> <a id="plfa_plfa-part3-Denotational-40075" href="../Denotational/#plfa_plfa-part3-Denotational-40043" class="Bound">u₂₁</a> <a id="plfa_plfa-part3-Denotational-40079" href="../Denotational/#plfa_plfa-part3-Denotational-4006" class="InductiveConstructor Operator">↦</a> <a id="plfa_plfa-part3-Denotational-40081" href="../Denotational/#plfa_plfa-part3-Denotational-40056" class="Bound">u₂₃</a><a id="plfa_plfa-part3-Denotational-40084" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-40086" href="../Denotational/#plfa_plfa-part3-Denotational-4799" class="InductiveConstructor">⊑-dist</a>
    <a id="plfa_plfa-part3-Denotational-40097" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-40098" class="DottedPattern Symbol">.</a><a id="plfa_plfa-part3-Denotational-40099" href="../Denotational/#plfa_plfa-part3-Denotational-40043" class="DottedPattern Bound">u₂₁</a><a id="plfa_plfa-part3-Denotational-40102" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-40104" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-40105" class="DottedPattern Symbol">.(</a><a id="plfa_plfa-part3-Denotational-40107" href="../Denotational/#plfa_plfa-part3-Denotational-40050" class="DottedPattern Bound">u₂₂</a> <a id="plfa_plfa-part3-Denotational-40111" href="../Denotational/#plfa_plfa-part3-Denotational-4036" class="DottedPattern InductiveConstructor Operator">⊔</a> <a id="plfa_plfa-part3-Denotational-40113" href="../Denotational/#plfa_plfa-part3-Denotational-40056" class="DottedPattern Bound">u₂₃</a><a id="plfa_plfa-part3-Denotational-40116" class="DottedPattern Symbol">)</a><a id="plfa_plfa-part3-Denotational-40117" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-40119" href="https://agda.github.io/agda-stdlib/v1.3/Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a> <a id="plfa_plfa-part3-Denotational-40124" class="Symbol">=</a>
    <a id="plfa_plfa-part3-Denotational-40130" href="../Denotational/#plfa_plfa-part3-Denotational-2730" class="InductiveConstructor Operator">⟨</a> <a id="plfa_plfa-part3-Denotational-40132" href="../Denotational/#plfa_plfa-part3-Denotational-40043" class="Bound">u₂₁</a> <a id="plfa_plfa-part3-Denotational-40136" href="../Denotational/#plfa_plfa-part3-Denotational-4006" class="InductiveConstructor Operator">↦</a> <a id="plfa_plfa-part3-Denotational-40138" href="../Denotational/#plfa_plfa-part3-Denotational-40050" class="Bound">u₂₂</a> <a id="plfa_plfa-part3-Denotational-40142" href="../Denotational/#plfa_plfa-part3-Denotational-4036" class="InductiveConstructor Operator">⊔</a> <a id="plfa_plfa-part3-Denotational-40144" href="../Denotational/#plfa_plfa-part3-Denotational-40043" class="Bound">u₂₁</a> <a id="plfa_plfa-part3-Denotational-40148" href="../Denotational/#plfa_plfa-part3-Denotational-4006" class="InductiveConstructor Operator">↦</a> <a id="plfa_plfa-part3-Denotational-40150" href="../Denotational/#plfa_plfa-part3-Denotational-40056" class="Bound">u₂₃</a> <a id="plfa_plfa-part3-Denotational-40154" href="../Denotational/#plfa_plfa-part3-Denotational-2730" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part3-Denotational-40156" href="../Denotational/#plfa_plfa-part3-Denotational-2730" class="InductiveConstructor Operator">⟨</a> <a id="plfa_plfa-part3-Denotational-40158" href="../Denotational/#plfa_plfa-part3-Denotational-40218" class="Function">f</a> <a id="plfa_plfa-part3-Denotational-40160" href="../Denotational/#plfa_plfa-part3-Denotational-2730" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part3-Denotational-40162" href="../Denotational/#plfa_plfa-part3-Denotational-2730" class="InductiveConstructor Operator">⟨</a> <a id="plfa_plfa-part3-Denotational-40164" href="../Denotational/#plfa_plfa-part3-Denotational-40317" class="Function">g</a> <a id="plfa_plfa-part3-Denotational-40166" href="../Denotational/#plfa_plfa-part3-Denotational-2730" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part3-Denotational-40168" href="../Denotational/#plfa_plfa-part3-Denotational-2730" class="InductiveConstructor Operator">⟨</a> <a id="plfa_plfa-part3-Denotational-40170" href="../Denotational/#plfa_plfa-part3-Denotational-4395" class="InductiveConstructor">⊑-conj-L</a> <a id="plfa_plfa-part3-Denotational-40179" href="../Denotational/#plfa_plfa-part3-Denotational-5469" class="Function">⊑-refl</a> <a id="plfa_plfa-part3-Denotational-40186" href="../Denotational/#plfa_plfa-part3-Denotational-5469" class="Function">⊑-refl</a> <a id="plfa_plfa-part3-Denotational-40193" href="../Denotational/#plfa_plfa-part3-Denotational-2730" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part3-Denotational-40195" href="../Denotational/#plfa_plfa-part3-Denotational-5469" class="Function">⊑-refl</a> <a id="plfa_plfa-part3-Denotational-40202" href="../Denotational/#plfa_plfa-part3-Denotational-2730" class="InductiveConstructor Operator">⟩</a> <a id="plfa_plfa-part3-Denotational-40204" href="../Denotational/#plfa_plfa-part3-Denotational-2730" class="InductiveConstructor Operator">⟩</a> <a id="plfa_plfa-part3-Denotational-40206" href="../Denotational/#plfa_plfa-part3-Denotational-2730" class="InductiveConstructor Operator">⟩</a> <a id="plfa_plfa-part3-Denotational-40208" href="../Denotational/#plfa_plfa-part3-Denotational-2730" class="InductiveConstructor Operator">⟩</a>
  <a id="plfa_plfa-part3-Denotational-40212" class="Keyword">where</a> <a id="plfa_plfa-part3-Denotational-40218" href="../Denotational/#plfa_plfa-part3-Denotational-40218" class="Function">f</a> <a id="plfa_plfa-part3-Denotational-40220" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-40222" href="../Denotational/#plfa_plfa-part3-Denotational-31963" class="Function">all-funs</a> <a id="plfa_plfa-part3-Denotational-40231" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-40232" href="../Denotational/#plfa_plfa-part3-Denotational-40043" class="Bound">u₂₁</a> <a id="plfa_plfa-part3-Denotational-40236" href="../Denotational/#plfa_plfa-part3-Denotational-4006" class="InductiveConstructor Operator">↦</a> <a id="plfa_plfa-part3-Denotational-40238" href="../Denotational/#plfa_plfa-part3-Denotational-40050" class="Bound">u₂₂</a> <a id="plfa_plfa-part3-Denotational-40242" href="../Denotational/#plfa_plfa-part3-Denotational-4036" class="InductiveConstructor Operator">⊔</a> <a id="plfa_plfa-part3-Denotational-40244" href="../Denotational/#plfa_plfa-part3-Denotational-40043" class="Bound">u₂₁</a> <a id="plfa_plfa-part3-Denotational-40248" href="../Denotational/#plfa_plfa-part3-Denotational-4006" class="InductiveConstructor Operator">↦</a> <a id="plfa_plfa-part3-Denotational-40250" href="../Denotational/#plfa_plfa-part3-Denotational-40056" class="Bound">u₂₃</a><a id="plfa_plfa-part3-Denotational-40253" class="Symbol">)</a>
        <a id="plfa_plfa-part3-Denotational-40263" href="../Denotational/#plfa_plfa-part3-Denotational-40218" class="Function">f</a> <a id="plfa_plfa-part3-Denotational-40265" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-40266" href="https://agda.github.io/agda-stdlib/v1.3/Data.Sum.Base.html#778" class="InductiveConstructor">inj₁</a> <a id="plfa_plfa-part3-Denotational-40271" href="../Denotational/#plfa_plfa-part3-Denotational-40271" class="Bound">x</a><a id="plfa_plfa-part3-Denotational-40272" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-40274" class="Symbol">=</a> <a id="plfa_plfa-part3-Denotational-40276" href="../Denotational/#plfa_plfa-part3-Denotational-31925" class="InductiveConstructor">fun</a> <a id="plfa_plfa-part3-Denotational-40280" href="../Denotational/#plfa_plfa-part3-Denotational-40271" class="Bound">x</a>
        <a id="plfa_plfa-part3-Denotational-40290" href="../Denotational/#plfa_plfa-part3-Denotational-40218" class="Function">f</a> <a id="plfa_plfa-part3-Denotational-40292" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-40293" href="https://agda.github.io/agda-stdlib/v1.3/Data.Sum.Base.html#803" class="InductiveConstructor">inj₂</a> <a id="plfa_plfa-part3-Denotational-40298" href="../Denotational/#plfa_plfa-part3-Denotational-40298" class="Bound">y</a><a id="plfa_plfa-part3-Denotational-40299" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-40301" class="Symbol">=</a> <a id="plfa_plfa-part3-Denotational-40303" href="../Denotational/#plfa_plfa-part3-Denotational-31925" class="InductiveConstructor">fun</a> <a id="plfa_plfa-part3-Denotational-40307" href="../Denotational/#plfa_plfa-part3-Denotational-40298" class="Bound">y</a>
        <a id="plfa_plfa-part3-Denotational-40317" href="../Denotational/#plfa_plfa-part3-Denotational-40317" class="Function">g</a> <a id="plfa_plfa-part3-Denotational-40319" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-40321" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-40322" href="../Denotational/#plfa_plfa-part3-Denotational-40043" class="Bound">u₂₁</a> <a id="plfa_plfa-part3-Denotational-40326" href="../Denotational/#plfa_plfa-part3-Denotational-4006" class="InductiveConstructor Operator">↦</a> <a id="plfa_plfa-part3-Denotational-40328" href="../Denotational/#plfa_plfa-part3-Denotational-40050" class="Bound">u₂₂</a> <a id="plfa_plfa-part3-Denotational-40332" href="../Denotational/#plfa_plfa-part3-Denotational-4036" class="InductiveConstructor Operator">⊔</a> <a id="plfa_plfa-part3-Denotational-40334" href="../Denotational/#plfa_plfa-part3-Denotational-40043" class="Bound">u₂₁</a> <a id="plfa_plfa-part3-Denotational-40338" href="../Denotational/#plfa_plfa-part3-Denotational-4006" class="InductiveConstructor Operator">↦</a> <a id="plfa_plfa-part3-Denotational-40340" href="../Denotational/#plfa_plfa-part3-Denotational-40056" class="Bound">u₂₃</a><a id="plfa_plfa-part3-Denotational-40343" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-40345" href="../Denotational/#plfa_plfa-part3-Denotational-30287" class="Function Operator">⊆</a> <a id="plfa_plfa-part3-Denotational-40347" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-40348" href="../Denotational/#plfa_plfa-part3-Denotational-40043" class="Bound">u₂₁</a> <a id="plfa_plfa-part3-Denotational-40352" href="../Denotational/#plfa_plfa-part3-Denotational-4006" class="InductiveConstructor Operator">↦</a> <a id="plfa_plfa-part3-Denotational-40354" href="../Denotational/#plfa_plfa-part3-Denotational-40050" class="Bound">u₂₂</a> <a id="plfa_plfa-part3-Denotational-40358" href="../Denotational/#plfa_plfa-part3-Denotational-4036" class="InductiveConstructor Operator">⊔</a> <a id="plfa_plfa-part3-Denotational-40360" href="../Denotational/#plfa_plfa-part3-Denotational-40043" class="Bound">u₂₁</a> <a id="plfa_plfa-part3-Denotational-40364" href="../Denotational/#plfa_plfa-part3-Denotational-4006" class="InductiveConstructor Operator">↦</a> <a id="plfa_plfa-part3-Denotational-40366" href="../Denotational/#plfa_plfa-part3-Denotational-40056" class="Bound">u₂₃</a><a id="plfa_plfa-part3-Denotational-40369" class="Symbol">)</a>
        <a id="plfa_plfa-part3-Denotational-40379" href="../Denotational/#plfa_plfa-part3-Denotational-40317" class="Function">g</a> <a id="plfa_plfa-part3-Denotational-40381" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-40382" href="https://agda.github.io/agda-stdlib/v1.3/Data.Sum.Base.html#778" class="InductiveConstructor">inj₁</a> <a id="plfa_plfa-part3-Denotational-40387" href="../Denotational/#plfa_plfa-part3-Denotational-40387" class="Bound">x</a><a id="plfa_plfa-part3-Denotational-40388" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-40390" class="Symbol">=</a> <a id="plfa_plfa-part3-Denotational-40392" href="https://agda.github.io/agda-stdlib/v1.3/Data.Sum.Base.html#778" class="InductiveConstructor">inj₁</a> <a id="plfa_plfa-part3-Denotational-40397" href="../Denotational/#plfa_plfa-part3-Denotational-40387" class="Bound">x</a>
        <a id="plfa_plfa-part3-Denotational-40407" href="../Denotational/#plfa_plfa-part3-Denotational-40317" class="Function">g</a> <a id="plfa_plfa-part3-Denotational-40409" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-40410" href="https://agda.github.io/agda-stdlib/v1.3/Data.Sum.Base.html#803" class="InductiveConstructor">inj₂</a> <a id="plfa_plfa-part3-Denotational-40415" href="../Denotational/#plfa_plfa-part3-Denotational-40415" class="Bound">y</a><a id="plfa_plfa-part3-Denotational-40416" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-40418" class="Symbol">=</a> <a id="plfa_plfa-part3-Denotational-40420" href="https://agda.github.io/agda-stdlib/v1.3/Data.Sum.Base.html#803" class="InductiveConstructor">inj₂</a> <a id="plfa_plfa-part3-Denotational-40425" href="../Denotational/#plfa_plfa-part3-Denotational-40415" class="Bound">y</a>
</pre><p>Let <code>v</code> and <code>w</code> be arbitrary values.</p><ul><li><p>Case <code>⊑-bot</code>. So <code>u₁ ≡ ⊥</code>. We have <code>v ↦ w ∈ ⊥</code>, but that is impossible.</p></li><li><p>Case <code>⊑-conj-L</code>.</p><pre><code>  u₁₁ ⊑ u₂   u₁₂ ⊑ u₂
  -------------------
  u₁₁ ⊔ u₁₂ ⊑ u₂</code></pre><p>Given that <code>v ↦ w ∈ u₁₁ ⊔ u₁₂</code>, there are two subcases to consider.</p><ul><li><p>Subcase <code>v ↦ w ∈ u₁₁</code>. We conclude by the induction hypothesis for <code>u₁₁ ⊑ u₂</code>.</p></li><li><p>Subcase <code>v ↦ w ∈ u₁₂</code>. We conclude by the induction hypothesis for <code>u₁₂ ⊑ u₂</code>.</p></li></ul></li><li><p>Case <code>⊑-conj-R1</code>.</p><pre><code>  u₁ ⊑ u₂₁
  --------------
  u₁ ⊑ u₂₁ ⊔ u₂₂</code></pre><p>Given that <code>v ↦ w ∈ u₁</code>, the induction hypothesis for <code>u₁ ⊑ u₂₁</code> gives us that <code>v ↦ w</code> factors <code>u₂₁</code> into <code>u₃₁</code> for some <code>u₃₁</code>. To show that <code>v ↦ w</code> also factors <code>u₂₁ ⊔ u₂₂</code> into <code>u₃₁</code>, we just need to show that <code>u₃₁ ⊆ u₂₁ ⊔ u₂₂</code>, but that follows directly from <code>u₃₁ ⊆ u₂₁</code>.</p></li><li><p>Case <code>⊑-conj-R2</code>. This case follows by reasoning similar to the case for <code>⊑-conj-R1</code>.</p></li><li><p>Case <code>⊑-trans</code>.</p><pre><code>  u₁ ⊑ u   u ⊑ u₂
  ---------------
      u₁ ⊑ u₂</code></pre><p>By the induction hypothesis for <code>u₁ ⊑ u</code>, we know that <code>v ↦ w</code> factors <code>u</code> into <code>u′</code>, for some value <code>u′</code>, so we have <code>all-funs u′</code> and <code>u′ ⊆ u</code>. By the induction hypothesis for <code>u ⊑ u₂</code>, we know that for any <code>v′ ↦ w′ ∈ u</code>, <code>v′ ↦ w′</code> factors <code>u₂</code>. Now we apply the lemma sub-inv-trans, which gives us some <code>u₃</code> such that <code>(⨆dom u′) ↦ (⨆cod u′)</code> factors <code>u₂</code> into <code>u₃</code>. We show that <code>v ↦ w</code> also factors <code>u₂</code> into <code>u₃</code>. From <code>⨆dom u₃ ⊑ ⨆dom u′</code> and <code>⨆dom u′ ⊑ v</code>, we have <code>⨆dom u₃ ⊑ v</code>. From <code>w ⊑ ⨆cod u′</code> and <code>⨆cod u′ ⊑ ⨆cod u₃</code>, we have <code>w ⊑ ⨆cod u₃</code>, and this case is complete.</p></li><li><p>Case <code>⊑-fun</code>.</p><pre><code>  u₂₁ ⊑ u₁₁  u₁₂ ⊑ u₂₂
  ---------------------
  u₁₁ ↦ u₁₂ ⊑ u₂₁ ↦ u₂₂</code></pre><p>Given that <code>v ↦ w ∈ u₁₁ ↦ u₁₂</code>, we have <code>v ≡ u₁₁</code> and <code>w ≡ u₁₂</code>. We show that <code>u₁₁ ↦ u₁₂</code> factors <code>u₂₁ ↦ u₂₂</code> into itself. We need to show that <code>⨆dom (u₂₁ ↦ u₂₂) ⊑ u₁₁</code> and <code>u₁₂ ⊑ ⨆cod (u₂₁ ↦ u₂₂)</code>, but that is equivalent to our premises <code>u₂₁ ⊑ u₁₁</code> and <code>u₁₂ ⊑ u₂₂</code>.</p></li><li><p>Case <code>⊑-dist</code>.</p><pre><code>  ---------------------------------------------
  u₂₁ ↦ (u₂₂ ⊔ u₂₃) ⊑ (u₂₁ ↦ u₂₂) ⊔ (u₂₁ ↦ u₂₃)</code></pre><p>Given that <code>v ↦ w ∈ u₂₁ ↦ (u₂₂ ⊔ u₂₃)</code>, we have <code>v ≡ u₂₁</code> and <code>w ≡ u₂₂ ⊔ u₂₃</code>. We show that <code>u₂₁ ↦ (u₂₂ ⊔ u₂₃)</code> factors <code>(u₂₁ ↦ u₂₂) ⊔ (u₂₁ ↦ u₂₃)</code> into itself. We have <code>u₂₁ ⊔ u₂₁ ⊑ u₂₁</code>, and also <code>u₂₂ ⊔ u₂₃ ⊑ u₂₂ ⊔ u₂₃</code>, so the proof is complete.</p></li></ul><p>We conclude this section with two corollaries of the sub-inv lemma. First, we have the following property that is convenient to use in later proofs. We specialize the premise to just <code>v ↦ w ⊑ u₁</code> and we modify the conclusion to say that for every <code>v′ ↦ w′ ∈ u₂</code>, we have <code>v′ ⊑ v</code>.</p><pre class="Agda"><a id="plfa_plfa-part3-Denotational-sub-inv-fun"></a><a id="plfa_plfa-part3-Denotational-43105" href="../Denotational/#plfa_plfa-part3-Denotational-43105" class="Function">sub-inv-fun</a> <a id="plfa_plfa-part3-Denotational-43117" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-43119" class="Symbol">∀{</a><a id="plfa_plfa-part3-Denotational-43121" href="../Denotational/#plfa_plfa-part3-Denotational-43121" class="Bound">v</a> <a id="plfa_plfa-part3-Denotational-43123" href="../Denotational/#plfa_plfa-part3-Denotational-43123" class="Bound">w</a> <a id="plfa_plfa-part3-Denotational-43125" href="../Denotational/#plfa_plfa-part3-Denotational-43125" class="Bound">u₁</a> <a id="plfa_plfa-part3-Denotational-43128" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-43130" href="../Denotational/#plfa_plfa-part3-Denotational-3974" class="Datatype">Value</a><a id="plfa_plfa-part3-Denotational-43135" class="Symbol">}</a>
    <a id="plfa_plfa-part3-Denotational-43141" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-43143" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-43144" href="../Denotational/#plfa_plfa-part3-Denotational-43121" class="Bound">v</a> <a id="plfa_plfa-part3-Denotational-43146" href="../Denotational/#plfa_plfa-part3-Denotational-4006" class="InductiveConstructor Operator">↦</a> <a id="plfa_plfa-part3-Denotational-43148" href="../Denotational/#plfa_plfa-part3-Denotational-43123" class="Bound">w</a><a id="plfa_plfa-part3-Denotational-43149" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-43151" href="../Denotational/#plfa_plfa-part3-Denotational-4335" class="Datatype Operator">⊑</a> <a id="plfa_plfa-part3-Denotational-43153" href="../Denotational/#plfa_plfa-part3-Denotational-43125" class="Bound">u₁</a>
      <a id="plfa_plfa-part3-Denotational-43162" class="Comment">-----------------------------------------------------</a>
    <a id="plfa_plfa-part3-Denotational-43220" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-43222" href="https://agda.github.io/agda-stdlib/v1.3/Data.Product.html#916" class="Function">Σ[</a> <a id="plfa_plfa-part3-Denotational-43225" href="../Denotational/#plfa_plfa-part3-Denotational-43225" class="Bound">u₂</a> <a id="plfa_plfa-part3-Denotational-43228" href="https://agda.github.io/agda-stdlib/v1.3/Data.Product.html#916" class="Function">∈</a> <a id="plfa_plfa-part3-Denotational-43230" href="../Denotational/#plfa_plfa-part3-Denotational-3974" class="Datatype">Value</a> <a id="plfa_plfa-part3-Denotational-43236" href="https://agda.github.io/agda-stdlib/v1.3/Data.Product.html#916" class="Function">]</a> <a id="plfa_plfa-part3-Denotational-43238" href="../Denotational/#plfa_plfa-part3-Denotational-31963" class="Function">all-funs</a> <a id="plfa_plfa-part3-Denotational-43247" href="../Denotational/#plfa_plfa-part3-Denotational-43225" class="Bound">u₂</a> <a id="plfa_plfa-part3-Denotational-43250" href="https://agda.github.io/agda-stdlib/v1.3/Data.Product.html#1167" class="Function Operator">×</a> <a id="plfa_plfa-part3-Denotational-43252" href="../Denotational/#plfa_plfa-part3-Denotational-43225" class="Bound">u₂</a> <a id="plfa_plfa-part3-Denotational-43255" href="../Denotational/#plfa_plfa-part3-Denotational-30287" class="Function Operator">⊆</a> <a id="plfa_plfa-part3-Denotational-43257" href="../Denotational/#plfa_plfa-part3-Denotational-43125" class="Bound">u₁</a>
        <a id="plfa_plfa-part3-Denotational-43268" href="https://agda.github.io/agda-stdlib/v1.3/Data.Product.html#1167" class="Function Operator">×</a> <a id="plfa_plfa-part3-Denotational-43270" class="Symbol">(∀{</a><a id="plfa_plfa-part3-Denotational-43273" href="../Denotational/#plfa_plfa-part3-Denotational-43273" class="Bound">v′</a> <a id="plfa_plfa-part3-Denotational-43276" href="../Denotational/#plfa_plfa-part3-Denotational-43276" class="Bound">w′</a><a id="plfa_plfa-part3-Denotational-43278" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-43280" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-43282" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-43283" href="../Denotational/#plfa_plfa-part3-Denotational-43273" class="Bound">v′</a> <a id="plfa_plfa-part3-Denotational-43286" href="../Denotational/#plfa_plfa-part3-Denotational-4006" class="InductiveConstructor Operator">↦</a> <a id="plfa_plfa-part3-Denotational-43288" href="../Denotational/#plfa_plfa-part3-Denotational-43276" class="Bound">w′</a><a id="plfa_plfa-part3-Denotational-43290" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-43292" href="../Denotational/#plfa_plfa-part3-Denotational-30037" class="Function Operator">∈</a> <a id="plfa_plfa-part3-Denotational-43294" href="../Denotational/#plfa_plfa-part3-Denotational-43225" class="Bound">u₂</a> <a id="plfa_plfa-part3-Denotational-43297" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-43299" href="../Denotational/#plfa_plfa-part3-Denotational-43273" class="Bound">v′</a> <a id="plfa_plfa-part3-Denotational-43302" href="../Denotational/#plfa_plfa-part3-Denotational-4335" class="Datatype Operator">⊑</a> <a id="plfa_plfa-part3-Denotational-43304" href="../Denotational/#plfa_plfa-part3-Denotational-43121" class="Bound">v</a><a id="plfa_plfa-part3-Denotational-43305" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-43307" href="https://agda.github.io/agda-stdlib/v1.3/Data.Product.html#1167" class="Function Operator">×</a> <a id="plfa_plfa-part3-Denotational-43309" href="../Denotational/#plfa_plfa-part3-Denotational-43123" class="Bound">w</a> <a id="plfa_plfa-part3-Denotational-43311" href="../Denotational/#plfa_plfa-part3-Denotational-4335" class="Datatype Operator">⊑</a> <a id="plfa_plfa-part3-Denotational-43313" href="../Denotational/#plfa_plfa-part3-Denotational-33175" class="Function">⨆cod</a> <a id="plfa_plfa-part3-Denotational-43318" href="../Denotational/#plfa_plfa-part3-Denotational-43225" class="Bound">u₂</a>
<a id="plfa_plfa-part3-Denotational-43321" href="../Denotational/#plfa_plfa-part3-Denotational-43105" class="Function">sub-inv-fun</a><a id="plfa_plfa-part3-Denotational-43332" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-43333" href="../Denotational/#plfa_plfa-part3-Denotational-43333" class="Bound">v</a><a id="plfa_plfa-part3-Denotational-43334" class="Symbol">}{</a><a id="plfa_plfa-part3-Denotational-43336" href="../Denotational/#plfa_plfa-part3-Denotational-43336" class="Bound">w</a><a id="plfa_plfa-part3-Denotational-43337" class="Symbol">}{</a><a id="plfa_plfa-part3-Denotational-43339" href="../Denotational/#plfa_plfa-part3-Denotational-43339" class="Bound">u₁</a><a id="plfa_plfa-part3-Denotational-43341" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-43343" href="../Denotational/#plfa_plfa-part3-Denotational-43343" class="Bound">abc</a>
    <a id="plfa_plfa-part3-Denotational-43351" class="Keyword">with</a> <a id="plfa_plfa-part3-Denotational-43356" href="../Denotational/#plfa_plfa-part3-Denotational-38628" class="Function">sub-inv</a> <a id="plfa_plfa-part3-Denotational-43364" href="../Denotational/#plfa_plfa-part3-Denotational-43343" class="Bound">abc</a> <a id="plfa_plfa-part3-Denotational-43368" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-43369" href="../Denotational/#plfa_plfa-part3-Denotational-43333" class="Bound">v</a><a id="plfa_plfa-part3-Denotational-43370" class="Symbol">}{</a><a id="plfa_plfa-part3-Denotational-43372" href="../Denotational/#plfa_plfa-part3-Denotational-43336" class="Bound">w</a><a id="plfa_plfa-part3-Denotational-43373" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-43375" href="https://agda.github.io/agda-stdlib/v1.3/Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a>
<a id="plfa_plfa-part3-Denotational-43380" class="Symbol">...</a> <a id="plfa_plfa-part3-Denotational-43384" class="Symbol">|</a> <a id="plfa_plfa-part3-Denotational-43386" href="../Denotational/#plfa_plfa-part3-Denotational-2730" class="InductiveConstructor Operator">⟨</a> <a id="plfa_plfa-part3-Denotational-43388" href="../Denotational/#plfa_plfa-part3-Denotational-43388" class="Bound">u₂</a> <a id="plfa_plfa-part3-Denotational-43391" href="../Denotational/#plfa_plfa-part3-Denotational-2730" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part3-Denotational-43393" href="../Denotational/#plfa_plfa-part3-Denotational-2730" class="InductiveConstructor Operator">⟨</a> <a id="plfa_plfa-part3-Denotational-43395" href="../Denotational/#plfa_plfa-part3-Denotational-43395" class="Bound">f</a> <a id="plfa_plfa-part3-Denotational-43397" href="../Denotational/#plfa_plfa-part3-Denotational-2730" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part3-Denotational-43399" href="../Denotational/#plfa_plfa-part3-Denotational-2730" class="InductiveConstructor Operator">⟨</a> <a id="plfa_plfa-part3-Denotational-43401" href="../Denotational/#plfa_plfa-part3-Denotational-43401" class="Bound">u₂⊆u₁</a> <a id="plfa_plfa-part3-Denotational-43407" href="../Denotational/#plfa_plfa-part3-Denotational-2730" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part3-Denotational-43409" href="../Denotational/#plfa_plfa-part3-Denotational-2730" class="InductiveConstructor Operator">⟨</a> <a id="plfa_plfa-part3-Denotational-43411" href="../Denotational/#plfa_plfa-part3-Denotational-43411" class="Bound">db</a> <a id="plfa_plfa-part3-Denotational-43414" href="../Denotational/#plfa_plfa-part3-Denotational-2730" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part3-Denotational-43416" href="../Denotational/#plfa_plfa-part3-Denotational-43416" class="Bound">cc</a> <a id="plfa_plfa-part3-Denotational-43419" href="../Denotational/#plfa_plfa-part3-Denotational-2730" class="InductiveConstructor Operator">⟩</a> <a id="plfa_plfa-part3-Denotational-43421" href="../Denotational/#plfa_plfa-part3-Denotational-2730" class="InductiveConstructor Operator">⟩</a> <a id="plfa_plfa-part3-Denotational-43423" href="../Denotational/#plfa_plfa-part3-Denotational-2730" class="InductiveConstructor Operator">⟩</a> <a id="plfa_plfa-part3-Denotational-43425" href="../Denotational/#plfa_plfa-part3-Denotational-2730" class="InductiveConstructor Operator">⟩</a> <a id="plfa_plfa-part3-Denotational-43427" class="Symbol">=</a>
      <a id="plfa_plfa-part3-Denotational-43435" href="../Denotational/#plfa_plfa-part3-Denotational-2730" class="InductiveConstructor Operator">⟨</a> <a id="plfa_plfa-part3-Denotational-43437" href="../Denotational/#plfa_plfa-part3-Denotational-43388" class="Bound">u₂</a> <a id="plfa_plfa-part3-Denotational-43440" href="../Denotational/#plfa_plfa-part3-Denotational-2730" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part3-Denotational-43442" href="../Denotational/#plfa_plfa-part3-Denotational-2730" class="InductiveConstructor Operator">⟨</a> <a id="plfa_plfa-part3-Denotational-43444" href="../Denotational/#plfa_plfa-part3-Denotational-43395" class="Bound">f</a> <a id="plfa_plfa-part3-Denotational-43446" href="../Denotational/#plfa_plfa-part3-Denotational-2730" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part3-Denotational-43448" href="../Denotational/#plfa_plfa-part3-Denotational-2730" class="InductiveConstructor Operator">⟨</a> <a id="plfa_plfa-part3-Denotational-43450" href="../Denotational/#plfa_plfa-part3-Denotational-43401" class="Bound">u₂⊆u₁</a> <a id="plfa_plfa-part3-Denotational-43456" href="../Denotational/#plfa_plfa-part3-Denotational-2730" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part3-Denotational-43458" href="../Denotational/#plfa_plfa-part3-Denotational-2730" class="InductiveConstructor Operator">⟨</a> <a id="plfa_plfa-part3-Denotational-43460" href="../Denotational/#plfa_plfa-part3-Denotational-43484" class="Function">G</a> <a id="plfa_plfa-part3-Denotational-43462" href="../Denotational/#plfa_plfa-part3-Denotational-2730" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part3-Denotational-43464" href="../Denotational/#plfa_plfa-part3-Denotational-43416" class="Bound">cc</a> <a id="plfa_plfa-part3-Denotational-43467" href="../Denotational/#plfa_plfa-part3-Denotational-2730" class="InductiveConstructor Operator">⟩</a> <a id="plfa_plfa-part3-Denotational-43469" href="../Denotational/#plfa_plfa-part3-Denotational-2730" class="InductiveConstructor Operator">⟩</a> <a id="plfa_plfa-part3-Denotational-43471" href="../Denotational/#plfa_plfa-part3-Denotational-2730" class="InductiveConstructor Operator">⟩</a> <a id="plfa_plfa-part3-Denotational-43473" href="../Denotational/#plfa_plfa-part3-Denotational-2730" class="InductiveConstructor Operator">⟩</a>
   <a id="plfa_plfa-part3-Denotational-43478" class="Keyword">where</a> <a id="plfa_plfa-part3-Denotational-43484" href="../Denotational/#plfa_plfa-part3-Denotational-43484" class="Function">G</a> <a id="plfa_plfa-part3-Denotational-43486" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-43488" class="Symbol">∀{</a><a id="plfa_plfa-part3-Denotational-43490" href="../Denotational/#plfa_plfa-part3-Denotational-43490" class="Bound">D</a> <a id="plfa_plfa-part3-Denotational-43492" href="../Denotational/#plfa_plfa-part3-Denotational-43492" class="Bound">E</a><a id="plfa_plfa-part3-Denotational-43493" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-43495" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-43497" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-43498" href="../Denotational/#plfa_plfa-part3-Denotational-43490" class="Bound">D</a> <a id="plfa_plfa-part3-Denotational-43500" href="../Denotational/#plfa_plfa-part3-Denotational-4006" class="InductiveConstructor Operator">↦</a> <a id="plfa_plfa-part3-Denotational-43502" href="../Denotational/#plfa_plfa-part3-Denotational-43492" class="Bound">E</a><a id="plfa_plfa-part3-Denotational-43503" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-43505" href="../Denotational/#plfa_plfa-part3-Denotational-30037" class="Function Operator">∈</a> <a id="plfa_plfa-part3-Denotational-43507" href="../Denotational/#plfa_plfa-part3-Denotational-43388" class="Bound">u₂</a> <a id="plfa_plfa-part3-Denotational-43510" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-43512" href="../Denotational/#plfa_plfa-part3-Denotational-43490" class="Bound">D</a> <a id="plfa_plfa-part3-Denotational-43514" href="../Denotational/#plfa_plfa-part3-Denotational-4335" class="Datatype Operator">⊑</a> <a id="plfa_plfa-part3-Denotational-43516" class="Bound">v</a>
         <a id="plfa_plfa-part3-Denotational-43527" href="../Denotational/#plfa_plfa-part3-Denotational-43484" class="Function">G</a><a id="plfa_plfa-part3-Denotational-43528" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-43529" href="../Denotational/#plfa_plfa-part3-Denotational-43529" class="Bound">D</a><a id="plfa_plfa-part3-Denotational-43530" class="Symbol">}{</a><a id="plfa_plfa-part3-Denotational-43532" href="../Denotational/#plfa_plfa-part3-Denotational-43532" class="Bound">E</a><a id="plfa_plfa-part3-Denotational-43533" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-43535" href="../Denotational/#plfa_plfa-part3-Denotational-43535" class="Bound">m</a> <a id="plfa_plfa-part3-Denotational-43537" class="Symbol">=</a> <a id="plfa_plfa-part3-Denotational-43539" href="../Denotational/#plfa_plfa-part3-Denotational-4625" class="InductiveConstructor">⊑-trans</a> <a id="plfa_plfa-part3-Denotational-43547" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-43548" href="../Denotational/#plfa_plfa-part3-Denotational-30762" class="Function">⊆→⊑</a> <a id="plfa_plfa-part3-Denotational-43552" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-43553" href="../Denotational/#plfa_plfa-part3-Denotational-33468" class="Function">↦∈→⊆⨆dom</a> <a id="plfa_plfa-part3-Denotational-43562" href="../Denotational/#plfa_plfa-part3-Denotational-43395" class="Bound">f</a> <a id="plfa_plfa-part3-Denotational-43564" href="../Denotational/#plfa_plfa-part3-Denotational-43535" class="Bound">m</a><a id="plfa_plfa-part3-Denotational-43565" class="Symbol">))</a> <a id="plfa_plfa-part3-Denotational-43568" href="../Denotational/#plfa_plfa-part3-Denotational-43411" class="Bound">db</a>
</pre><p>The second corollary is the inversion rule that one would expect for less-than with functions on the left and right-hand sides.</p><pre class="Agda"><a id="plfa_plfa-part3-Denotational-↦⊑↦-inv"></a><a id="plfa_plfa-part3-Denotational-43713" href="../Denotational/#plfa_plfa-part3-Denotational-43713" class="Function">↦⊑↦-inv</a> <a id="plfa_plfa-part3-Denotational-43721" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-43723" class="Symbol">∀{</a><a id="plfa_plfa-part3-Denotational-43725" href="../Denotational/#plfa_plfa-part3-Denotational-43725" class="Bound">v</a> <a id="plfa_plfa-part3-Denotational-43727" href="../Denotational/#plfa_plfa-part3-Denotational-43727" class="Bound">w</a> <a id="plfa_plfa-part3-Denotational-43729" href="../Denotational/#plfa_plfa-part3-Denotational-43729" class="Bound">v′</a> <a id="plfa_plfa-part3-Denotational-43732" href="../Denotational/#plfa_plfa-part3-Denotational-43732" class="Bound">w′</a><a id="plfa_plfa-part3-Denotational-43734" class="Symbol">}</a>
        <a id="plfa_plfa-part3-Denotational-43744" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-43746" href="../Denotational/#plfa_plfa-part3-Denotational-43725" class="Bound">v</a> <a id="plfa_plfa-part3-Denotational-43748" href="../Denotational/#plfa_plfa-part3-Denotational-4006" class="InductiveConstructor Operator">↦</a> <a id="plfa_plfa-part3-Denotational-43750" href="../Denotational/#plfa_plfa-part3-Denotational-43727" class="Bound">w</a> <a id="plfa_plfa-part3-Denotational-43752" href="../Denotational/#plfa_plfa-part3-Denotational-4335" class="Datatype Operator">⊑</a> <a id="plfa_plfa-part3-Denotational-43754" href="../Denotational/#plfa_plfa-part3-Denotational-43729" class="Bound">v′</a> <a id="plfa_plfa-part3-Denotational-43757" href="../Denotational/#plfa_plfa-part3-Denotational-4006" class="InductiveConstructor Operator">↦</a> <a id="plfa_plfa-part3-Denotational-43759" href="../Denotational/#plfa_plfa-part3-Denotational-43732" class="Bound">w′</a>
          <a id="plfa_plfa-part3-Denotational-43772" class="Comment">-----------------</a>
        <a id="plfa_plfa-part3-Denotational-43798" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-43800" href="../Denotational/#plfa_plfa-part3-Denotational-43729" class="Bound">v′</a> <a id="plfa_plfa-part3-Denotational-43803" href="../Denotational/#plfa_plfa-part3-Denotational-4335" class="Datatype Operator">⊑</a> <a id="plfa_plfa-part3-Denotational-43805" href="../Denotational/#plfa_plfa-part3-Denotational-43725" class="Bound">v</a> <a id="plfa_plfa-part3-Denotational-43807" href="https://agda.github.io/agda-stdlib/v1.3/Data.Product.html#1167" class="Function Operator">×</a> <a id="plfa_plfa-part3-Denotational-43809" href="../Denotational/#plfa_plfa-part3-Denotational-43727" class="Bound">w</a> <a id="plfa_plfa-part3-Denotational-43811" href="../Denotational/#plfa_plfa-part3-Denotational-4335" class="Datatype Operator">⊑</a> <a id="plfa_plfa-part3-Denotational-43813" href="../Denotational/#plfa_plfa-part3-Denotational-43732" class="Bound">w′</a>
<a id="plfa_plfa-part3-Denotational-43816" href="../Denotational/#plfa_plfa-part3-Denotational-43713" class="Function">↦⊑↦-inv</a><a id="plfa_plfa-part3-Denotational-43823" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-43824" href="../Denotational/#plfa_plfa-part3-Denotational-43824" class="Bound">v</a><a id="plfa_plfa-part3-Denotational-43825" class="Symbol">}{</a><a id="plfa_plfa-part3-Denotational-43827" href="../Denotational/#plfa_plfa-part3-Denotational-43827" class="Bound">w</a><a id="plfa_plfa-part3-Denotational-43828" class="Symbol">}{</a><a id="plfa_plfa-part3-Denotational-43830" href="../Denotational/#plfa_plfa-part3-Denotational-43830" class="Bound">v′</a><a id="plfa_plfa-part3-Denotational-43832" class="Symbol">}{</a><a id="plfa_plfa-part3-Denotational-43834" href="../Denotational/#plfa_plfa-part3-Denotational-43834" class="Bound">w′</a><a id="plfa_plfa-part3-Denotational-43836" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-43838" href="../Denotational/#plfa_plfa-part3-Denotational-43838" class="Bound">lt</a>
    <a id="plfa_plfa-part3-Denotational-43845" class="Keyword">with</a> <a id="plfa_plfa-part3-Denotational-43850" href="../Denotational/#plfa_plfa-part3-Denotational-43105" class="Function">sub-inv-fun</a> <a id="plfa_plfa-part3-Denotational-43862" href="../Denotational/#plfa_plfa-part3-Denotational-43838" class="Bound">lt</a>
<a id="plfa_plfa-part3-Denotational-43865" class="Symbol">...</a> <a id="plfa_plfa-part3-Denotational-43869" class="Symbol">|</a> <a id="plfa_plfa-part3-Denotational-43871" href="../Denotational/#plfa_plfa-part3-Denotational-2730" class="InductiveConstructor Operator">⟨</a> <a id="plfa_plfa-part3-Denotational-43873" href="../Denotational/#plfa_plfa-part3-Denotational-43873" class="Bound">Γ</a> <a id="plfa_plfa-part3-Denotational-43875" href="../Denotational/#plfa_plfa-part3-Denotational-2730" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part3-Denotational-43877" href="../Denotational/#plfa_plfa-part3-Denotational-2730" class="InductiveConstructor Operator">⟨</a> <a id="plfa_plfa-part3-Denotational-43879" href="../Denotational/#plfa_plfa-part3-Denotational-43879" class="Bound">f</a> <a id="plfa_plfa-part3-Denotational-43881" href="../Denotational/#plfa_plfa-part3-Denotational-2730" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part3-Denotational-43883" href="../Denotational/#plfa_plfa-part3-Denotational-2730" class="InductiveConstructor Operator">⟨</a> <a id="plfa_plfa-part3-Denotational-43885" href="../Denotational/#plfa_plfa-part3-Denotational-43885" class="Bound">Γ⊆v34</a> <a id="plfa_plfa-part3-Denotational-43891" href="../Denotational/#plfa_plfa-part3-Denotational-2730" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part3-Denotational-43893" href="../Denotational/#plfa_plfa-part3-Denotational-2730" class="InductiveConstructor Operator">⟨</a> <a id="plfa_plfa-part3-Denotational-43895" href="../Denotational/#plfa_plfa-part3-Denotational-43895" class="Bound">lt1</a> <a id="plfa_plfa-part3-Denotational-43899" href="../Denotational/#plfa_plfa-part3-Denotational-2730" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part3-Denotational-43901" href="../Denotational/#plfa_plfa-part3-Denotational-43901" class="Bound">lt2</a> <a id="plfa_plfa-part3-Denotational-43905" href="../Denotational/#plfa_plfa-part3-Denotational-2730" class="InductiveConstructor Operator">⟩</a> <a id="plfa_plfa-part3-Denotational-43907" href="../Denotational/#plfa_plfa-part3-Denotational-2730" class="InductiveConstructor Operator">⟩</a> <a id="plfa_plfa-part3-Denotational-43909" href="../Denotational/#plfa_plfa-part3-Denotational-2730" class="InductiveConstructor Operator">⟩</a> <a id="plfa_plfa-part3-Denotational-43911" href="../Denotational/#plfa_plfa-part3-Denotational-2730" class="InductiveConstructor Operator">⟩</a>
    <a id="plfa_plfa-part3-Denotational-43917" class="Keyword">with</a> <a id="plfa_plfa-part3-Denotational-43922" href="../Denotational/#plfa_plfa-part3-Denotational-32281" class="Function">all-funs∈</a> <a id="plfa_plfa-part3-Denotational-43932" href="../Denotational/#plfa_plfa-part3-Denotational-43879" class="Bound">f</a>
<a id="plfa_plfa-part3-Denotational-43934" class="Symbol">...</a> <a id="plfa_plfa-part3-Denotational-43938" class="Symbol">|</a> <a id="plfa_plfa-part3-Denotational-43940" href="../Denotational/#plfa_plfa-part3-Denotational-2730" class="InductiveConstructor Operator">⟨</a> <a id="plfa_plfa-part3-Denotational-43942" href="../Denotational/#plfa_plfa-part3-Denotational-43942" class="Bound">u</a> <a id="plfa_plfa-part3-Denotational-43944" href="../Denotational/#plfa_plfa-part3-Denotational-2730" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part3-Denotational-43946" href="../Denotational/#plfa_plfa-part3-Denotational-2730" class="InductiveConstructor Operator">⟨</a> <a id="plfa_plfa-part3-Denotational-43948" href="../Denotational/#plfa_plfa-part3-Denotational-43948" class="Bound">u′</a> <a id="plfa_plfa-part3-Denotational-43951" href="../Denotational/#plfa_plfa-part3-Denotational-2730" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part3-Denotational-43953" href="../Denotational/#plfa_plfa-part3-Denotational-43953" class="Bound">u↦u′∈Γ</a> <a id="plfa_plfa-part3-Denotational-43960" href="../Denotational/#plfa_plfa-part3-Denotational-2730" class="InductiveConstructor Operator">⟩</a> <a id="plfa_plfa-part3-Denotational-43962" href="../Denotational/#plfa_plfa-part3-Denotational-2730" class="InductiveConstructor Operator">⟩</a>
    <a id="plfa_plfa-part3-Denotational-43968" class="Keyword">with</a> <a id="plfa_plfa-part3-Denotational-43973" class="Bound">Γ⊆v34</a> <a id="plfa_plfa-part3-Denotational-43979" href="../Denotational/#plfa_plfa-part3-Denotational-43953" class="Bound">u↦u′∈Γ</a>
<a id="plfa_plfa-part3-Denotational-43986" class="Symbol">...</a> <a id="plfa_plfa-part3-Denotational-43990" class="Symbol">|</a> <a id="plfa_plfa-part3-Denotational-43992" href="https://agda.github.io/agda-stdlib/v1.3/Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a> <a id="plfa_plfa-part3-Denotational-43997" class="Symbol">=</a>
  <a id="plfa_plfa-part3-Denotational-44001" class="Keyword">let</a> <a id="plfa_plfa-part3-Denotational-44005" href="../Denotational/#plfa_plfa-part3-Denotational-44005" class="Bound">⨆codΓ⊆w′</a> <a id="plfa_plfa-part3-Denotational-44014" class="Symbol">=</a> <a id="plfa_plfa-part3-Denotational-44016" href="../Denotational/#plfa_plfa-part3-Denotational-34044" class="Function">⊆↦→⨆cod⊆</a> <a id="plfa_plfa-part3-Denotational-44025" class="Bound">Γ⊆v34</a> <a id="plfa_plfa-part3-Denotational-44031" class="Keyword">in</a>
  <a id="plfa_plfa-part3-Denotational-44036" href="../Denotational/#plfa_plfa-part3-Denotational-2730" class="InductiveConstructor Operator">⟨</a> <a id="plfa_plfa-part3-Denotational-44038" class="Bound">lt1</a> <a id="plfa_plfa-part3-Denotational-44042" class="Bound">u↦u′∈Γ</a> <a id="plfa_plfa-part3-Denotational-44049" href="../Denotational/#plfa_plfa-part3-Denotational-2730" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part3-Denotational-44051" href="../Denotational/#plfa_plfa-part3-Denotational-4625" class="InductiveConstructor">⊑-trans</a> <a id="plfa_plfa-part3-Denotational-44059" class="Bound">lt2</a> <a id="plfa_plfa-part3-Denotational-44063" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-44064" href="../Denotational/#plfa_plfa-part3-Denotational-30762" class="Function">⊆→⊑</a> <a id="plfa_plfa-part3-Denotational-44068" href="../Denotational/#plfa_plfa-part3-Denotational-44005" class="Bound">⨆codΓ⊆w′</a><a id="plfa_plfa-part3-Denotational-44076" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-44078" href="../Denotational/#plfa_plfa-part3-Denotational-2730" class="InductiveConstructor Operator">⟩</a>
</pre><h2 id="notes">Notes</h2><p>The denotational semantics presented in this chapter is an example of a <em>filter model</em> (Barendregt, Coppo, Dezani-Ciancaglini, 1983). Filter models use type systems with intersection types to precisely characterize runtime behavior (Coppo, Dezani-Ciancaglini, and Salle, 1979). The notation that we use in this chapter is not that of type systems and intersection types, but the <code>Value</code> data type is isomorphic to types (<code>↦</code> is <code>→</code>, <code>⊔</code> is <code>∧</code>, <code>⊥</code> is <code>⊤</code>), the <code>⊑</code> relation is the inverse of subtyping <code>&lt;:</code>, and the evaluation relation <code>ρ ⊢ M ↓ v</code> is isomorphic to a type system. Write <code>Γ</code> instead of <code>ρ</code>, <code>A</code> instead of <code>v</code>, and replace <code>↓</code> with <code>:</code> and one has a typing judgement <code>Γ ⊢ M : A</code>. By varying the definition of subtyping and using different choices of type atoms, intersection type systems provide semantics for many different untyped λ calculi, from full beta to the lazy and call-by-value calculi (Alessi, Barbanera, and Dezani-Ciancaglini, 2006) (Rocca and Paolini, 2004). The denotational semantics in this chapter corresponds to the BCD system (Barendregt, Coppo, Dezani-Ciancaglini, 1983). Part 3 of the book <em>Lambda Calculus with Types</em> describes a framework for intersection type systems that enables results similar to the ones in this chapter, but for the entire family of intersection type systems (Barendregt, Dekkers, and Statman, 2013).</p><p>The two ideas of using finite tables to represent functions and of relaxing table lookup to enable self application first appeared in a technical report by Gordon Plotkin (1972) and are later described in an article in Theoretical Computer Science (Plotkin 1993). In that work, the inductive definition of <code>Value</code> is a bit different than the one we use:</p><pre><code>Value = C + ℘f(Value) × ℘f(Value)</code></pre><p>where <code>C</code> is a set of constants and <code>℘f</code> means finite powerset. The pairs in <code>℘f(Value) × ℘f(Value)</code> represent input-output mappings, just as in this chapter. The finite powersets are used to enable a function table to appear in the input and in the output. These differences amount to changing where the recursion appears in the definition of <code>Value</code>. Plotkin’s model is an example of a <em>graph model</em> of the untyped lambda calculus (Barendregt, 1984). In a graph model, the semantics is presented as a function from programs and environments to (possibly infinite) sets of values. The semantics in this chapter is instead defined as a relation, but set-valued functions are isomorphic to relations. Indeed, we present the semantics as a function in the next chapter and prove that it is equivalent to the relational version.</p><p>Dana Scott’s ℘(ω) (1976) and Engeler’s B(A) (1981) are two more examples of graph models. Both use the following inductive definition of <code>Value</code>.</p><pre><code>Value = C + ℘f(Value) × Value</code></pre><p>The use of <code>Value</code> instead of <code>℘f(Value)</code> in the output does not restrict expressiveness compared to Plotkin’s model because the semantics use sets of values and a pair of sets <code>(V, V′)</code> can be represented as a set of pairs <code>{ (V, v′) | v′ ∈ V′ }</code>. In Scott’s ℘(ω), the above values are mapped to and from the natural numbers using a kind of Godel encoding.</p><h2 id="references">References</h2><ul><li><p>Intersection Types and Lambda Models. Fabio Alessi, Franco Barbanera, and Mariangiola Dezani-Ciancaglini, Theoretical Compututer Science, vol. 355, pages 108-126, 2006.</p></li><li><p>The Lambda Calculus. H.P. Barendregt, 1984.</p></li><li><p>A filter lambda model and the completeness of type assignment. Henk Barendregt, Mario Coppo, and Mariangiola Dezani-Ciancaglini, Journal of Symbolic Logic, vol. 48, pages 931-940, 1983.</p></li><li><p>Lambda Calculus with Types. Henk Barendregt, Wil Dekkers, and Richard Statman, Cambridge University Press, Perspectives in Logic,</p><ol><li></li></ol></li><li><p>Functional characterization of some semantic equalities inside λ-calculus. Mario Coppo, Mariangiola Dezani-Ciancaglini, and Patrick Salle, in Sixth Colloquium on Automata, Languages and Programming. Springer, pages 133–146, 1979.</p></li><li><p>Algebras and combinators. Erwin Engeler, Algebra Universalis, vol. 13, pages 389-392, 1981.</p></li><li><p>A Set-Theoretical Definition of Application. Gordon D. Plotkin, University of Edinburgh, Technical Report MIP-R-95, 1972.</p></li><li><p>Set-theoretical and other elementary models of the λ-calculus. Gordon D. Plotkin, Theoretical Computer Science, vol. 121, pages 351-409, 1993.</p></li><li><p>The Parametric Lambda Calculus. Simona Ronchi Della Rocca and Luca Paolini, Springer, 2004.</p></li><li><p>Data Types as Lattices. Dana Scott, SIAM Journal on Computing, vol. 5, pages 522-587, 1976.</p></li></ul><h2 id="unicode">Unicode</h2><p>This chapter uses the following unicode:</p><pre><code>⊥  U+22A5  UP TACK (\bot)
↦  U+21A6  RIGHTWARDS ARROW FROM BAR (\mapsto)
⊔  U+2294  SQUARE CUP (\lub)
⊑  U+2291  SQUARE IMAGE OF OR EQUAL TO (\sqsubseteq)
⨆ U+2A06  N-ARY SQUARE UNION OPERATOR (\Lub)
⊢  U+22A2  RIGHT TACK (\|- or \vdash)
↓  U+2193  DOWNWARDS ARROW (\d)
ᶜ  U+1D9C  MODIFIER LETTER SMALL C (\^c)
ℰ  U+2130  SCRIPT CAPITAL E (\McE)
≃  U+2243  ASYMPTOTICALLY EQUAL TO (\~- or \simeq)
∈  U+2208  ELEMENT OF (\in)
⊆  U+2286  SUBSET OF OR EQUAL TO (\sub= or \subseteq)</code></pre></div><nav class="pager"><ul class="pagination"><li><a class="pagelink" href="../BigStep/">Prev</a></li><li class="separator">•</li><li><a class="pagelink" href="https://github.com/plfa/plfa.github.io/blob/dev/src/plfa/part3/Denotational.lagda.md">Source</a></li><li class="separator">•</li><li><a class="pagelink" href="../Compositional/">Next</a></li><li class="separator">•</li></ul></nav></article></div></main><footer class="site-footer h-card"><data class="u-url" href="../"></data><div class="wrapper"><h2 class="footer-heading">Programming Language Foundations in Agda</h2><div class="footer-col-wrapper"><div class="footer-col footer-col-1"><ul class="contact-list"><li class="p-name">Philip Wadler</li><li><a class="u-email" href="mailto:wadler@inf.ed.ac.uk">wadler@inf.ed.ac.uk</a></li></ul></div><div class="footer-col footer-col-2"><ul class="social-media-list"><li><a rel="me" href="https://github.com/wadler" title="wadler"><svg class="svg-icon grey"><use xlink:href="../assets/minima-social-icons.svg#github"></use></svg>  wadler</a></li></ul></div><div class="footer-col footer-col-3"></div></div><div class="footer-col-wrapper"><div class="footer-col footer-col-1"><ul class="contact-list"><li class="p-name">Wen Kokke</li><li><a class="u-email" href="mailto:me@wen.works">me@wen.works</a></li></ul></div><div class="footer-col footer-col-2"><ul class="social-media-list"><li><a rel="me" href="https://github.com/wenkokke" title="wenkokke"><svg class="svg-icon grey"><use xlink:href="../assets/minima-social-icons.svg#github"></use></svg>  wenkokke</a></li><li><a rel="me" href="https://twitter.com/wenkokke" title="wenkokke"><svg class="svg-icon grey"><use xlink:href="../assets/minima-social-icons.svg#twitter"></use></svg>  wenkokke</a></li></ul></div><div class="footer-col footer-col-3"></div></div><div class="footer-col-wrapper"><div class="footer-col footer-col-1"><ul class="contact-list"><li class="p-name">Jeremy G. Siek</li><li><a class="u-email" href="mailto:jsiek@indiana.edu">jsiek@indiana.edu</a></li></ul></div><div class="footer-col footer-col-2"><ul class="social-media-list"><li><a rel="me" href="https://github.com/jsiek" title="jsiek"><svg class="svg-icon grey"><use xlink:href="../assets/minima-social-icons.svg#github"></use></svg>  jsiek</a></li><li><a rel="me" href="https://twitter.com/jeremysiek" title="jeremysiek"><svg class="svg-icon grey"><use xlink:href="../assets/minima-social-icons.svg#twitter"></use></svg>  jeremysiek</a></li></ul></div><div class="footer-col footer-col-3"></div></div>This work is licensed under a <a rel="license" href="https://creativecommons.org/licenses/by/4.0/">Creative Commons Attribution 4.0 International License</a></div></footer></body></html>