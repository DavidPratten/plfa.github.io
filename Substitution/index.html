<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1"><link rel="stylesheet" href="../assets/css/highlight.css" integrity="sha512-/AZvSp2ONGYOeJSr2xXUbsyhW6M12OnxAkxsowJXDTNqhKU6BXnwQCnki8wOoiisTyv0A//fK5TajfqCCt1xEw==" title="Highlight" id="stylesheet-highlight"><link rel="stylesheet" href="../assets/css/light.css" integrity="sha512-MkpYfmkWIfATGEd6NpDhZJQB2nIkJDL4/+fTWrR8KGUYK4WpHdNkNtsOewHrkVqI4K1SrtjK7aC/fwQljbifBA==" title="Light" id="stylesheet-light"><link rel="alternate stylesheet" href="../assets/css/dark.css" integrity="sha512-pqhVqX1hzQo9xWy2vKWt+NJtpQ4XlOn2ykxcmhYLiM5J0u2yT9ZYoQu7I/8yTRt2ML79GKVK7lWKUm4QJnj5kA==" title="Dark" id="stylesheet-dark" disabled><title>Programming Language Foundations in Agda – Substitution</title><script src="../assets/js/anchor.js" integrity="sha512-zPB79j2C+3sFS9zcA3vg/z6bVKzJVEyu9pY5w89akQRys76zpAT2t6S3wZKla3QQ14O5l/Yt0RUQ/DHXx82Y5g==" id="script-anchor"></script><script src="../assets/js/darkmode.js" integrity="sha512-iUX9HnSphH4WbMv88MYJEFtLfkCtTHrvWyFwjigSm5GkwHv1L31GP5grIGDo7kI2jftuYVvt4xu4qeCn2fKbww==" id="script-darkmode"></script><script>document.addEventListener("DOMContentLoaded",function(d){anchors.add("h1").add("h2").add("h3").add("h4"),darkmode("stylesheet-light","stylesheet-dark")})</script></head><body><header class="site-header"><div class="wrapper"><a class="site-title" href="../">Programming Language Foundations in Agda</a><nav class="site-nav"><input type="checkbox" id="nav-trigger" class="nav-trigger"><label for="nav-trigger"><span class="menu-icon"><svg class="svg-icon grey" viewBox="0 0 18 15" width="18px" height="15px"><path fill="#424242" d="M18,1.484c0,0.82-0.665,1.484-1.484,1.484H1.484C0.665,2.969,0,2.304,0,1.484l0,0C0,0.665,0.665,0,1.484,0 h15.031C17.335,0,18,0.665,18,1.484L18,1.484z"></path><path fill="#424242" d="M18,7.516C18,8.335,17.335,9,16.516,9H1.484C0.665,9,0,8.335,0,7.516l0,0c0-0.82,0.665-1.484,1.484-1.484 h15.031C17.335,6.031,18,6.696,18,7.516L18,7.516z"></path><path fill="#424242" d="M18,13.516C18,14.335,17.335,15,16.516,15H1.484C0.665,15,0,14.335,0,13.516l0,0 c0-0.82,0.665-1.484,1.484-1.484h15.031C17.335,12.031,18,12.696,18,13.516L18,13.516z"></path></svg></span></label><div class="trigger"><a class="page-link" href="../">The Book</a> <a class="page-link" href="../Announcements/">Announcements</a> <a class="page-link" href="../GettingStarted/">Getting Started</a> <a class="page-link" href="../Citing/">Citing</a> <a class="page-link" href="https://agda-zh.github.io/PLFA-zh/">中文</a> <a class="page-link" onclick="window.darkmode.toggle()"><i id="darkmode-trigger" class="fas fa-moon"></i></a></div></nav></div></header><main class="page-content" aria-label="Content"><div class="wrapper"><article class="post"><nav class="pager"><ul class="pagination"><li><a class="pagelink" href="../ContextualEquivalence/">Prev</a></li><li class="separator">•</li><li><a class="pagelink" href="https://github.com/plfa/plfa.github.io/blob/dev/src/plfa/part2/Substitution.lagda.md">Source</a></li><li class="separator">•</li><li><a class="pagelink" href="../Acknowledgements/">Next</a></li><li class="separator">•</li></ul></nav><header class="post-header"><h1 class="post-title">Substitution: Substitution in the untyped lambda calculus</h1></header><div class="post-content"><pre class="Agda"><a id="plfa_plfa-part2-Substitution-118" class="Keyword">module</a> <a id="plfa_plfa-part2-Substitution-125" href="../Substitution/#" class="Module">plfa.part2.Substitution</a> <a id="plfa_plfa-part2-Substitution-149" class="Keyword">where</a>
</pre><h2 id="introduction">Introduction</h2><p>The primary purpose of this chapter is to prove that substitution commutes with itself. Barendgredt (1984) refers to this as the substitution lemma:</p><pre><code>M [x:=N] [y:=L] = M [y:=L] [x:= N[y:=L] ]</code></pre><p>In our setting, with de Bruijn indices for variables, the statement of the lemma becomes:</p><pre><code>M [ N ] [ L ] ≡  M〔 L 〕[ N [ L ] ]                     (substitution)</code></pre><p>where the notation <code>M 〔 L 〕</code> is for substituting L for index 1 inside M. In addition, because we define substitution in terms of parallel substitution, we have the following generalization, replacing the substitution of L with an arbitrary parallel substitution σ.</p><pre><code>subst σ (M [ N ]) ≡ (subst (exts σ) M) [ subst σ N ]    (subst-commute)</code></pre><p>The special case for renamings is also useful.</p><pre><code>rename ρ (M [ N ]) ≡ (rename (ext ρ) M) [ rename ρ N ]
                                                 (rename-subst-commute)</code></pre><p>The secondary purpose of this chapter is to define the σ algebra of parallel substitution due to Abadi, Cardelli, Curien, and Levy (1991). The equations of this algebra not only help us prove the substitution lemma, but they are generally useful. Furthermore, when the equations are applied from left to right, they form a rewrite system that <em>decides</em> whether any two substitutions are equal.</p><h2 id="imports">Imports</h2><pre class="Agda"><a id="plfa_plfa-part2-Substitution-1483" class="Keyword">import</a> <a id="plfa_plfa-part2-Substitution-1490" href="https://agda.github.io/agda-stdlib/v1.3/Relation.Binary.PropositionalEquality.html" class="Module">Relation.Binary.PropositionalEquality</a> <a id="plfa_plfa-part2-Substitution-1528" class="Symbol">as</a> <a id="plfa_plfa-part2-Substitution-1531" class="Module">Eq</a>
<a id="plfa_plfa-part2-Substitution-1534" class="Keyword">open</a> <a id="plfa_plfa-part2-Substitution-1539" href="https://agda.github.io/agda-stdlib/v1.3/Relation.Binary.PropositionalEquality.html" class="Module">Eq</a> <a id="plfa_plfa-part2-Substitution-1542" class="Keyword">using</a> <a id="plfa_plfa-part2-Substitution-1548" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-1549" href="https://agda.github.io/agda-stdlib/v1.3/Agda.Builtin.Equality.html#151" class="Datatype Operator">_≡_</a><a id="plfa_plfa-part2-Substitution-1552" class="Symbol">;</a> <a id="plfa_plfa-part2-Substitution-1554" href="https://agda.github.io/agda-stdlib/v1.3/Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a><a id="plfa_plfa-part2-Substitution-1558" class="Symbol">;</a> <a id="plfa_plfa-part2-Substitution-1560" href="https://agda.github.io/agda-stdlib/v1.3/Relation.Binary.PropositionalEquality.Core.html#980" class="Function">sym</a><a id="plfa_plfa-part2-Substitution-1563" class="Symbol">;</a> <a id="plfa_plfa-part2-Substitution-1565" href="https://agda.github.io/agda-stdlib/v1.3/Relation.Binary.PropositionalEquality.Core.html#1131" class="Function">cong</a><a id="plfa_plfa-part2-Substitution-1569" class="Symbol">;</a> <a id="plfa_plfa-part2-Substitution-1571" href="https://agda.github.io/agda-stdlib/v1.3/Relation.Binary.PropositionalEquality.html#1524" class="Function">cong₂</a><a id="plfa_plfa-part2-Substitution-1576" class="Symbol">;</a> <a id="plfa_plfa-part2-Substitution-1578" href="https://agda.github.io/agda-stdlib/v1.3/Relation.Binary.PropositionalEquality.html#1396" class="Function">cong-app</a><a id="plfa_plfa-part2-Substitution-1586" class="Symbol">)</a>
<a id="plfa_plfa-part2-Substitution-1588" class="Keyword">open</a> <a id="plfa_plfa-part2-Substitution-1593" href="https://agda.github.io/agda-stdlib/v1.3/Relation.Binary.PropositionalEquality.Core.html#2419" class="Module">Eq.≡-Reasoning</a> <a id="plfa_plfa-part2-Substitution-1608" class="Keyword">using</a> <a id="plfa_plfa-part2-Substitution-1614" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-1615" href="https://agda.github.io/agda-stdlib/v1.3/Relation.Binary.PropositionalEquality.Core.html#2517" class="Function Operator">begin_</a><a id="plfa_plfa-part2-Substitution-1621" class="Symbol">;</a> <a id="plfa_plfa-part2-Substitution-1623" href="https://agda.github.io/agda-stdlib/v1.3/Relation.Binary.PropositionalEquality.Core.html#2575" class="Function Operator">_≡⟨⟩_</a><a id="plfa_plfa-part2-Substitution-1628" class="Symbol">;</a> <a id="plfa_plfa-part2-Substitution-1630" href="https://agda.github.io/agda-stdlib/v1.3/Relation.Binary.PropositionalEquality.Core.html#2634" class="Function">step-≡</a><a id="plfa_plfa-part2-Substitution-1636" class="Symbol">;</a> <a id="plfa_plfa-part2-Substitution-1638" href="https://agda.github.io/agda-stdlib/v1.3/Relation.Binary.PropositionalEquality.Core.html#2816" class="Function Operator">_∎</a><a id="plfa_plfa-part2-Substitution-1640" class="Symbol">)</a>
<a id="plfa_plfa-part2-Substitution-1642" class="Keyword">open</a> <a id="plfa_plfa-part2-Substitution-1647" class="Keyword">import</a> <a id="plfa_plfa-part2-Substitution-1654" href="https://agda.github.io/agda-stdlib/v1.3/Function.html" class="Module">Function</a> <a id="plfa_plfa-part2-Substitution-1663" class="Keyword">using</a> <a id="plfa_plfa-part2-Substitution-1669" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-1670" href="https://agda.github.io/agda-stdlib/v1.3/Function.Base.html#992" class="Function Operator">_∘_</a><a id="plfa_plfa-part2-Substitution-1673" class="Symbol">)</a>
<a id="plfa_plfa-part2-Substitution-1675" class="Keyword">open</a> <a id="plfa_plfa-part2-Substitution-1680" class="Keyword">import</a> <a id="plfa_plfa-part2-Substitution-1687" href="../Untyped/#" class="Module">plfa.part2.Untyped</a>
     <a id="plfa_plfa-part2-Substitution-1711" class="Keyword">using</a> <a id="plfa_plfa-part2-Substitution-1717" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-1718" href="../Untyped/#plfa_plfa-part2-Untyped-2801" class="Datatype">Type</a><a id="plfa_plfa-part2-Substitution-1722" class="Symbol">;</a> <a id="plfa_plfa-part2-Substitution-1724" href="../Untyped/#plfa_plfa-part2-Untyped-3093" class="Datatype">Context</a><a id="plfa_plfa-part2-Substitution-1731" class="Symbol">;</a> <a id="plfa_plfa-part2-Substitution-1733" href="../Untyped/#plfa_plfa-part2-Untyped-4246" class="Datatype Operator">_⊢_</a><a id="plfa_plfa-part2-Substitution-1736" class="Symbol">;</a> <a id="plfa_plfa-part2-Substitution-1738" href="../Untyped/#plfa_plfa-part2-Untyped-2820" class="InductiveConstructor">★</a><a id="plfa_plfa-part2-Substitution-1739" class="Symbol">;</a> <a id="plfa_plfa-part2-Substitution-1741" href="../Untyped/#plfa_plfa-part2-Untyped-3469" class="Datatype Operator">_∋_</a><a id="plfa_plfa-part2-Substitution-1744" class="Symbol">;</a> <a id="plfa_plfa-part2-Substitution-1746" href="../Untyped/#plfa_plfa-part2-Untyped-3115" class="InductiveConstructor">∅</a><a id="plfa_plfa-part2-Substitution-1747" class="Symbol">;</a> <a id="plfa_plfa-part2-Substitution-1749" href="../Untyped/#plfa_plfa-part2-Untyped-3131" class="InductiveConstructor Operator">_,_</a><a id="plfa_plfa-part2-Substitution-1752" class="Symbol">;</a> <a id="plfa_plfa-part2-Substitution-1754" href="../Untyped/#plfa_plfa-part2-Untyped-3505" class="InductiveConstructor">Z</a><a id="plfa_plfa-part2-Substitution-1755" class="Symbol">;</a> <a id="plfa_plfa-part2-Substitution-1757" href="../Untyped/#plfa_plfa-part2-Untyped-3550" class="InductiveConstructor Operator">S_</a><a id="plfa_plfa-part2-Substitution-1759" class="Symbol">;</a> <a id="plfa_plfa-part2-Substitution-1761" href="../Untyped/#plfa_plfa-part2-Untyped-4282" class="InductiveConstructor Operator">`_</a><a id="plfa_plfa-part2-Substitution-1763" class="Symbol">;</a> <a id="plfa_plfa-part2-Substitution-1765" href="../Untyped/#plfa_plfa-part2-Untyped-4334" class="InductiveConstructor Operator">ƛ_</a><a id="plfa_plfa-part2-Substitution-1767" class="Symbol">;</a> <a id="plfa_plfa-part2-Substitution-1769" href="../Untyped/#plfa_plfa-part2-Untyped-4394" class="InductiveConstructor Operator">_·_</a><a id="plfa_plfa-part2-Substitution-1772" class="Symbol">;</a>
            <a id="plfa_plfa-part2-Substitution-1786" href="../Untyped/#plfa_plfa-part2-Untyped-6207" class="Function">rename</a><a id="plfa_plfa-part2-Substitution-1792" class="Symbol">;</a> <a id="plfa_plfa-part2-Substitution-1794" href="../Untyped/#plfa_plfa-part2-Untyped-6943" class="Function">subst</a><a id="plfa_plfa-part2-Substitution-1799" class="Symbol">;</a> <a id="plfa_plfa-part2-Substitution-1801" href="../Untyped/#plfa_plfa-part2-Untyped-5893" class="Function">ext</a><a id="plfa_plfa-part2-Substitution-1804" class="Symbol">;</a> <a id="plfa_plfa-part2-Substitution-1806" href="../Untyped/#plfa_plfa-part2-Untyped-6647" class="Function">exts</a><a id="plfa_plfa-part2-Substitution-1810" class="Symbol">;</a> <a id="plfa_plfa-part2-Substitution-1812" href="../Untyped/#plfa_plfa-part2-Untyped-7475" class="Function Operator">_[_]</a><a id="plfa_plfa-part2-Substitution-1816" class="Symbol">;</a> <a id="plfa_plfa-part2-Substitution-1818" href="../Untyped/#plfa_plfa-part2-Untyped-7359" class="Function">subst-zero</a><a id="plfa_plfa-part2-Substitution-1828" class="Symbol">)</a>
</pre><pre class="Agda"><a id="plfa_plfa-part2-Substitution-1843" class="Keyword">postulate</a>
  <a id="plfa_plfa-part2-Substitution-extensionality"></a><a id="plfa_plfa-part2-Substitution-1855" href="../Substitution/#plfa_plfa-part2-Substitution-1855" class="Postulate">extensionality</a> <a id="plfa_plfa-part2-Substitution-1870" class="Symbol">:</a> <a id="plfa_plfa-part2-Substitution-1872" class="Symbol">∀</a> <a id="plfa_plfa-part2-Substitution-1874" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-1875" href="../Substitution/#plfa_plfa-part2-Substitution-1875" class="Bound">A</a> <a id="plfa_plfa-part2-Substitution-1877" href="../Substitution/#plfa_plfa-part2-Substitution-1877" class="Bound">B</a> <a id="plfa_plfa-part2-Substitution-1879" class="Symbol">:</a> <a id="plfa_plfa-part2-Substitution-1881" href="https://agda.github.io/agda-stdlib/v1.3/Agda.Primitive.html#326" class="Primitive">Set</a><a id="plfa_plfa-part2-Substitution-1884" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-1886" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-1887" href="../Substitution/#plfa_plfa-part2-Substitution-1887" class="Bound">f</a> <a id="plfa_plfa-part2-Substitution-1889" href="../Substitution/#plfa_plfa-part2-Substitution-1889" class="Bound">g</a> <a id="plfa_plfa-part2-Substitution-1891" class="Symbol">:</a> <a id="plfa_plfa-part2-Substitution-1893" href="../Substitution/#plfa_plfa-part2-Substitution-1875" class="Bound">A</a> <a id="plfa_plfa-part2-Substitution-1895" class="Symbol">→</a> <a id="plfa_plfa-part2-Substitution-1897" href="../Substitution/#plfa_plfa-part2-Substitution-1877" class="Bound">B</a><a id="plfa_plfa-part2-Substitution-1898" class="Symbol">}</a>
    <a id="plfa_plfa-part2-Substitution-1904" class="Symbol">→</a> <a id="plfa_plfa-part2-Substitution-1906" class="Symbol">(∀</a> <a id="plfa_plfa-part2-Substitution-1909" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-1910" href="../Substitution/#plfa_plfa-part2-Substitution-1910" class="Bound">x</a> <a id="plfa_plfa-part2-Substitution-1912" class="Symbol">:</a> <a id="plfa_plfa-part2-Substitution-1914" href="../Substitution/#plfa_plfa-part2-Substitution-1875" class="Bound">A</a><a id="plfa_plfa-part2-Substitution-1915" class="Symbol">)</a> <a id="plfa_plfa-part2-Substitution-1917" class="Symbol">→</a> <a id="plfa_plfa-part2-Substitution-1919" href="../Substitution/#plfa_plfa-part2-Substitution-1887" class="Bound">f</a> <a id="plfa_plfa-part2-Substitution-1921" href="../Substitution/#plfa_plfa-part2-Substitution-1910" class="Bound">x</a> <a id="plfa_plfa-part2-Substitution-1923" href="https://agda.github.io/agda-stdlib/v1.3/Agda.Builtin.Equality.html#151" class="Datatype Operator">≡</a> <a id="plfa_plfa-part2-Substitution-1925" href="../Substitution/#plfa_plfa-part2-Substitution-1889" class="Bound">g</a> <a id="plfa_plfa-part2-Substitution-1927" href="../Substitution/#plfa_plfa-part2-Substitution-1910" class="Bound">x</a><a id="plfa_plfa-part2-Substitution-1928" class="Symbol">)</a>
      <a id="plfa_plfa-part2-Substitution-1936" class="Comment">-----------------------</a>
    <a id="plfa_plfa-part2-Substitution-1964" class="Symbol">→</a> <a id="plfa_plfa-part2-Substitution-1966" href="../Substitution/#plfa_plfa-part2-Substitution-1887" class="Bound">f</a> <a id="plfa_plfa-part2-Substitution-1968" href="https://agda.github.io/agda-stdlib/v1.3/Agda.Builtin.Equality.html#151" class="Datatype Operator">≡</a> <a id="plfa_plfa-part2-Substitution-1970" href="../Substitution/#plfa_plfa-part2-Substitution-1889" class="Bound">g</a>
</pre><h2 id="notation">Notation</h2><p>We introduce the following shorthand for the type of a <em>renaming</em> from variables in context <code>Γ</code> to variables in context <code>Δ</code>.</p><pre class="Agda"><a id="plfa_plfa-part2-Substitution-Rename"></a><a id="plfa_plfa-part2-Substitution-2124" href="../Substitution/#plfa_plfa-part2-Substitution-2124" class="Function">Rename</a> <a id="plfa_plfa-part2-Substitution-2131" class="Symbol">:</a> <a id="plfa_plfa-part2-Substitution-2133" href="../Untyped/#plfa_plfa-part2-Untyped-3093" class="Datatype">Context</a> <a id="plfa_plfa-part2-Substitution-2141" class="Symbol">→</a> <a id="plfa_plfa-part2-Substitution-2143" href="../Untyped/#plfa_plfa-part2-Untyped-3093" class="Datatype">Context</a> <a id="plfa_plfa-part2-Substitution-2151" class="Symbol">→</a> <a id="plfa_plfa-part2-Substitution-2153" href="https://agda.github.io/agda-stdlib/v1.3/Agda.Primitive.html#326" class="Primitive">Set</a>
<a id="plfa_plfa-part2-Substitution-2157" href="../Substitution/#plfa_plfa-part2-Substitution-2124" class="Function">Rename</a> <a id="plfa_plfa-part2-Substitution-2164" href="../Substitution/#plfa_plfa-part2-Substitution-2164" class="Bound">Γ</a> <a id="plfa_plfa-part2-Substitution-2166" href="../Substitution/#plfa_plfa-part2-Substitution-2166" class="Bound">Δ</a> <a id="plfa_plfa-part2-Substitution-2168" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-2170" class="Symbol">∀{</a><a id="plfa_plfa-part2-Substitution-2172" href="../Substitution/#plfa_plfa-part2-Substitution-2172" class="Bound">A</a><a id="plfa_plfa-part2-Substitution-2173" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-2175" class="Symbol">→</a> <a id="plfa_plfa-part2-Substitution-2177" href="../Substitution/#plfa_plfa-part2-Substitution-2164" class="Bound">Γ</a> <a id="plfa_plfa-part2-Substitution-2179" href="../Untyped/#plfa_plfa-part2-Untyped-3469" class="Datatype Operator">∋</a> <a id="plfa_plfa-part2-Substitution-2181" href="../Substitution/#plfa_plfa-part2-Substitution-2172" class="Bound">A</a> <a id="plfa_plfa-part2-Substitution-2183" class="Symbol">→</a> <a id="plfa_plfa-part2-Substitution-2185" href="../Substitution/#plfa_plfa-part2-Substitution-2166" class="Bound">Δ</a> <a id="plfa_plfa-part2-Substitution-2187" href="../Untyped/#plfa_plfa-part2-Untyped-3469" class="Datatype Operator">∋</a> <a id="plfa_plfa-part2-Substitution-2189" href="../Substitution/#plfa_plfa-part2-Substitution-2172" class="Bound">A</a>
</pre><p>Similarly, we introduce the following shorthand for the type of a <em>substitution</em> from variables in context <code>Γ</code> to terms in context <code>Δ</code>.</p><pre class="Agda"><a id="plfa_plfa-part2-Substitution-Subst"></a><a id="plfa_plfa-part2-Substitution-2341" href="../Substitution/#plfa_plfa-part2-Substitution-2341" class="Function">Subst</a> <a id="plfa_plfa-part2-Substitution-2347" class="Symbol">:</a> <a id="plfa_plfa-part2-Substitution-2349" href="../Untyped/#plfa_plfa-part2-Untyped-3093" class="Datatype">Context</a> <a id="plfa_plfa-part2-Substitution-2357" class="Symbol">→</a> <a id="plfa_plfa-part2-Substitution-2359" href="../Untyped/#plfa_plfa-part2-Untyped-3093" class="Datatype">Context</a> <a id="plfa_plfa-part2-Substitution-2367" class="Symbol">→</a> <a id="plfa_plfa-part2-Substitution-2369" href="https://agda.github.io/agda-stdlib/v1.3/Agda.Primitive.html#326" class="Primitive">Set</a>
<a id="plfa_plfa-part2-Substitution-2373" href="../Substitution/#plfa_plfa-part2-Substitution-2341" class="Function">Subst</a> <a id="plfa_plfa-part2-Substitution-2379" href="../Substitution/#plfa_plfa-part2-Substitution-2379" class="Bound">Γ</a> <a id="plfa_plfa-part2-Substitution-2381" href="../Substitution/#plfa_plfa-part2-Substitution-2381" class="Bound">Δ</a> <a id="plfa_plfa-part2-Substitution-2383" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-2385" class="Symbol">∀{</a><a id="plfa_plfa-part2-Substitution-2387" href="../Substitution/#plfa_plfa-part2-Substitution-2387" class="Bound">A</a><a id="plfa_plfa-part2-Substitution-2388" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-2390" class="Symbol">→</a> <a id="plfa_plfa-part2-Substitution-2392" href="../Substitution/#plfa_plfa-part2-Substitution-2379" class="Bound">Γ</a> <a id="plfa_plfa-part2-Substitution-2394" href="../Untyped/#plfa_plfa-part2-Untyped-3469" class="Datatype Operator">∋</a> <a id="plfa_plfa-part2-Substitution-2396" href="../Substitution/#plfa_plfa-part2-Substitution-2387" class="Bound">A</a> <a id="plfa_plfa-part2-Substitution-2398" class="Symbol">→</a> <a id="plfa_plfa-part2-Substitution-2400" href="../Substitution/#plfa_plfa-part2-Substitution-2381" class="Bound">Δ</a> <a id="plfa_plfa-part2-Substitution-2402" href="../Untyped/#plfa_plfa-part2-Untyped-4246" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Substitution-2404" href="../Substitution/#plfa_plfa-part2-Substitution-2387" class="Bound">A</a>
</pre><p>We use the following more succinct notation for the <code>subst</code> function.</p><pre class="Agda"><a id="plfa_plfa-part2-Substitution-⟪_⟫"></a><a id="plfa_plfa-part2-Substitution-2490" href="../Substitution/#plfa_plfa-part2-Substitution-2490" class="Function Operator">⟪_⟫</a> <a id="plfa_plfa-part2-Substitution-2494" class="Symbol">:</a> <a id="plfa_plfa-part2-Substitution-2496" class="Symbol">∀{</a><a id="plfa_plfa-part2-Substitution-2498" href="../Substitution/#plfa_plfa-part2-Substitution-2498" class="Bound">Γ</a> <a id="plfa_plfa-part2-Substitution-2500" href="../Substitution/#plfa_plfa-part2-Substitution-2500" class="Bound">Δ</a> <a id="plfa_plfa-part2-Substitution-2502" href="../Substitution/#plfa_plfa-part2-Substitution-2502" class="Bound">A</a><a id="plfa_plfa-part2-Substitution-2503" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-2505" class="Symbol">→</a> <a id="plfa_plfa-part2-Substitution-2507" href="../Substitution/#plfa_plfa-part2-Substitution-2341" class="Function">Subst</a> <a id="plfa_plfa-part2-Substitution-2513" href="../Substitution/#plfa_plfa-part2-Substitution-2498" class="Bound">Γ</a> <a id="plfa_plfa-part2-Substitution-2515" href="../Substitution/#plfa_plfa-part2-Substitution-2500" class="Bound">Δ</a> <a id="plfa_plfa-part2-Substitution-2517" class="Symbol">→</a> <a id="plfa_plfa-part2-Substitution-2519" href="../Substitution/#plfa_plfa-part2-Substitution-2498" class="Bound">Γ</a> <a id="plfa_plfa-part2-Substitution-2521" href="../Untyped/#plfa_plfa-part2-Untyped-4246" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Substitution-2523" href="../Substitution/#plfa_plfa-part2-Substitution-2502" class="Bound">A</a> <a id="plfa_plfa-part2-Substitution-2525" class="Symbol">→</a> <a id="plfa_plfa-part2-Substitution-2527" href="../Substitution/#plfa_plfa-part2-Substitution-2500" class="Bound">Δ</a> <a id="plfa_plfa-part2-Substitution-2529" href="../Untyped/#plfa_plfa-part2-Untyped-4246" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Substitution-2531" href="../Substitution/#plfa_plfa-part2-Substitution-2502" class="Bound">A</a>
<a id="plfa_plfa-part2-Substitution-2533" href="../Substitution/#plfa_plfa-part2-Substitution-2490" class="Function Operator">⟪</a> <a id="plfa_plfa-part2-Substitution-2535" href="../Substitution/#plfa_plfa-part2-Substitution-2535" class="Bound">σ</a> <a id="plfa_plfa-part2-Substitution-2537" href="../Substitution/#plfa_plfa-part2-Substitution-2490" class="Function Operator">⟫</a> <a id="plfa_plfa-part2-Substitution-2539" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-2541" class="Symbol">λ</a> <a id="plfa_plfa-part2-Substitution-2543" href="../Substitution/#plfa_plfa-part2-Substitution-2543" class="Bound">M</a> <a id="plfa_plfa-part2-Substitution-2545" class="Symbol">→</a> <a id="plfa_plfa-part2-Substitution-2547" href="../Untyped/#plfa_plfa-part2-Untyped-6943" class="Function">subst</a> <a id="plfa_plfa-part2-Substitution-2553" href="../Substitution/#plfa_plfa-part2-Substitution-2535" class="Bound">σ</a> <a id="plfa_plfa-part2-Substitution-2555" href="../Substitution/#plfa_plfa-part2-Substitution-2543" class="Bound">M</a>
</pre><h2 id="the-σ-algebra-of-substitution">The σ algebra of substitution</h2><p>A substitution maps de Bruijn indices (natural numbers) to terms, so we can view a substitution simply as a sequence of terms, or more precisely, as an infinite sequence of terms. The σ algebra consists of four operations for building such sequences: identity <code>ids</code>, shift <code>↑</code>, cons <code>M • σ</code>, and sequencing <code>σ ⨟ τ</code>. The sequence <code>0, 1, 2, ...</code> is constructed by the identity substitution.</p><pre class="Agda"><a id="plfa_plfa-part2-Substitution-ids"></a><a id="plfa_plfa-part2-Substitution-2996" href="../Substitution/#plfa_plfa-part2-Substitution-2996" class="Function">ids</a> <a id="plfa_plfa-part2-Substitution-3000" class="Symbol">:</a> <a id="plfa_plfa-part2-Substitution-3002" class="Symbol">∀{</a><a id="plfa_plfa-part2-Substitution-3004" href="../Substitution/#plfa_plfa-part2-Substitution-3004" class="Bound">Γ</a><a id="plfa_plfa-part2-Substitution-3005" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-3007" class="Symbol">→</a> <a id="plfa_plfa-part2-Substitution-3009" href="../Substitution/#plfa_plfa-part2-Substitution-2341" class="Function">Subst</a> <a id="plfa_plfa-part2-Substitution-3015" href="../Substitution/#plfa_plfa-part2-Substitution-3004" class="Bound">Γ</a> <a id="plfa_plfa-part2-Substitution-3017" href="../Substitution/#plfa_plfa-part2-Substitution-3004" class="Bound">Γ</a>
<a id="plfa_plfa-part2-Substitution-3019" href="../Substitution/#plfa_plfa-part2-Substitution-2996" class="Function">ids</a> <a id="plfa_plfa-part2-Substitution-3023" href="../Substitution/#plfa_plfa-part2-Substitution-3023" class="Bound">x</a> <a id="plfa_plfa-part2-Substitution-3025" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-3027" href="../Untyped/#plfa_plfa-part2-Untyped-4282" class="InductiveConstructor Operator">`</a> <a id="plfa_plfa-part2-Substitution-3029" href="../Substitution/#plfa_plfa-part2-Substitution-3023" class="Bound">x</a>
</pre><p>The shift operation <code>↑</code> constructs the sequence</p><pre><code>1, 2, 3, ...</code></pre><p>and is defined as follows.</p><pre class="Agda"><a id="plfa_plfa-part2-Substitution-↑"></a><a id="plfa_plfa-part2-Substitution-3139" href="../Substitution/#plfa_plfa-part2-Substitution-3139" class="Function">↑</a> <a id="plfa_plfa-part2-Substitution-3141" class="Symbol">:</a> <a id="plfa_plfa-part2-Substitution-3143" class="Symbol">∀{</a><a id="plfa_plfa-part2-Substitution-3145" href="../Substitution/#plfa_plfa-part2-Substitution-3145" class="Bound">Γ</a> <a id="plfa_plfa-part2-Substitution-3147" href="../Substitution/#plfa_plfa-part2-Substitution-3147" class="Bound">A</a><a id="plfa_plfa-part2-Substitution-3148" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-3150" class="Symbol">→</a> <a id="plfa_plfa-part2-Substitution-3152" href="../Substitution/#plfa_plfa-part2-Substitution-2341" class="Function">Subst</a> <a id="plfa_plfa-part2-Substitution-3158" href="../Substitution/#plfa_plfa-part2-Substitution-3145" class="Bound">Γ</a> <a id="plfa_plfa-part2-Substitution-3160" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-3161" href="../Substitution/#plfa_plfa-part2-Substitution-3145" class="Bound">Γ</a> <a id="plfa_plfa-part2-Substitution-3163" href="../Untyped/#plfa_plfa-part2-Untyped-3131" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part2-Substitution-3165" href="../Substitution/#plfa_plfa-part2-Substitution-3147" class="Bound">A</a><a id="plfa_plfa-part2-Substitution-3166" class="Symbol">)</a>
<a id="plfa_plfa-part2-Substitution-3168" href="../Substitution/#plfa_plfa-part2-Substitution-3139" class="Function">↑</a> <a id="plfa_plfa-part2-Substitution-3170" href="../Substitution/#plfa_plfa-part2-Substitution-3170" class="Bound">x</a> <a id="plfa_plfa-part2-Substitution-3172" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-3174" href="../Untyped/#plfa_plfa-part2-Untyped-4282" class="InductiveConstructor Operator">`</a> <a id="plfa_plfa-part2-Substitution-3176" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-3177" href="../Untyped/#plfa_plfa-part2-Untyped-3550" class="InductiveConstructor Operator">S</a> <a id="plfa_plfa-part2-Substitution-3179" href="../Substitution/#plfa_plfa-part2-Substitution-3170" class="Bound">x</a><a id="plfa_plfa-part2-Substitution-3180" class="Symbol">)</a>
</pre><p>Given a term <code>M</code> and substitution <code>σ</code>, the operation <code>M • σ</code> constructs the sequence</p><pre><code>M , σ 0, σ 1, σ 2, ...</code></pre><p>This operation is analogous to the <code>cons</code> operation of Lisp.</p><pre class="Agda"><a id="plfa_plfa-part2-Substitution-3371" class="Keyword">infixr</a> <a id="plfa_plfa-part2-Substitution-3378" class="Number">6</a> <a id="plfa_plfa-part2-Substitution-3380" href="../Substitution/#plfa_plfa-part2-Substitution-3385" class="Function Operator">_•_</a>

<a id="plfa_plfa-part2-Substitution-_•_"></a><a id="plfa_plfa-part2-Substitution-3385" href="../Substitution/#plfa_plfa-part2-Substitution-3385" class="Function Operator">_•_</a> <a id="plfa_plfa-part2-Substitution-3389" class="Symbol">:</a> <a id="plfa_plfa-part2-Substitution-3391" class="Symbol">∀{</a><a id="plfa_plfa-part2-Substitution-3393" href="../Substitution/#plfa_plfa-part2-Substitution-3393" class="Bound">Γ</a> <a id="plfa_plfa-part2-Substitution-3395" href="../Substitution/#plfa_plfa-part2-Substitution-3395" class="Bound">Δ</a> <a id="plfa_plfa-part2-Substitution-3397" href="../Substitution/#plfa_plfa-part2-Substitution-3397" class="Bound">A</a><a id="plfa_plfa-part2-Substitution-3398" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-3400" class="Symbol">→</a> <a id="plfa_plfa-part2-Substitution-3402" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-3403" href="../Substitution/#plfa_plfa-part2-Substitution-3395" class="Bound">Δ</a> <a id="plfa_plfa-part2-Substitution-3405" href="../Untyped/#plfa_plfa-part2-Untyped-4246" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Substitution-3407" href="../Substitution/#plfa_plfa-part2-Substitution-3397" class="Bound">A</a><a id="plfa_plfa-part2-Substitution-3408" class="Symbol">)</a> <a id="plfa_plfa-part2-Substitution-3410" class="Symbol">→</a> <a id="plfa_plfa-part2-Substitution-3412" href="../Substitution/#plfa_plfa-part2-Substitution-2341" class="Function">Subst</a> <a id="plfa_plfa-part2-Substitution-3418" href="../Substitution/#plfa_plfa-part2-Substitution-3393" class="Bound">Γ</a> <a id="plfa_plfa-part2-Substitution-3420" href="../Substitution/#plfa_plfa-part2-Substitution-3395" class="Bound">Δ</a> <a id="plfa_plfa-part2-Substitution-3422" class="Symbol">→</a> <a id="plfa_plfa-part2-Substitution-3424" href="../Substitution/#plfa_plfa-part2-Substitution-2341" class="Function">Subst</a> <a id="plfa_plfa-part2-Substitution-3430" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-3431" href="../Substitution/#plfa_plfa-part2-Substitution-3393" class="Bound">Γ</a> <a id="plfa_plfa-part2-Substitution-3433" href="../Untyped/#plfa_plfa-part2-Untyped-3131" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part2-Substitution-3435" href="../Substitution/#plfa_plfa-part2-Substitution-3397" class="Bound">A</a><a id="plfa_plfa-part2-Substitution-3436" class="Symbol">)</a> <a id="plfa_plfa-part2-Substitution-3438" href="../Substitution/#plfa_plfa-part2-Substitution-3395" class="Bound">Δ</a>
<a id="plfa_plfa-part2-Substitution-3440" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-3441" href="../Substitution/#plfa_plfa-part2-Substitution-3441" class="Bound">M</a> <a id="plfa_plfa-part2-Substitution-3443" href="../Substitution/#plfa_plfa-part2-Substitution-3385" class="Function Operator">•</a> <a id="plfa_plfa-part2-Substitution-3445" href="../Substitution/#plfa_plfa-part2-Substitution-3445" class="Bound">σ</a><a id="plfa_plfa-part2-Substitution-3446" class="Symbol">)</a> <a id="plfa_plfa-part2-Substitution-3448" href="../Untyped/#plfa_plfa-part2-Untyped-3505" class="InductiveConstructor">Z</a> <a id="plfa_plfa-part2-Substitution-3450" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-3452" href="../Substitution/#plfa_plfa-part2-Substitution-3441" class="Bound">M</a>
<a id="plfa_plfa-part2-Substitution-3454" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-3455" href="../Substitution/#plfa_plfa-part2-Substitution-3455" class="Bound">M</a> <a id="plfa_plfa-part2-Substitution-3457" href="../Substitution/#plfa_plfa-part2-Substitution-3385" class="Function Operator">•</a> <a id="plfa_plfa-part2-Substitution-3459" href="../Substitution/#plfa_plfa-part2-Substitution-3459" class="Bound">σ</a><a id="plfa_plfa-part2-Substitution-3460" class="Symbol">)</a> <a id="plfa_plfa-part2-Substitution-3462" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-3463" href="../Untyped/#plfa_plfa-part2-Untyped-3550" class="InductiveConstructor Operator">S</a> <a id="plfa_plfa-part2-Substitution-3465" href="../Substitution/#plfa_plfa-part2-Substitution-3465" class="Bound">x</a><a id="plfa_plfa-part2-Substitution-3466" class="Symbol">)</a> <a id="plfa_plfa-part2-Substitution-3468" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-3470" href="../Substitution/#plfa_plfa-part2-Substitution-3459" class="Bound">σ</a> <a id="plfa_plfa-part2-Substitution-3472" href="../Substitution/#plfa_plfa-part2-Substitution-3465" class="Bound">x</a>
</pre><p>Given two substitutions <code>σ</code> and <code>τ</code>, the sequencing operation <code>σ ⨟ τ</code> composes the two substitutions by first applying <code>σ</code> and then applying <code>τ</code>. So it produces the sequence</p><pre><code>⟪τ⟫(σ 0), ⟪τ⟫(σ 1), ⟪τ⟫(σ 2), ...</code></pre><p>Here is the definition.</p><pre class="Agda"><a id="plfa_plfa-part2-Substitution-3726" class="Keyword">infixr</a> <a id="plfa_plfa-part2-Substitution-3733" class="Number">5</a> <a id="plfa_plfa-part2-Substitution-3735" href="../Substitution/#plfa_plfa-part2-Substitution-3740" class="Function Operator">_⨟_</a>

<a id="plfa_plfa-part2-Substitution-_⨟_"></a><a id="plfa_plfa-part2-Substitution-3740" href="../Substitution/#plfa_plfa-part2-Substitution-3740" class="Function Operator">_⨟_</a> <a id="plfa_plfa-part2-Substitution-3744" class="Symbol">:</a> <a id="plfa_plfa-part2-Substitution-3746" class="Symbol">∀{</a><a id="plfa_plfa-part2-Substitution-3748" href="../Substitution/#plfa_plfa-part2-Substitution-3748" class="Bound">Γ</a> <a id="plfa_plfa-part2-Substitution-3750" href="../Substitution/#plfa_plfa-part2-Substitution-3750" class="Bound">Δ</a> <a id="plfa_plfa-part2-Substitution-3752" href="../Substitution/#plfa_plfa-part2-Substitution-3752" class="Bound">Σ</a><a id="plfa_plfa-part2-Substitution-3753" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-3755" class="Symbol">→</a> <a id="plfa_plfa-part2-Substitution-3757" href="../Substitution/#plfa_plfa-part2-Substitution-2341" class="Function">Subst</a> <a id="plfa_plfa-part2-Substitution-3763" href="../Substitution/#plfa_plfa-part2-Substitution-3748" class="Bound">Γ</a> <a id="plfa_plfa-part2-Substitution-3765" href="../Substitution/#plfa_plfa-part2-Substitution-3750" class="Bound">Δ</a> <a id="plfa_plfa-part2-Substitution-3767" class="Symbol">→</a> <a id="plfa_plfa-part2-Substitution-3769" href="../Substitution/#plfa_plfa-part2-Substitution-2341" class="Function">Subst</a> <a id="plfa_plfa-part2-Substitution-3775" href="../Substitution/#plfa_plfa-part2-Substitution-3750" class="Bound">Δ</a> <a id="plfa_plfa-part2-Substitution-3777" href="../Substitution/#plfa_plfa-part2-Substitution-3752" class="Bound">Σ</a> <a id="plfa_plfa-part2-Substitution-3779" class="Symbol">→</a> <a id="plfa_plfa-part2-Substitution-3781" href="../Substitution/#plfa_plfa-part2-Substitution-2341" class="Function">Subst</a> <a id="plfa_plfa-part2-Substitution-3787" href="../Substitution/#plfa_plfa-part2-Substitution-3748" class="Bound">Γ</a> <a id="plfa_plfa-part2-Substitution-3789" href="../Substitution/#plfa_plfa-part2-Substitution-3752" class="Bound">Σ</a>
<a id="plfa_plfa-part2-Substitution-3791" href="../Substitution/#plfa_plfa-part2-Substitution-3791" class="Bound">σ</a> <a id="plfa_plfa-part2-Substitution-3793" href="../Substitution/#plfa_plfa-part2-Substitution-3740" class="Function Operator">⨟</a> <a id="plfa_plfa-part2-Substitution-3795" href="../Substitution/#plfa_plfa-part2-Substitution-3795" class="Bound">τ</a> <a id="plfa_plfa-part2-Substitution-3797" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-3799" href="../Substitution/#plfa_plfa-part2-Substitution-2490" class="Function Operator">⟪</a> <a id="plfa_plfa-part2-Substitution-3801" href="../Substitution/#plfa_plfa-part2-Substitution-3795" class="Bound">τ</a> <a id="plfa_plfa-part2-Substitution-3803" href="../Substitution/#plfa_plfa-part2-Substitution-2490" class="Function Operator">⟫</a> <a id="plfa_plfa-part2-Substitution-3805" href="https://agda.github.io/agda-stdlib/v1.3/Function.Base.html#992" class="Function Operator">∘</a> <a id="plfa_plfa-part2-Substitution-3807" href="../Substitution/#plfa_plfa-part2-Substitution-3791" class="Bound">σ</a>
</pre><p>For the sequencing operation, Abadi et al. use the notation of function composition, writing <code>σ ∘ τ</code>, but still with <code>σ</code> applied before <code>τ</code>, which is the opposite of standard mathematical practice. We instead write <code>σ ⨟ τ</code>, because semicolon is the standard notation for forward function composition.</p><h2 id="the-σ-algebra-equations">The σ algebra equations</h2><p>The σ algebra includes the following equations.</p><pre><code>(sub-head)  ⟪ M • σ ⟫ (` Z) ≡ M
(sub-tail)  ↑ ⨟ (M • σ)    ≡ σ
(sub-η)     (⟪ σ ⟫ (` Z)) • (↑ ⨟ σ) ≡ σ
(Z-shift)   (` Z) • ↑      ≡ ids

(sub-id)    ⟪ ids ⟫ M      ≡ M
(sub-app)   ⟪ σ ⟫ (L · M)  ≡ (⟪ σ ⟫ L) · (⟪ σ ⟫ M)
(sub-abs)   ⟪ σ ⟫ (ƛ N)    ≡ ƛ ⟪ σ ⟫ N
(sub-sub)   ⟪ τ ⟫ ⟪ σ ⟫ M  ≡ ⟪ σ ⨟ τ ⟫ M

(sub-idL)   ids ⨟ σ        ≡ σ
(sub-idR)   σ ⨟ ids        ≡ σ
(sub-assoc) (σ ⨟ τ) ⨟ θ    ≡ σ ⨟ (τ ⨟ θ)
(sub-dist)  (M • σ) ⨟ τ    ≡ (⟪ τ ⟫ M) • (σ ⨟ τ)</code></pre><p>The first group of equations describe how the <code>•</code> operator acts like cons. The equation <code>sub-head</code> says that the variable zero <code>Z</code> returns the head of the sequence (it acts like the <code>car</code> of Lisp). Similarly, <code>sub-tail</code> says that sequencing with shift <code>↑</code> returns the tail of the sequence (it acts like <code>cdr</code> of Lisp). The <code>sub-η</code> equation is the η-expansion rule for sequences, saying that taking the head and tail of a sequence, and then cons’ing them together yields the original sequence. The <code>Z-shift</code> equation says that cons’ing zero onto the shifted sequence produces the identity sequence.</p><p>The next four equations involve applying substitutions to terms. The equation <code>sub-id</code> says that the identity substitution returns the term unchanged. The equations <code>sub-app</code> and <code>sub-abs</code> says that substitution is a congruence for the lambda calculus. The <code>sub-sub</code> equation says that the sequence operator <code>⨟</code> behaves as intended.</p><p>The last four equations concern the sequencing of substitutions. The first two equations, <code>sub-idL</code> and <code>sub-idR</code>, say that <code>ids</code> is the left and right unit of the sequencing operator. The <code>sub-assoc</code> equation says that sequencing is associative. Finally, <code>sub-dist</code> says that post-sequencing distributes through cons.</p><h2 id="relating-the-σ-algebra-and-substitution-functions">Relating the σ algebra and substitution functions</h2><p>The definitions of substitution <code>N [ M ]</code> and parallel substitution <code>subst σ N</code> depend on several auxiliary functions: <code>rename</code>, <code>exts</code>, <code>ext</code>, and <code>subst-zero</code>. We shall relate those functions to terms in the σ algebra.</p><p>To begin with, renaming can be expressed in terms of substitution. We have</p><pre><code>rename ρ M ≡ ⟪ ren ρ ⟫ M               (rename-subst-ren)</code></pre><p>where <code>ren</code> turns a renaming <code>ρ</code> into a substitution by post-composing <code>ρ</code> with the identity substitution.</p><pre class="Agda"><a id="plfa_plfa-part2-Substitution-ren"></a><a id="plfa_plfa-part2-Substitution-6482" href="../Substitution/#plfa_plfa-part2-Substitution-6482" class="Function">ren</a> <a id="plfa_plfa-part2-Substitution-6486" class="Symbol">:</a> <a id="plfa_plfa-part2-Substitution-6488" class="Symbol">∀{</a><a id="plfa_plfa-part2-Substitution-6490" href="../Substitution/#plfa_plfa-part2-Substitution-6490" class="Bound">Γ</a> <a id="plfa_plfa-part2-Substitution-6492" href="../Substitution/#plfa_plfa-part2-Substitution-6492" class="Bound">Δ</a><a id="plfa_plfa-part2-Substitution-6493" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-6495" class="Symbol">→</a> <a id="plfa_plfa-part2-Substitution-6497" href="../Substitution/#plfa_plfa-part2-Substitution-2124" class="Function">Rename</a> <a id="plfa_plfa-part2-Substitution-6504" href="../Substitution/#plfa_plfa-part2-Substitution-6490" class="Bound">Γ</a> <a id="plfa_plfa-part2-Substitution-6506" href="../Substitution/#plfa_plfa-part2-Substitution-6492" class="Bound">Δ</a> <a id="plfa_plfa-part2-Substitution-6508" class="Symbol">→</a> <a id="plfa_plfa-part2-Substitution-6510" href="../Substitution/#plfa_plfa-part2-Substitution-2341" class="Function">Subst</a> <a id="plfa_plfa-part2-Substitution-6516" href="../Substitution/#plfa_plfa-part2-Substitution-6490" class="Bound">Γ</a> <a id="plfa_plfa-part2-Substitution-6518" href="../Substitution/#plfa_plfa-part2-Substitution-6492" class="Bound">Δ</a>
<a id="plfa_plfa-part2-Substitution-6520" href="../Substitution/#plfa_plfa-part2-Substitution-6482" class="Function">ren</a> <a id="plfa_plfa-part2-Substitution-6524" href="../Substitution/#plfa_plfa-part2-Substitution-6524" class="Bound">ρ</a> <a id="plfa_plfa-part2-Substitution-6526" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-6528" href="../Substitution/#plfa_plfa-part2-Substitution-2996" class="Function">ids</a> <a id="plfa_plfa-part2-Substitution-6532" href="https://agda.github.io/agda-stdlib/v1.3/Function.Base.html#992" class="Function Operator">∘</a> <a id="plfa_plfa-part2-Substitution-6534" href="../Substitution/#plfa_plfa-part2-Substitution-6524" class="Bound">ρ</a>
</pre><p>When the renaming is the increment function, then it is equivalent to shift.</p><pre><code>ren S_ ≡ ↑                             (ren-shift)

rename S_ M ≡ ⟪ ↑ ⟫ M                  (rename-shift)</code></pre><p>Renaming with the identity renaming leaves the term unchanged.</p><pre><code>rename (λ {A} x → x) M ≡ M             (rename-id)</code></pre><p>Next we relate the <code>exts</code> function to the σ algebra. Recall that the <code>exts</code> function extends a substitution as follows:</p><pre><code>exts σ = ` Z, rename S_ (σ 0), rename S_ (σ 1), rename S_ (σ 2), ...</code></pre><p>So <code>exts</code> is equivalent to cons’ing Z onto the sequence formed by applying <code>σ</code> and then shifting.</p><pre><code>exts σ ≡ ` Z • (σ ⨟ ↑)                (exts-cons-shift)</code></pre><p>The <code>ext</code> function does the same job as <code>exts</code> but for renamings instead of substitutions. So composing <code>ext</code> with <code>ren</code> is the same as composing <code>ren</code> with <code>exts</code>.</p><pre><code>ren (ext ρ) ≡ exts (ren ρ)            (ren-ext)</code></pre><p>Thus, we can recast the <code>exts-cons-shift</code> equation in terms of renamings.</p><pre><code>ren (ext ρ) ≡ ` Z • (ren ρ ⨟ ↑)       (ext-cons-Z-shift)</code></pre><p>It is also useful to specialize the <code>sub-sub</code> equation of the σ algebra to the situation where the first substitution is a renaming.</p><pre><code>⟪ σ ⟫ (rename ρ M) ≡ ⟪ σ ∘ ρ ⟫ M       (rename-subst)</code></pre><p>The <code>subst-zero M</code> substitution is equivalent to cons’ing <code>M</code> onto the identity substitution.</p><pre><code>subst-zero M ≡ M • ids                (subst-Z-cons-ids)</code></pre><p>Finally, sequencing <code>exts σ</code> with <code>subst-zero M</code> is equivalent to cons’ing <code>M</code> onto <code>σ</code>.</p><pre><code>exts σ ⨟ subst-zero M ≡ (M • σ)       (subst-zero-exts-cons)</code></pre><h2 id="proofs-of-sub-head-sub-tail-sub-η-z-shift-sub-idl-sub-dist-and-sub-app">Proofs of sub-head, sub-tail, sub-η, Z-shift, sub-idL, sub-dist, and sub-app</h2><p>We start with the proofs that are immediate from the definitions of the operators.</p><pre class="Agda"><a id="plfa_plfa-part2-Substitution-sub-head"></a><a id="plfa_plfa-part2-Substitution-8247" href="../Substitution/#plfa_plfa-part2-Substitution-8247" class="Function">sub-head</a> <a id="plfa_plfa-part2-Substitution-8256" class="Symbol">:</a> <a id="plfa_plfa-part2-Substitution-8258" class="Symbol">∀</a> <a id="plfa_plfa-part2-Substitution-8260" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-8261" href="../Substitution/#plfa_plfa-part2-Substitution-8261" class="Bound">Γ</a> <a id="plfa_plfa-part2-Substitution-8263" href="../Substitution/#plfa_plfa-part2-Substitution-8263" class="Bound">Δ</a><a id="plfa_plfa-part2-Substitution-8264" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-8266" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-8267" href="../Substitution/#plfa_plfa-part2-Substitution-8267" class="Bound">A</a><a id="plfa_plfa-part2-Substitution-8268" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-8270" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-8271" href="../Substitution/#plfa_plfa-part2-Substitution-8271" class="Bound">M</a> <a id="plfa_plfa-part2-Substitution-8273" class="Symbol">:</a> <a id="plfa_plfa-part2-Substitution-8275" href="../Substitution/#plfa_plfa-part2-Substitution-8263" class="Bound">Δ</a> <a id="plfa_plfa-part2-Substitution-8277" href="../Untyped/#plfa_plfa-part2-Untyped-4246" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Substitution-8279" href="../Substitution/#plfa_plfa-part2-Substitution-8267" class="Bound">A</a><a id="plfa_plfa-part2-Substitution-8280" class="Symbol">}{</a><a id="plfa_plfa-part2-Substitution-8282" href="../Substitution/#plfa_plfa-part2-Substitution-8282" class="Bound">σ</a> <a id="plfa_plfa-part2-Substitution-8284" class="Symbol">:</a> <a id="plfa_plfa-part2-Substitution-8286" href="../Substitution/#plfa_plfa-part2-Substitution-2341" class="Function">Subst</a> <a id="plfa_plfa-part2-Substitution-8292" href="../Substitution/#plfa_plfa-part2-Substitution-8261" class="Bound">Γ</a> <a id="plfa_plfa-part2-Substitution-8294" href="../Substitution/#plfa_plfa-part2-Substitution-8263" class="Bound">Δ</a><a id="plfa_plfa-part2-Substitution-8295" class="Symbol">}</a>
         <a id="plfa_plfa-part2-Substitution-8306" class="Symbol">→</a> <a id="plfa_plfa-part2-Substitution-8308" href="../Substitution/#plfa_plfa-part2-Substitution-2490" class="Function Operator">⟪</a> <a id="plfa_plfa-part2-Substitution-8310" href="../Substitution/#plfa_plfa-part2-Substitution-8271" class="Bound">M</a> <a id="plfa_plfa-part2-Substitution-8312" href="../Substitution/#plfa_plfa-part2-Substitution-3385" class="Function Operator">•</a> <a id="plfa_plfa-part2-Substitution-8314" href="../Substitution/#plfa_plfa-part2-Substitution-8282" class="Bound">σ</a> <a id="plfa_plfa-part2-Substitution-8316" href="../Substitution/#plfa_plfa-part2-Substitution-2490" class="Function Operator">⟫</a> <a id="plfa_plfa-part2-Substitution-8318" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-8319" class="InductiveConstructor Operator">`</a> <a id="plfa_plfa-part2-Substitution-8321" href="../Untyped/#plfa_plfa-part2-Untyped-3505" class="InductiveConstructor">Z</a><a id="plfa_plfa-part2-Substitution-8322" class="Symbol">)</a> <a id="plfa_plfa-part2-Substitution-8324" href="https://agda.github.io/agda-stdlib/v1.3/Agda.Builtin.Equality.html#151" class="Datatype Operator">≡</a> <a id="plfa_plfa-part2-Substitution-8326" href="../Substitution/#plfa_plfa-part2-Substitution-8271" class="Bound">M</a>
<a id="plfa_plfa-part2-Substitution-8328" href="../Substitution/#plfa_plfa-part2-Substitution-8247" class="Function">sub-head</a> <a id="plfa_plfa-part2-Substitution-8337" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-8339" href="https://agda.github.io/agda-stdlib/v1.3/Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a>
</pre><pre class="Agda"><a id="plfa_plfa-part2-Substitution-sub-tail"></a><a id="plfa_plfa-part2-Substitution-8357" href="../Substitution/#plfa_plfa-part2-Substitution-8357" class="Function">sub-tail</a> <a id="plfa_plfa-part2-Substitution-8366" class="Symbol">:</a> <a id="plfa_plfa-part2-Substitution-8368" class="Symbol">∀{</a><a id="plfa_plfa-part2-Substitution-8370" href="../Substitution/#plfa_plfa-part2-Substitution-8370" class="Bound">Γ</a> <a id="plfa_plfa-part2-Substitution-8372" href="../Substitution/#plfa_plfa-part2-Substitution-8372" class="Bound">Δ</a><a id="plfa_plfa-part2-Substitution-8373" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-8375" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-8376" href="../Substitution/#plfa_plfa-part2-Substitution-8376" class="Bound">A</a> <a id="plfa_plfa-part2-Substitution-8378" href="../Substitution/#plfa_plfa-part2-Substitution-8378" class="Bound">B</a><a id="plfa_plfa-part2-Substitution-8379" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-8381" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-8382" href="../Substitution/#plfa_plfa-part2-Substitution-8382" class="Bound">M</a> <a id="plfa_plfa-part2-Substitution-8384" class="Symbol">:</a> <a id="plfa_plfa-part2-Substitution-8386" href="../Substitution/#plfa_plfa-part2-Substitution-8372" class="Bound">Δ</a> <a id="plfa_plfa-part2-Substitution-8388" href="../Untyped/#plfa_plfa-part2-Untyped-4246" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Substitution-8390" href="../Substitution/#plfa_plfa-part2-Substitution-8376" class="Bound">A</a><a id="plfa_plfa-part2-Substitution-8391" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-8393" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-8394" href="../Substitution/#plfa_plfa-part2-Substitution-8394" class="Bound">σ</a> <a id="plfa_plfa-part2-Substitution-8396" class="Symbol">:</a> <a id="plfa_plfa-part2-Substitution-8398" href="../Substitution/#plfa_plfa-part2-Substitution-2341" class="Function">Subst</a> <a id="plfa_plfa-part2-Substitution-8404" href="../Substitution/#plfa_plfa-part2-Substitution-8370" class="Bound">Γ</a> <a id="plfa_plfa-part2-Substitution-8406" href="../Substitution/#plfa_plfa-part2-Substitution-8372" class="Bound">Δ</a><a id="plfa_plfa-part2-Substitution-8407" class="Symbol">}</a>
         <a id="plfa_plfa-part2-Substitution-8418" class="Symbol">→</a> <a id="plfa_plfa-part2-Substitution-8420" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-8421" href="../Substitution/#plfa_plfa-part2-Substitution-3139" class="Function">↑</a> <a id="plfa_plfa-part2-Substitution-8423" href="../Substitution/#plfa_plfa-part2-Substitution-3740" class="Function Operator">⨟</a> <a id="plfa_plfa-part2-Substitution-8425" href="../Substitution/#plfa_plfa-part2-Substitution-8382" class="Bound">M</a> <a id="plfa_plfa-part2-Substitution-8427" href="../Substitution/#plfa_plfa-part2-Substitution-3385" class="Function Operator">•</a> <a id="plfa_plfa-part2-Substitution-8429" href="../Substitution/#plfa_plfa-part2-Substitution-8394" class="Bound">σ</a><a id="plfa_plfa-part2-Substitution-8430" class="Symbol">)</a> <a id="plfa_plfa-part2-Substitution-8432" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-8433" class="Argument">A</a> <a id="plfa_plfa-part2-Substitution-8435" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-8437" href="../Substitution/#plfa_plfa-part2-Substitution-8378" class="Bound">B</a><a id="plfa_plfa-part2-Substitution-8438" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-8440" href="https://agda.github.io/agda-stdlib/v1.3/Agda.Builtin.Equality.html#151" class="Datatype Operator">≡</a> <a id="plfa_plfa-part2-Substitution-8442" href="../Substitution/#plfa_plfa-part2-Substitution-8394" class="Bound">σ</a>
<a id="plfa_plfa-part2-Substitution-8444" href="../Substitution/#plfa_plfa-part2-Substitution-8357" class="Function">sub-tail</a> <a id="plfa_plfa-part2-Substitution-8453" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-8455" href="../Substitution/#plfa_plfa-part2-Substitution-1855" class="Postulate">extensionality</a> <a id="plfa_plfa-part2-Substitution-8470" class="Symbol">λ</a> <a id="plfa_plfa-part2-Substitution-8472" href="../Substitution/#plfa_plfa-part2-Substitution-8472" class="Bound">x</a> <a id="plfa_plfa-part2-Substitution-8474" class="Symbol">→</a> <a id="plfa_plfa-part2-Substitution-8476" href="https://agda.github.io/agda-stdlib/v1.3/Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a>
</pre><pre class="Agda"><a id="plfa_plfa-part2-Substitution-sub-η"></a><a id="plfa_plfa-part2-Substitution-8494" href="../Substitution/#plfa_plfa-part2-Substitution-8494" class="Function">sub-η</a> <a id="plfa_plfa-part2-Substitution-8500" class="Symbol">:</a> <a id="plfa_plfa-part2-Substitution-8502" class="Symbol">∀{</a><a id="plfa_plfa-part2-Substitution-8504" href="../Substitution/#plfa_plfa-part2-Substitution-8504" class="Bound">Γ</a> <a id="plfa_plfa-part2-Substitution-8506" href="../Substitution/#plfa_plfa-part2-Substitution-8506" class="Bound">Δ</a><a id="plfa_plfa-part2-Substitution-8507" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-8509" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-8510" href="../Substitution/#plfa_plfa-part2-Substitution-8510" class="Bound">A</a> <a id="plfa_plfa-part2-Substitution-8512" href="../Substitution/#plfa_plfa-part2-Substitution-8512" class="Bound">B</a><a id="plfa_plfa-part2-Substitution-8513" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-8515" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-8516" href="../Substitution/#plfa_plfa-part2-Substitution-8516" class="Bound">σ</a> <a id="plfa_plfa-part2-Substitution-8518" class="Symbol">:</a> <a id="plfa_plfa-part2-Substitution-8520" href="../Substitution/#plfa_plfa-part2-Substitution-2341" class="Function">Subst</a> <a id="plfa_plfa-part2-Substitution-8526" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-8527" href="../Substitution/#plfa_plfa-part2-Substitution-8504" class="Bound">Γ</a> <a id="plfa_plfa-part2-Substitution-8529" href="../Untyped/#plfa_plfa-part2-Untyped-3131" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part2-Substitution-8531" href="../Substitution/#plfa_plfa-part2-Substitution-8510" class="Bound">A</a><a id="plfa_plfa-part2-Substitution-8532" class="Symbol">)</a> <a id="plfa_plfa-part2-Substitution-8534" href="../Substitution/#plfa_plfa-part2-Substitution-8506" class="Bound">Δ</a><a id="plfa_plfa-part2-Substitution-8535" class="Symbol">}</a>
      <a id="plfa_plfa-part2-Substitution-8543" class="Symbol">→</a> <a id="plfa_plfa-part2-Substitution-8545" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-8546" href="../Substitution/#plfa_plfa-part2-Substitution-2490" class="Function Operator">⟪</a> <a id="plfa_plfa-part2-Substitution-8548" href="../Substitution/#plfa_plfa-part2-Substitution-8516" class="Bound">σ</a> <a id="plfa_plfa-part2-Substitution-8550" href="../Substitution/#plfa_plfa-part2-Substitution-2490" class="Function Operator">⟫</a> <a id="plfa_plfa-part2-Substitution-8552" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-8553" class="InductiveConstructor Operator">`</a> <a id="plfa_plfa-part2-Substitution-8555" href="../Untyped/#plfa_plfa-part2-Untyped-3505" class="InductiveConstructor">Z</a><a id="plfa_plfa-part2-Substitution-8556" class="Symbol">)</a> <a id="plfa_plfa-part2-Substitution-8558" href="../Substitution/#plfa_plfa-part2-Substitution-3385" class="Function Operator">•</a> <a id="plfa_plfa-part2-Substitution-8560" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-8561" href="../Substitution/#plfa_plfa-part2-Substitution-3139" class="Function">↑</a> <a id="plfa_plfa-part2-Substitution-8563" href="../Substitution/#plfa_plfa-part2-Substitution-3740" class="Function Operator">⨟</a> <a id="plfa_plfa-part2-Substitution-8565" href="../Substitution/#plfa_plfa-part2-Substitution-8516" class="Bound">σ</a><a id="plfa_plfa-part2-Substitution-8566" class="Symbol">))</a> <a id="plfa_plfa-part2-Substitution-8569" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-8570" class="Argument">A</a> <a id="plfa_plfa-part2-Substitution-8572" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-8574" href="../Substitution/#plfa_plfa-part2-Substitution-8512" class="Bound">B</a><a id="plfa_plfa-part2-Substitution-8575" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-8577" href="https://agda.github.io/agda-stdlib/v1.3/Agda.Builtin.Equality.html#151" class="Datatype Operator">≡</a> <a id="plfa_plfa-part2-Substitution-8579" href="../Substitution/#plfa_plfa-part2-Substitution-8516" class="Bound">σ</a>
<a id="plfa_plfa-part2-Substitution-8581" href="../Substitution/#plfa_plfa-part2-Substitution-8494" class="Function">sub-η</a> <a id="plfa_plfa-part2-Substitution-8587" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-8588" href="../Substitution/#plfa_plfa-part2-Substitution-8588" class="Bound">Γ</a><a id="plfa_plfa-part2-Substitution-8589" class="Symbol">}{</a><a id="plfa_plfa-part2-Substitution-8591" href="../Substitution/#plfa_plfa-part2-Substitution-8591" class="Bound">Δ</a><a id="plfa_plfa-part2-Substitution-8592" class="Symbol">}{</a><a id="plfa_plfa-part2-Substitution-8594" href="../Substitution/#plfa_plfa-part2-Substitution-8594" class="Bound">A</a><a id="plfa_plfa-part2-Substitution-8595" class="Symbol">}{</a><a id="plfa_plfa-part2-Substitution-8597" href="../Substitution/#plfa_plfa-part2-Substitution-8597" class="Bound">B</a><a id="plfa_plfa-part2-Substitution-8598" class="Symbol">}{</a><a id="plfa_plfa-part2-Substitution-8600" href="../Substitution/#plfa_plfa-part2-Substitution-8600" class="Bound">σ</a><a id="plfa_plfa-part2-Substitution-8601" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-8603" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-8605" href="../Substitution/#plfa_plfa-part2-Substitution-1855" class="Postulate">extensionality</a> <a id="plfa_plfa-part2-Substitution-8620" class="Symbol">λ</a> <a id="plfa_plfa-part2-Substitution-8622" href="../Substitution/#plfa_plfa-part2-Substitution-8622" class="Bound">x</a> <a id="plfa_plfa-part2-Substitution-8624" class="Symbol">→</a> <a id="plfa_plfa-part2-Substitution-8626" href="../Substitution/#plfa_plfa-part2-Substitution-8644" class="Function">lemma</a>
   <a id="plfa_plfa-part2-Substitution-8635" class="Keyword">where</a>
   <a id="plfa_plfa-part2-Substitution-8644" href="../Substitution/#plfa_plfa-part2-Substitution-8644" class="Function">lemma</a> <a id="plfa_plfa-part2-Substitution-8650" class="Symbol">:</a> <a id="plfa_plfa-part2-Substitution-8652" class="Symbol">∀</a> <a id="plfa_plfa-part2-Substitution-8654" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-8655" href="../Substitution/#plfa_plfa-part2-Substitution-8655" class="Bound">x</a><a id="plfa_plfa-part2-Substitution-8656" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-8658" class="Symbol">→</a> <a id="plfa_plfa-part2-Substitution-8660" class="Symbol">((</a><a id="plfa_plfa-part2-Substitution-8662" href="../Substitution/#plfa_plfa-part2-Substitution-2490" class="Function Operator">⟪</a> <a id="plfa_plfa-part2-Substitution-8664" href="../Substitution/#plfa_plfa-part2-Substitution-8600" class="Bound">σ</a> <a id="plfa_plfa-part2-Substitution-8666" href="../Substitution/#plfa_plfa-part2-Substitution-2490" class="Function Operator">⟫</a> <a id="plfa_plfa-part2-Substitution-8668" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-8669" href="../Untyped/#plfa_plfa-part2-Untyped-4282" class="InductiveConstructor Operator">`</a> <a id="plfa_plfa-part2-Substitution-8671" href="../Untyped/#plfa_plfa-part2-Untyped-3505" class="InductiveConstructor">Z</a><a id="plfa_plfa-part2-Substitution-8672" class="Symbol">))</a> <a id="plfa_plfa-part2-Substitution-8675" href="../Substitution/#plfa_plfa-part2-Substitution-3385" class="Function Operator">•</a> <a id="plfa_plfa-part2-Substitution-8677" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-8678" href="../Substitution/#plfa_plfa-part2-Substitution-3139" class="Function">↑</a> <a id="plfa_plfa-part2-Substitution-8680" href="../Substitution/#plfa_plfa-part2-Substitution-3740" class="Function Operator">⨟</a> <a id="plfa_plfa-part2-Substitution-8682" href="../Substitution/#plfa_plfa-part2-Substitution-8600" class="Bound">σ</a><a id="plfa_plfa-part2-Substitution-8683" class="Symbol">))</a> <a id="plfa_plfa-part2-Substitution-8686" href="../Substitution/#plfa_plfa-part2-Substitution-8655" class="Bound">x</a> <a id="plfa_plfa-part2-Substitution-8688" href="https://agda.github.io/agda-stdlib/v1.3/Agda.Builtin.Equality.html#151" class="Datatype Operator">≡</a> <a id="plfa_plfa-part2-Substitution-8690" href="../Substitution/#plfa_plfa-part2-Substitution-8600" class="Bound">σ</a> <a id="plfa_plfa-part2-Substitution-8692" href="../Substitution/#plfa_plfa-part2-Substitution-8655" class="Bound">x</a>
   <a id="plfa_plfa-part2-Substitution-8697" href="../Substitution/#plfa_plfa-part2-Substitution-8644" class="Function">lemma</a> <a id="plfa_plfa-part2-Substitution-8703" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-8704" class="Argument">x</a> <a id="plfa_plfa-part2-Substitution-8706" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-8708" href="../Untyped/#plfa_plfa-part2-Untyped-3505" class="InductiveConstructor">Z</a><a id="plfa_plfa-part2-Substitution-8709" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-8711" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-8713" href="https://agda.github.io/agda-stdlib/v1.3/Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a>
   <a id="plfa_plfa-part2-Substitution-8721" href="../Substitution/#plfa_plfa-part2-Substitution-8644" class="Function">lemma</a> <a id="plfa_plfa-part2-Substitution-8727" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-8728" class="Argument">x</a> <a id="plfa_plfa-part2-Substitution-8730" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-8732" href="../Untyped/#plfa_plfa-part2-Untyped-3550" class="InductiveConstructor Operator">S</a> <a id="plfa_plfa-part2-Substitution-8734" href="../Substitution/#plfa_plfa-part2-Substitution-8734" class="Bound">x</a><a id="plfa_plfa-part2-Substitution-8735" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-8737" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-8739" href="https://agda.github.io/agda-stdlib/v1.3/Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a>
</pre><pre class="Agda"><a id="plfa_plfa-part2-Substitution-Z-shift"></a><a id="plfa_plfa-part2-Substitution-8757" href="../Substitution/#plfa_plfa-part2-Substitution-8757" class="Function">Z-shift</a> <a id="plfa_plfa-part2-Substitution-8765" class="Symbol">:</a> <a id="plfa_plfa-part2-Substitution-8767" class="Symbol">∀{</a><a id="plfa_plfa-part2-Substitution-8769" href="../Substitution/#plfa_plfa-part2-Substitution-8769" class="Bound">Γ</a><a id="plfa_plfa-part2-Substitution-8770" class="Symbol">}{</a><a id="plfa_plfa-part2-Substitution-8772" href="../Substitution/#plfa_plfa-part2-Substitution-8772" class="Bound">A</a> <a id="plfa_plfa-part2-Substitution-8774" href="../Substitution/#plfa_plfa-part2-Substitution-8774" class="Bound">B</a><a id="plfa_plfa-part2-Substitution-8775" class="Symbol">}</a>
        <a id="plfa_plfa-part2-Substitution-8785" class="Symbol">→</a> <a id="plfa_plfa-part2-Substitution-8787" class="Symbol">((</a><a id="plfa_plfa-part2-Substitution-8789" class="InductiveConstructor Operator">`</a> <a id="plfa_plfa-part2-Substitution-8791" href="../Untyped/#plfa_plfa-part2-Untyped-3505" class="InductiveConstructor">Z</a><a id="plfa_plfa-part2-Substitution-8792" class="Symbol">)</a> <a id="plfa_plfa-part2-Substitution-8794" href="../Substitution/#plfa_plfa-part2-Substitution-3385" class="Function Operator">•</a> <a id="plfa_plfa-part2-Substitution-8796" href="../Substitution/#plfa_plfa-part2-Substitution-3139" class="Function">↑</a><a id="plfa_plfa-part2-Substitution-8797" class="Symbol">)</a> <a id="plfa_plfa-part2-Substitution-8799" href="https://agda.github.io/agda-stdlib/v1.3/Agda.Builtin.Equality.html#151" class="Datatype Operator">≡</a> <a id="plfa_plfa-part2-Substitution-8801" href="../Substitution/#plfa_plfa-part2-Substitution-2996" class="Function">ids</a> <a id="plfa_plfa-part2-Substitution-8805" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-8806" href="../Substitution/#plfa_plfa-part2-Substitution-8769" class="Bound">Γ</a> <a id="plfa_plfa-part2-Substitution-8808" href="../Untyped/#plfa_plfa-part2-Untyped-3131" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part2-Substitution-8810" href="../Substitution/#plfa_plfa-part2-Substitution-8772" class="Bound">A</a><a id="plfa_plfa-part2-Substitution-8811" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-8813" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-8814" href="../Substitution/#plfa_plfa-part2-Substitution-8774" class="Bound">B</a><a id="plfa_plfa-part2-Substitution-8815" class="Symbol">}</a>
<a id="plfa_plfa-part2-Substitution-8817" href="../Substitution/#plfa_plfa-part2-Substitution-8757" class="Function">Z-shift</a> <a id="plfa_plfa-part2-Substitution-8825" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-8826" href="../Substitution/#plfa_plfa-part2-Substitution-8826" class="Bound">Γ</a><a id="plfa_plfa-part2-Substitution-8827" class="Symbol">}{</a><a id="plfa_plfa-part2-Substitution-8829" href="../Substitution/#plfa_plfa-part2-Substitution-8829" class="Bound">A</a><a id="plfa_plfa-part2-Substitution-8830" class="Symbol">}{</a><a id="plfa_plfa-part2-Substitution-8832" href="../Substitution/#plfa_plfa-part2-Substitution-8832" class="Bound">B</a><a id="plfa_plfa-part2-Substitution-8833" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-8835" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-8837" href="../Substitution/#plfa_plfa-part2-Substitution-1855" class="Postulate">extensionality</a> <a id="plfa_plfa-part2-Substitution-8852" href="../Substitution/#plfa_plfa-part2-Substitution-8870" class="Function">lemma</a>
   <a id="plfa_plfa-part2-Substitution-8861" class="Keyword">where</a>
   <a id="plfa_plfa-part2-Substitution-8870" href="../Substitution/#plfa_plfa-part2-Substitution-8870" class="Function">lemma</a> <a id="plfa_plfa-part2-Substitution-8876" class="Symbol">:</a> <a id="plfa_plfa-part2-Substitution-8878" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-8879" href="../Substitution/#plfa_plfa-part2-Substitution-8879" class="Bound">x</a> <a id="plfa_plfa-part2-Substitution-8881" class="Symbol">:</a> <a id="plfa_plfa-part2-Substitution-8883" href="../Substitution/#plfa_plfa-part2-Substitution-8826" class="Bound">Γ</a> <a id="plfa_plfa-part2-Substitution-8885" href="../Untyped/#plfa_plfa-part2-Untyped-3131" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part2-Substitution-8887" href="../Substitution/#plfa_plfa-part2-Substitution-8829" class="Bound">A</a> <a id="plfa_plfa-part2-Substitution-8889" href="../Untyped/#plfa_plfa-part2-Untyped-3469" class="Datatype Operator">∋</a> <a id="plfa_plfa-part2-Substitution-8891" href="../Substitution/#plfa_plfa-part2-Substitution-8832" class="Bound">B</a><a id="plfa_plfa-part2-Substitution-8892" class="Symbol">)</a> <a id="plfa_plfa-part2-Substitution-8894" class="Symbol">→</a> <a id="plfa_plfa-part2-Substitution-8896" class="Symbol">((</a><a id="plfa_plfa-part2-Substitution-8898" href="../Untyped/#plfa_plfa-part2-Untyped-4282" class="InductiveConstructor Operator">`</a> <a id="plfa_plfa-part2-Substitution-8900" href="../Untyped/#plfa_plfa-part2-Untyped-3505" class="InductiveConstructor">Z</a><a id="plfa_plfa-part2-Substitution-8901" class="Symbol">)</a> <a id="plfa_plfa-part2-Substitution-8903" href="../Substitution/#plfa_plfa-part2-Substitution-3385" class="Function Operator">•</a> <a id="plfa_plfa-part2-Substitution-8905" href="../Substitution/#plfa_plfa-part2-Substitution-3139" class="Function">↑</a><a id="plfa_plfa-part2-Substitution-8906" class="Symbol">)</a> <a id="plfa_plfa-part2-Substitution-8908" href="../Substitution/#plfa_plfa-part2-Substitution-8879" class="Bound">x</a> <a id="plfa_plfa-part2-Substitution-8910" href="https://agda.github.io/agda-stdlib/v1.3/Agda.Builtin.Equality.html#151" class="Datatype Operator">≡</a> <a id="plfa_plfa-part2-Substitution-8912" href="../Substitution/#plfa_plfa-part2-Substitution-2996" class="Function">ids</a> <a id="plfa_plfa-part2-Substitution-8916" href="../Substitution/#plfa_plfa-part2-Substitution-8879" class="Bound">x</a>
   <a id="plfa_plfa-part2-Substitution-8921" href="../Substitution/#plfa_plfa-part2-Substitution-8870" class="Function">lemma</a> <a id="plfa_plfa-part2-Substitution-8927" href="../Untyped/#plfa_plfa-part2-Untyped-3505" class="InductiveConstructor">Z</a> <a id="plfa_plfa-part2-Substitution-8929" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-8931" href="https://agda.github.io/agda-stdlib/v1.3/Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a>
   <a id="plfa_plfa-part2-Substitution-8939" href="../Substitution/#plfa_plfa-part2-Substitution-8870" class="Function">lemma</a> <a id="plfa_plfa-part2-Substitution-8945" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-8946" href="../Untyped/#plfa_plfa-part2-Untyped-3550" class="InductiveConstructor Operator">S</a> <a id="plfa_plfa-part2-Substitution-8948" href="../Substitution/#plfa_plfa-part2-Substitution-8948" class="Bound">y</a><a id="plfa_plfa-part2-Substitution-8949" class="Symbol">)</a> <a id="plfa_plfa-part2-Substitution-8951" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-8953" href="https://agda.github.io/agda-stdlib/v1.3/Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a>
</pre><pre class="Agda"><a id="plfa_plfa-part2-Substitution-sub-idL"></a><a id="plfa_plfa-part2-Substitution-8971" href="../Substitution/#plfa_plfa-part2-Substitution-8971" class="Function">sub-idL</a> <a id="plfa_plfa-part2-Substitution-8979" class="Symbol">:</a> <a id="plfa_plfa-part2-Substitution-8981" class="Symbol">∀{</a><a id="plfa_plfa-part2-Substitution-8983" href="../Substitution/#plfa_plfa-part2-Substitution-8983" class="Bound">Γ</a> <a id="plfa_plfa-part2-Substitution-8985" href="../Substitution/#plfa_plfa-part2-Substitution-8985" class="Bound">Δ</a><a id="plfa_plfa-part2-Substitution-8986" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-8988" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-8989" href="../Substitution/#plfa_plfa-part2-Substitution-8989" class="Bound">σ</a> <a id="plfa_plfa-part2-Substitution-8991" class="Symbol">:</a> <a id="plfa_plfa-part2-Substitution-8993" href="../Substitution/#plfa_plfa-part2-Substitution-2341" class="Function">Subst</a> <a id="plfa_plfa-part2-Substitution-8999" href="../Substitution/#plfa_plfa-part2-Substitution-8983" class="Bound">Γ</a> <a id="plfa_plfa-part2-Substitution-9001" href="../Substitution/#plfa_plfa-part2-Substitution-8985" class="Bound">Δ</a><a id="plfa_plfa-part2-Substitution-9002" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-9004" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-9005" href="../Substitution/#plfa_plfa-part2-Substitution-9005" class="Bound">A</a><a id="plfa_plfa-part2-Substitution-9006" class="Symbol">}</a>
       <a id="plfa_plfa-part2-Substitution-9015" class="Symbol">→</a> <a id="plfa_plfa-part2-Substitution-9017" href="../Substitution/#plfa_plfa-part2-Substitution-2996" class="Function">ids</a> <a id="plfa_plfa-part2-Substitution-9021" href="../Substitution/#plfa_plfa-part2-Substitution-3740" class="Function Operator">⨟</a> <a id="plfa_plfa-part2-Substitution-9023" href="../Substitution/#plfa_plfa-part2-Substitution-8989" class="Bound">σ</a> <a id="plfa_plfa-part2-Substitution-9025" href="https://agda.github.io/agda-stdlib/v1.3/Agda.Builtin.Equality.html#151" class="Datatype Operator">≡</a> <a id="plfa_plfa-part2-Substitution-9027" href="../Substitution/#plfa_plfa-part2-Substitution-8989" class="Bound">σ</a> <a id="plfa_plfa-part2-Substitution-9029" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-9030" href="../Substitution/#plfa_plfa-part2-Substitution-9005" class="Bound">A</a><a id="plfa_plfa-part2-Substitution-9031" class="Symbol">}</a>
<a id="plfa_plfa-part2-Substitution-9033" href="../Substitution/#plfa_plfa-part2-Substitution-8971" class="Function">sub-idL</a> <a id="plfa_plfa-part2-Substitution-9041" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-9043" href="../Substitution/#plfa_plfa-part2-Substitution-1855" class="Postulate">extensionality</a> <a id="plfa_plfa-part2-Substitution-9058" class="Symbol">λ</a> <a id="plfa_plfa-part2-Substitution-9060" href="../Substitution/#plfa_plfa-part2-Substitution-9060" class="Bound">x</a> <a id="plfa_plfa-part2-Substitution-9062" class="Symbol">→</a> <a id="plfa_plfa-part2-Substitution-9064" href="https://agda.github.io/agda-stdlib/v1.3/Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a>
</pre><pre class="Agda"><a id="plfa_plfa-part2-Substitution-sub-dist"></a><a id="plfa_plfa-part2-Substitution-9082" href="../Substitution/#plfa_plfa-part2-Substitution-9082" class="Function">sub-dist</a> <a id="plfa_plfa-part2-Substitution-9091" class="Symbol">:</a>  <a id="plfa_plfa-part2-Substitution-9094" class="Symbol">∀{</a><a id="plfa_plfa-part2-Substitution-9096" href="../Substitution/#plfa_plfa-part2-Substitution-9096" class="Bound">Γ</a> <a id="plfa_plfa-part2-Substitution-9098" href="../Substitution/#plfa_plfa-part2-Substitution-9098" class="Bound">Δ</a> <a id="plfa_plfa-part2-Substitution-9100" href="../Substitution/#plfa_plfa-part2-Substitution-9100" class="Bound">Σ</a> <a id="plfa_plfa-part2-Substitution-9102" class="Symbol">:</a> <a id="plfa_plfa-part2-Substitution-9104" href="../Untyped/#plfa_plfa-part2-Untyped-3093" class="Datatype">Context</a><a id="plfa_plfa-part2-Substitution-9111" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-9113" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-9114" href="../Substitution/#plfa_plfa-part2-Substitution-9114" class="Bound">A</a> <a id="plfa_plfa-part2-Substitution-9116" href="../Substitution/#plfa_plfa-part2-Substitution-9116" class="Bound">B</a><a id="plfa_plfa-part2-Substitution-9117" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-9119" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-9120" href="../Substitution/#plfa_plfa-part2-Substitution-9120" class="Bound">σ</a> <a id="plfa_plfa-part2-Substitution-9122" class="Symbol">:</a> <a id="plfa_plfa-part2-Substitution-9124" href="../Substitution/#plfa_plfa-part2-Substitution-2341" class="Function">Subst</a> <a id="plfa_plfa-part2-Substitution-9130" href="../Substitution/#plfa_plfa-part2-Substitution-9096" class="Bound">Γ</a> <a id="plfa_plfa-part2-Substitution-9132" href="../Substitution/#plfa_plfa-part2-Substitution-9098" class="Bound">Δ</a><a id="plfa_plfa-part2-Substitution-9133" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-9135" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-9136" href="../Substitution/#plfa_plfa-part2-Substitution-9136" class="Bound">τ</a> <a id="plfa_plfa-part2-Substitution-9138" class="Symbol">:</a> <a id="plfa_plfa-part2-Substitution-9140" href="../Substitution/#plfa_plfa-part2-Substitution-2341" class="Function">Subst</a> <a id="plfa_plfa-part2-Substitution-9146" href="../Substitution/#plfa_plfa-part2-Substitution-9098" class="Bound">Δ</a> <a id="plfa_plfa-part2-Substitution-9148" href="../Substitution/#plfa_plfa-part2-Substitution-9100" class="Bound">Σ</a><a id="plfa_plfa-part2-Substitution-9149" class="Symbol">}</a>
              <a id="plfa_plfa-part2-Substitution-9165" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-9166" href="../Substitution/#plfa_plfa-part2-Substitution-9166" class="Bound">M</a> <a id="plfa_plfa-part2-Substitution-9168" class="Symbol">:</a> <a id="plfa_plfa-part2-Substitution-9170" href="../Substitution/#plfa_plfa-part2-Substitution-9098" class="Bound">Δ</a> <a id="plfa_plfa-part2-Substitution-9172" href="../Untyped/#plfa_plfa-part2-Untyped-4246" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Substitution-9174" href="../Substitution/#plfa_plfa-part2-Substitution-9114" class="Bound">A</a><a id="plfa_plfa-part2-Substitution-9175" class="Symbol">}</a>
         <a id="plfa_plfa-part2-Substitution-9186" class="Symbol">→</a> <a id="plfa_plfa-part2-Substitution-9188" class="Symbol">((</a><a id="plfa_plfa-part2-Substitution-9190" href="../Substitution/#plfa_plfa-part2-Substitution-9166" class="Bound">M</a> <a id="plfa_plfa-part2-Substitution-9192" href="../Substitution/#plfa_plfa-part2-Substitution-3385" class="Function Operator">•</a> <a id="plfa_plfa-part2-Substitution-9194" href="../Substitution/#plfa_plfa-part2-Substitution-9120" class="Bound">σ</a><a id="plfa_plfa-part2-Substitution-9195" class="Symbol">)</a> <a id="plfa_plfa-part2-Substitution-9197" href="../Substitution/#plfa_plfa-part2-Substitution-3740" class="Function Operator">⨟</a> <a id="plfa_plfa-part2-Substitution-9199" href="../Substitution/#plfa_plfa-part2-Substitution-9136" class="Bound">τ</a><a id="plfa_plfa-part2-Substitution-9200" class="Symbol">)</a> <a id="plfa_plfa-part2-Substitution-9202" href="https://agda.github.io/agda-stdlib/v1.3/Agda.Builtin.Equality.html#151" class="Datatype Operator">≡</a> <a id="plfa_plfa-part2-Substitution-9204" class="Symbol">((</a><a id="plfa_plfa-part2-Substitution-9206" href="../Untyped/#plfa_plfa-part2-Untyped-6943" class="Function">subst</a> <a id="plfa_plfa-part2-Substitution-9212" href="../Substitution/#plfa_plfa-part2-Substitution-9136" class="Bound">τ</a> <a id="plfa_plfa-part2-Substitution-9214" href="../Substitution/#plfa_plfa-part2-Substitution-9166" class="Bound">M</a><a id="plfa_plfa-part2-Substitution-9215" class="Symbol">)</a> <a id="plfa_plfa-part2-Substitution-9217" href="../Substitution/#plfa_plfa-part2-Substitution-3385" class="Function Operator">•</a> <a id="plfa_plfa-part2-Substitution-9219" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-9220" href="../Substitution/#plfa_plfa-part2-Substitution-9120" class="Bound">σ</a> <a id="plfa_plfa-part2-Substitution-9222" href="../Substitution/#plfa_plfa-part2-Substitution-3740" class="Function Operator">⨟</a> <a id="plfa_plfa-part2-Substitution-9224" href="../Substitution/#plfa_plfa-part2-Substitution-9136" class="Bound">τ</a><a id="plfa_plfa-part2-Substitution-9225" class="Symbol">))</a> <a id="plfa_plfa-part2-Substitution-9228" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-9229" href="../Substitution/#plfa_plfa-part2-Substitution-9116" class="Bound">B</a><a id="plfa_plfa-part2-Substitution-9230" class="Symbol">}</a>
<a id="plfa_plfa-part2-Substitution-9232" href="../Substitution/#plfa_plfa-part2-Substitution-9082" class="Function">sub-dist</a> <a id="plfa_plfa-part2-Substitution-9241" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-9242" href="../Substitution/#plfa_plfa-part2-Substitution-9242" class="Bound">Γ</a><a id="plfa_plfa-part2-Substitution-9243" class="Symbol">}{</a><a id="plfa_plfa-part2-Substitution-9245" href="../Substitution/#plfa_plfa-part2-Substitution-9245" class="Bound">Δ</a><a id="plfa_plfa-part2-Substitution-9246" class="Symbol">}{</a><a id="plfa_plfa-part2-Substitution-9248" href="../Substitution/#plfa_plfa-part2-Substitution-9248" class="Bound">Σ</a><a id="plfa_plfa-part2-Substitution-9249" class="Symbol">}{</a><a id="plfa_plfa-part2-Substitution-9251" href="../Substitution/#plfa_plfa-part2-Substitution-9251" class="Bound">A</a><a id="plfa_plfa-part2-Substitution-9252" class="Symbol">}{</a><a id="plfa_plfa-part2-Substitution-9254" href="../Substitution/#plfa_plfa-part2-Substitution-9254" class="Bound">B</a><a id="plfa_plfa-part2-Substitution-9255" class="Symbol">}{</a><a id="plfa_plfa-part2-Substitution-9257" href="../Substitution/#plfa_plfa-part2-Substitution-9257" class="Bound">σ</a><a id="plfa_plfa-part2-Substitution-9258" class="Symbol">}{</a><a id="plfa_plfa-part2-Substitution-9260" href="../Substitution/#plfa_plfa-part2-Substitution-9260" class="Bound">τ</a><a id="plfa_plfa-part2-Substitution-9261" class="Symbol">}{</a><a id="plfa_plfa-part2-Substitution-9263" href="../Substitution/#plfa_plfa-part2-Substitution-9263" class="Bound">M</a><a id="plfa_plfa-part2-Substitution-9264" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-9266" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-9268" href="../Substitution/#plfa_plfa-part2-Substitution-1855" class="Postulate">extensionality</a> <a id="plfa_plfa-part2-Substitution-9283" class="Symbol">λ</a> <a id="plfa_plfa-part2-Substitution-9285" href="../Substitution/#plfa_plfa-part2-Substitution-9285" class="Bound">x</a> <a id="plfa_plfa-part2-Substitution-9287" class="Symbol">→</a> <a id="plfa_plfa-part2-Substitution-9289" href="../Substitution/#plfa_plfa-part2-Substitution-9313" class="Function">lemma</a> <a id="plfa_plfa-part2-Substitution-9295" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-9296" class="Argument">x</a> <a id="plfa_plfa-part2-Substitution-9298" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-9300" href="../Substitution/#plfa_plfa-part2-Substitution-9285" class="Bound">x</a><a id="plfa_plfa-part2-Substitution-9301" class="Symbol">}</a>
  <a id="plfa_plfa-part2-Substitution-9305" class="Keyword">where</a>
  <a id="plfa_plfa-part2-Substitution-9313" href="../Substitution/#plfa_plfa-part2-Substitution-9313" class="Function">lemma</a> <a id="plfa_plfa-part2-Substitution-9319" class="Symbol">:</a> <a id="plfa_plfa-part2-Substitution-9321" class="Symbol">∀</a> <a id="plfa_plfa-part2-Substitution-9323" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-9324" href="../Substitution/#plfa_plfa-part2-Substitution-9324" class="Bound">x</a> <a id="plfa_plfa-part2-Substitution-9326" class="Symbol">:</a> <a id="plfa_plfa-part2-Substitution-9328" href="../Substitution/#plfa_plfa-part2-Substitution-9242" class="Bound">Γ</a> <a id="plfa_plfa-part2-Substitution-9330" href="../Untyped/#plfa_plfa-part2-Untyped-3131" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part2-Substitution-9332" href="../Substitution/#plfa_plfa-part2-Substitution-9251" class="Bound">A</a> <a id="plfa_plfa-part2-Substitution-9334" href="../Untyped/#plfa_plfa-part2-Untyped-3469" class="Datatype Operator">∋</a> <a id="plfa_plfa-part2-Substitution-9336" href="../Substitution/#plfa_plfa-part2-Substitution-9254" class="Bound">B</a><a id="plfa_plfa-part2-Substitution-9337" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-9339" class="Symbol">→</a> <a id="plfa_plfa-part2-Substitution-9341" class="Symbol">((</a><a id="plfa_plfa-part2-Substitution-9343" href="../Substitution/#plfa_plfa-part2-Substitution-9263" class="Bound">M</a> <a id="plfa_plfa-part2-Substitution-9345" href="../Substitution/#plfa_plfa-part2-Substitution-3385" class="Function Operator">•</a> <a id="plfa_plfa-part2-Substitution-9347" href="../Substitution/#plfa_plfa-part2-Substitution-9257" class="Bound">σ</a><a id="plfa_plfa-part2-Substitution-9348" class="Symbol">)</a> <a id="plfa_plfa-part2-Substitution-9350" href="../Substitution/#plfa_plfa-part2-Substitution-3740" class="Function Operator">⨟</a> <a id="plfa_plfa-part2-Substitution-9352" href="../Substitution/#plfa_plfa-part2-Substitution-9260" class="Bound">τ</a><a id="plfa_plfa-part2-Substitution-9353" class="Symbol">)</a> <a id="plfa_plfa-part2-Substitution-9355" href="../Substitution/#plfa_plfa-part2-Substitution-9324" class="Bound">x</a> <a id="plfa_plfa-part2-Substitution-9357" href="https://agda.github.io/agda-stdlib/v1.3/Agda.Builtin.Equality.html#151" class="Datatype Operator">≡</a> <a id="plfa_plfa-part2-Substitution-9359" class="Symbol">((</a><a id="plfa_plfa-part2-Substitution-9361" href="../Untyped/#plfa_plfa-part2-Untyped-6943" class="Function">subst</a> <a id="plfa_plfa-part2-Substitution-9367" href="../Substitution/#plfa_plfa-part2-Substitution-9260" class="Bound">τ</a> <a id="plfa_plfa-part2-Substitution-9369" href="../Substitution/#plfa_plfa-part2-Substitution-9263" class="Bound">M</a><a id="plfa_plfa-part2-Substitution-9370" class="Symbol">)</a> <a id="plfa_plfa-part2-Substitution-9372" href="../Substitution/#plfa_plfa-part2-Substitution-3385" class="Function Operator">•</a> <a id="plfa_plfa-part2-Substitution-9374" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-9375" href="../Substitution/#plfa_plfa-part2-Substitution-9257" class="Bound">σ</a> <a id="plfa_plfa-part2-Substitution-9377" href="../Substitution/#plfa_plfa-part2-Substitution-3740" class="Function Operator">⨟</a> <a id="plfa_plfa-part2-Substitution-9379" href="../Substitution/#plfa_plfa-part2-Substitution-9260" class="Bound">τ</a><a id="plfa_plfa-part2-Substitution-9380" class="Symbol">))</a> <a id="plfa_plfa-part2-Substitution-9383" href="../Substitution/#plfa_plfa-part2-Substitution-9324" class="Bound">x</a>
  <a id="plfa_plfa-part2-Substitution-9387" href="../Substitution/#plfa_plfa-part2-Substitution-9313" class="Function">lemma</a> <a id="plfa_plfa-part2-Substitution-9393" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-9394" class="Argument">x</a> <a id="plfa_plfa-part2-Substitution-9396" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-9398" href="../Untyped/#plfa_plfa-part2-Untyped-3505" class="InductiveConstructor">Z</a><a id="plfa_plfa-part2-Substitution-9399" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-9401" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-9403" href="https://agda.github.io/agda-stdlib/v1.3/Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a>
  <a id="plfa_plfa-part2-Substitution-9410" href="../Substitution/#plfa_plfa-part2-Substitution-9313" class="Function">lemma</a> <a id="plfa_plfa-part2-Substitution-9416" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-9417" class="Argument">x</a> <a id="plfa_plfa-part2-Substitution-9419" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-9421" href="../Untyped/#plfa_plfa-part2-Untyped-3550" class="InductiveConstructor Operator">S</a> <a id="plfa_plfa-part2-Substitution-9423" href="../Substitution/#plfa_plfa-part2-Substitution-9423" class="Bound">x</a><a id="plfa_plfa-part2-Substitution-9424" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-9426" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-9428" href="https://agda.github.io/agda-stdlib/v1.3/Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a>
</pre><pre class="Agda"><a id="plfa_plfa-part2-Substitution-sub-app"></a><a id="plfa_plfa-part2-Substitution-9446" href="../Substitution/#plfa_plfa-part2-Substitution-9446" class="Function">sub-app</a> <a id="plfa_plfa-part2-Substitution-9454" class="Symbol">:</a> <a id="plfa_plfa-part2-Substitution-9456" class="Symbol">∀{</a><a id="plfa_plfa-part2-Substitution-9458" href="../Substitution/#plfa_plfa-part2-Substitution-9458" class="Bound">Γ</a> <a id="plfa_plfa-part2-Substitution-9460" href="../Substitution/#plfa_plfa-part2-Substitution-9460" class="Bound">Δ</a><a id="plfa_plfa-part2-Substitution-9461" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-9463" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-9464" href="../Substitution/#plfa_plfa-part2-Substitution-9464" class="Bound">σ</a> <a id="plfa_plfa-part2-Substitution-9466" class="Symbol">:</a> <a id="plfa_plfa-part2-Substitution-9468" href="../Substitution/#plfa_plfa-part2-Substitution-2341" class="Function">Subst</a> <a id="plfa_plfa-part2-Substitution-9474" href="../Substitution/#plfa_plfa-part2-Substitution-9458" class="Bound">Γ</a> <a id="plfa_plfa-part2-Substitution-9476" href="../Substitution/#plfa_plfa-part2-Substitution-9460" class="Bound">Δ</a><a id="plfa_plfa-part2-Substitution-9477" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-9479" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-9480" href="../Substitution/#plfa_plfa-part2-Substitution-9480" class="Bound">L</a> <a id="plfa_plfa-part2-Substitution-9482" class="Symbol">:</a> <a id="plfa_plfa-part2-Substitution-9484" href="../Substitution/#plfa_plfa-part2-Substitution-9458" class="Bound">Γ</a> <a id="plfa_plfa-part2-Substitution-9486" href="../Untyped/#plfa_plfa-part2-Untyped-4246" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Substitution-9488" href="../Untyped/#plfa_plfa-part2-Untyped-2820" class="InductiveConstructor">★</a><a id="plfa_plfa-part2-Substitution-9489" class="Symbol">}{</a><a id="plfa_plfa-part2-Substitution-9491" href="../Substitution/#plfa_plfa-part2-Substitution-9491" class="Bound">M</a> <a id="plfa_plfa-part2-Substitution-9493" class="Symbol">:</a> <a id="plfa_plfa-part2-Substitution-9495" href="../Substitution/#plfa_plfa-part2-Substitution-9458" class="Bound">Γ</a> <a id="plfa_plfa-part2-Substitution-9497" href="../Untyped/#plfa_plfa-part2-Untyped-4246" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Substitution-9499" href="../Untyped/#plfa_plfa-part2-Untyped-2820" class="InductiveConstructor">★</a><a id="plfa_plfa-part2-Substitution-9500" class="Symbol">}</a>
        <a id="plfa_plfa-part2-Substitution-9510" class="Symbol">→</a> <a id="plfa_plfa-part2-Substitution-9512" href="../Substitution/#plfa_plfa-part2-Substitution-2490" class="Function Operator">⟪</a> <a id="plfa_plfa-part2-Substitution-9514" href="../Substitution/#plfa_plfa-part2-Substitution-9464" class="Bound">σ</a> <a id="plfa_plfa-part2-Substitution-9516" href="../Substitution/#plfa_plfa-part2-Substitution-2490" class="Function Operator">⟫</a> <a id="plfa_plfa-part2-Substitution-9518" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-9519" href="../Substitution/#plfa_plfa-part2-Substitution-9480" class="Bound">L</a> <a id="plfa_plfa-part2-Substitution-9521" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Substitution-9523" href="../Substitution/#plfa_plfa-part2-Substitution-9491" class="Bound">M</a><a id="plfa_plfa-part2-Substitution-9524" class="Symbol">)</a>  <a id="plfa_plfa-part2-Substitution-9527" href="https://agda.github.io/agda-stdlib/v1.3/Agda.Builtin.Equality.html#151" class="Datatype Operator">≡</a> <a id="plfa_plfa-part2-Substitution-9529" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-9530" href="../Substitution/#plfa_plfa-part2-Substitution-2490" class="Function Operator">⟪</a> <a id="plfa_plfa-part2-Substitution-9532" href="../Substitution/#plfa_plfa-part2-Substitution-9464" class="Bound">σ</a> <a id="plfa_plfa-part2-Substitution-9534" href="../Substitution/#plfa_plfa-part2-Substitution-2490" class="Function Operator">⟫</a> <a id="plfa_plfa-part2-Substitution-9536" href="../Substitution/#plfa_plfa-part2-Substitution-9480" class="Bound">L</a><a id="plfa_plfa-part2-Substitution-9537" class="Symbol">)</a> <a id="plfa_plfa-part2-Substitution-9539" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Substitution-9541" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-9542" href="../Substitution/#plfa_plfa-part2-Substitution-2490" class="Function Operator">⟪</a> <a id="plfa_plfa-part2-Substitution-9544" href="../Substitution/#plfa_plfa-part2-Substitution-9464" class="Bound">σ</a> <a id="plfa_plfa-part2-Substitution-9546" href="../Substitution/#plfa_plfa-part2-Substitution-2490" class="Function Operator">⟫</a> <a id="plfa_plfa-part2-Substitution-9548" href="../Substitution/#plfa_plfa-part2-Substitution-9491" class="Bound">M</a><a id="plfa_plfa-part2-Substitution-9549" class="Symbol">)</a>
<a id="plfa_plfa-part2-Substitution-9551" href="../Substitution/#plfa_plfa-part2-Substitution-9446" class="Function">sub-app</a> <a id="plfa_plfa-part2-Substitution-9559" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-9561" href="https://agda.github.io/agda-stdlib/v1.3/Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a>
</pre><h2 id="interlude-congruences">Interlude: congruences</h2><p>In this section we establish congruence rules for the σ algebra operators <code>•</code> and <code>⨟</code> and for <code>subst</code> and its helper functions <code>ext</code>, <code>rename</code>, <code>exts</code>, and <code>subst-zero</code>. These congruence rules help with the equational reasoning in the later sections of this chapter.</p><p>[JGS: I would have liked to prove all of these via cong and cong₂, but I have not yet found a way to make that work. It seems that various implicit parameters get in the way.]</p><pre class="Agda"><a id="plfa_plfa-part2-Substitution-cong-ext"></a><a id="plfa_plfa-part2-Substitution-10054" href="../Substitution/#plfa_plfa-part2-Substitution-10054" class="Function">cong-ext</a> <a id="plfa_plfa-part2-Substitution-10063" class="Symbol">:</a> <a id="plfa_plfa-part2-Substitution-10065" class="Symbol">∀{</a><a id="plfa_plfa-part2-Substitution-10067" href="../Substitution/#plfa_plfa-part2-Substitution-10067" class="Bound">Γ</a> <a id="plfa_plfa-part2-Substitution-10069" href="../Substitution/#plfa_plfa-part2-Substitution-10069" class="Bound">Δ</a><a id="plfa_plfa-part2-Substitution-10070" class="Symbol">}{</a><a id="plfa_plfa-part2-Substitution-10072" href="../Substitution/#plfa_plfa-part2-Substitution-10072" class="Bound">ρ</a> <a id="plfa_plfa-part2-Substitution-10074" href="../Substitution/#plfa_plfa-part2-Substitution-10074" class="Bound">ρ′</a> <a id="plfa_plfa-part2-Substitution-10077" class="Symbol">:</a> <a id="plfa_plfa-part2-Substitution-10079" href="../Substitution/#plfa_plfa-part2-Substitution-2124" class="Function">Rename</a> <a id="plfa_plfa-part2-Substitution-10086" href="../Substitution/#plfa_plfa-part2-Substitution-10067" class="Bound">Γ</a> <a id="plfa_plfa-part2-Substitution-10088" href="../Substitution/#plfa_plfa-part2-Substitution-10069" class="Bound">Δ</a><a id="plfa_plfa-part2-Substitution-10089" class="Symbol">}{</a><a id="plfa_plfa-part2-Substitution-10091" href="../Substitution/#plfa_plfa-part2-Substitution-10091" class="Bound">B</a><a id="plfa_plfa-part2-Substitution-10092" class="Symbol">}</a>
   <a id="plfa_plfa-part2-Substitution-10097" class="Symbol">→</a> <a id="plfa_plfa-part2-Substitution-10099" class="Symbol">(∀{</a><a id="plfa_plfa-part2-Substitution-10102" href="../Substitution/#plfa_plfa-part2-Substitution-10102" class="Bound">A</a><a id="plfa_plfa-part2-Substitution-10103" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-10105" class="Symbol">→</a> <a id="plfa_plfa-part2-Substitution-10107" href="../Substitution/#plfa_plfa-part2-Substitution-10072" class="Bound">ρ</a> <a id="plfa_plfa-part2-Substitution-10109" href="https://agda.github.io/agda-stdlib/v1.3/Agda.Builtin.Equality.html#151" class="Datatype Operator">≡</a> <a id="plfa_plfa-part2-Substitution-10111" href="../Substitution/#plfa_plfa-part2-Substitution-10074" class="Bound">ρ′</a> <a id="plfa_plfa-part2-Substitution-10114" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-10115" href="../Substitution/#plfa_plfa-part2-Substitution-10102" class="Bound">A</a><a id="plfa_plfa-part2-Substitution-10116" class="Symbol">})</a>
     <a id="plfa_plfa-part2-Substitution-10124" class="Comment">---------------------------------</a>
   <a id="plfa_plfa-part2-Substitution-10161" class="Symbol">→</a> <a id="plfa_plfa-part2-Substitution-10163" class="Symbol">∀{</a><a id="plfa_plfa-part2-Substitution-10165" href="../Substitution/#plfa_plfa-part2-Substitution-10165" class="Bound">A</a><a id="plfa_plfa-part2-Substitution-10166" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-10168" class="Symbol">→</a> <a id="plfa_plfa-part2-Substitution-10170" href="../Untyped/#plfa_plfa-part2-Untyped-5893" class="Function">ext</a> <a id="plfa_plfa-part2-Substitution-10174" href="../Substitution/#plfa_plfa-part2-Substitution-10072" class="Bound">ρ</a> <a id="plfa_plfa-part2-Substitution-10176" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-10177" class="Argument">B</a> <a id="plfa_plfa-part2-Substitution-10179" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-10181" href="../Substitution/#plfa_plfa-part2-Substitution-10091" class="Bound">B</a><a id="plfa_plfa-part2-Substitution-10182" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-10184" href="https://agda.github.io/agda-stdlib/v1.3/Agda.Builtin.Equality.html#151" class="Datatype Operator">≡</a> <a id="plfa_plfa-part2-Substitution-10186" href="../Untyped/#plfa_plfa-part2-Untyped-5893" class="Function">ext</a> <a id="plfa_plfa-part2-Substitution-10190" href="../Substitution/#plfa_plfa-part2-Substitution-10074" class="Bound">ρ′</a> <a id="plfa_plfa-part2-Substitution-10193" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-10194" href="../Substitution/#plfa_plfa-part2-Substitution-10165" class="Bound">A</a><a id="plfa_plfa-part2-Substitution-10195" class="Symbol">}</a>
<a id="plfa_plfa-part2-Substitution-10197" href="../Substitution/#plfa_plfa-part2-Substitution-10054" class="Function">cong-ext</a><a id="plfa_plfa-part2-Substitution-10205" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-10206" href="../Substitution/#plfa_plfa-part2-Substitution-10206" class="Bound">Γ</a><a id="plfa_plfa-part2-Substitution-10207" class="Symbol">}{</a><a id="plfa_plfa-part2-Substitution-10209" href="../Substitution/#plfa_plfa-part2-Substitution-10209" class="Bound">Δ</a><a id="plfa_plfa-part2-Substitution-10210" class="Symbol">}{</a><a id="plfa_plfa-part2-Substitution-10212" href="../Substitution/#plfa_plfa-part2-Substitution-10212" class="Bound">ρ</a><a id="plfa_plfa-part2-Substitution-10213" class="Symbol">}{</a><a id="plfa_plfa-part2-Substitution-10215" href="../Substitution/#plfa_plfa-part2-Substitution-10215" class="Bound">ρ′</a><a id="plfa_plfa-part2-Substitution-10217" class="Symbol">}{</a><a id="plfa_plfa-part2-Substitution-10219" href="../Substitution/#plfa_plfa-part2-Substitution-10219" class="Bound">B</a><a id="plfa_plfa-part2-Substitution-10220" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-10222" href="../Substitution/#plfa_plfa-part2-Substitution-10222" class="Bound">rr</a> <a id="plfa_plfa-part2-Substitution-10225" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-10226" href="../Substitution/#plfa_plfa-part2-Substitution-10226" class="Bound">A</a><a id="plfa_plfa-part2-Substitution-10227" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-10229" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-10231" href="../Substitution/#plfa_plfa-part2-Substitution-1855" class="Postulate">extensionality</a> <a id="plfa_plfa-part2-Substitution-10246" class="Symbol">λ</a> <a id="plfa_plfa-part2-Substitution-10248" href="../Substitution/#plfa_plfa-part2-Substitution-10248" class="Bound">x</a> <a id="plfa_plfa-part2-Substitution-10250" class="Symbol">→</a> <a id="plfa_plfa-part2-Substitution-10252" href="../Substitution/#plfa_plfa-part2-Substitution-10272" class="Function">lemma</a> <a id="plfa_plfa-part2-Substitution-10258" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-10259" href="../Substitution/#plfa_plfa-part2-Substitution-10248" class="Bound">x</a><a id="plfa_plfa-part2-Substitution-10260" class="Symbol">}</a>
  <a id="plfa_plfa-part2-Substitution-10264" class="Keyword">where</a>
  <a id="plfa_plfa-part2-Substitution-10272" href="../Substitution/#plfa_plfa-part2-Substitution-10272" class="Function">lemma</a> <a id="plfa_plfa-part2-Substitution-10278" class="Symbol">:</a> <a id="plfa_plfa-part2-Substitution-10280" class="Symbol">∀{</a><a id="plfa_plfa-part2-Substitution-10282" href="../Substitution/#plfa_plfa-part2-Substitution-10282" class="Bound">x</a> <a id="plfa_plfa-part2-Substitution-10284" class="Symbol">:</a> <a id="plfa_plfa-part2-Substitution-10286" href="../Substitution/#plfa_plfa-part2-Substitution-10206" class="Bound">Γ</a> <a id="plfa_plfa-part2-Substitution-10288" href="../Untyped/#plfa_plfa-part2-Untyped-3131" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part2-Substitution-10290" href="../Substitution/#plfa_plfa-part2-Substitution-10219" class="Bound">B</a> <a id="plfa_plfa-part2-Substitution-10292" href="../Untyped/#plfa_plfa-part2-Untyped-3469" class="Datatype Operator">∋</a> <a id="plfa_plfa-part2-Substitution-10294" href="../Substitution/#plfa_plfa-part2-Substitution-10226" class="Bound">A</a><a id="plfa_plfa-part2-Substitution-10295" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-10297" class="Symbol">→</a> <a id="plfa_plfa-part2-Substitution-10299" href="../Untyped/#plfa_plfa-part2-Untyped-5893" class="Function">ext</a> <a id="plfa_plfa-part2-Substitution-10303" href="../Substitution/#plfa_plfa-part2-Substitution-10212" class="Bound">ρ</a> <a id="plfa_plfa-part2-Substitution-10305" href="../Substitution/#plfa_plfa-part2-Substitution-10282" class="Bound">x</a> <a id="plfa_plfa-part2-Substitution-10307" href="https://agda.github.io/agda-stdlib/v1.3/Agda.Builtin.Equality.html#151" class="Datatype Operator">≡</a> <a id="plfa_plfa-part2-Substitution-10309" href="../Untyped/#plfa_plfa-part2-Untyped-5893" class="Function">ext</a> <a id="plfa_plfa-part2-Substitution-10313" href="../Substitution/#plfa_plfa-part2-Substitution-10215" class="Bound">ρ′</a> <a id="plfa_plfa-part2-Substitution-10316" href="../Substitution/#plfa_plfa-part2-Substitution-10282" class="Bound">x</a>
  <a id="plfa_plfa-part2-Substitution-10320" href="../Substitution/#plfa_plfa-part2-Substitution-10272" class="Function">lemma</a> <a id="plfa_plfa-part2-Substitution-10326" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-10327" href="../Untyped/#plfa_plfa-part2-Untyped-3505" class="InductiveConstructor">Z</a><a id="plfa_plfa-part2-Substitution-10328" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-10330" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-10332" href="https://agda.github.io/agda-stdlib/v1.3/Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a>
  <a id="plfa_plfa-part2-Substitution-10339" href="../Substitution/#plfa_plfa-part2-Substitution-10272" class="Function">lemma</a> <a id="plfa_plfa-part2-Substitution-10345" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-10346" href="../Untyped/#plfa_plfa-part2-Untyped-3550" class="InductiveConstructor Operator">S</a> <a id="plfa_plfa-part2-Substitution-10348" href="../Substitution/#plfa_plfa-part2-Substitution-10348" class="Bound">y</a><a id="plfa_plfa-part2-Substitution-10349" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-10351" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-10353" href="https://agda.github.io/agda-stdlib/v1.3/Relation.Binary.PropositionalEquality.Core.html#1131" class="Function">cong</a> <a id="plfa_plfa-part2-Substitution-10358" href="../Untyped/#plfa_plfa-part2-Untyped-3550" class="InductiveConstructor Operator">S_</a> <a id="plfa_plfa-part2-Substitution-10361" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-10362" href="https://agda.github.io/agda-stdlib/v1.3/Relation.Binary.PropositionalEquality.html#1396" class="Function">cong-app</a> <a id="plfa_plfa-part2-Substitution-10371" href="../Substitution/#plfa_plfa-part2-Substitution-10222" class="Bound">rr</a> <a id="plfa_plfa-part2-Substitution-10374" href="../Substitution/#plfa_plfa-part2-Substitution-10348" class="Bound">y</a><a id="plfa_plfa-part2-Substitution-10375" class="Symbol">)</a>
</pre><pre class="Agda"><a id="plfa_plfa-part2-Substitution-cong-rename"></a><a id="plfa_plfa-part2-Substitution-10390" href="../Substitution/#plfa_plfa-part2-Substitution-10390" class="Function">cong-rename</a> <a id="plfa_plfa-part2-Substitution-10402" class="Symbol">:</a> <a id="plfa_plfa-part2-Substitution-10404" class="Symbol">∀{</a><a id="plfa_plfa-part2-Substitution-10406" href="../Substitution/#plfa_plfa-part2-Substitution-10406" class="Bound">Γ</a> <a id="plfa_plfa-part2-Substitution-10408" href="../Substitution/#plfa_plfa-part2-Substitution-10408" class="Bound">Δ</a><a id="plfa_plfa-part2-Substitution-10409" class="Symbol">}{</a><a id="plfa_plfa-part2-Substitution-10411" href="../Substitution/#plfa_plfa-part2-Substitution-10411" class="Bound">ρ</a> <a id="plfa_plfa-part2-Substitution-10413" href="../Substitution/#plfa_plfa-part2-Substitution-10413" class="Bound">ρ′</a> <a id="plfa_plfa-part2-Substitution-10416" class="Symbol">:</a> <a id="plfa_plfa-part2-Substitution-10418" href="../Substitution/#plfa_plfa-part2-Substitution-2124" class="Function">Rename</a> <a id="plfa_plfa-part2-Substitution-10425" href="../Substitution/#plfa_plfa-part2-Substitution-10406" class="Bound">Γ</a> <a id="plfa_plfa-part2-Substitution-10427" href="../Substitution/#plfa_plfa-part2-Substitution-10408" class="Bound">Δ</a><a id="plfa_plfa-part2-Substitution-10428" class="Symbol">}{</a><a id="plfa_plfa-part2-Substitution-10430" href="../Substitution/#plfa_plfa-part2-Substitution-10430" class="Bound">B</a><a id="plfa_plfa-part2-Substitution-10431" class="Symbol">}{</a><a id="plfa_plfa-part2-Substitution-10433" href="../Substitution/#plfa_plfa-part2-Substitution-10433" class="Bound">M</a> <a id="plfa_plfa-part2-Substitution-10435" class="Symbol">:</a> <a id="plfa_plfa-part2-Substitution-10437" href="../Substitution/#plfa_plfa-part2-Substitution-10406" class="Bound">Γ</a> <a id="plfa_plfa-part2-Substitution-10439" href="../Untyped/#plfa_plfa-part2-Untyped-4246" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Substitution-10441" href="../Substitution/#plfa_plfa-part2-Substitution-10430" class="Bound">B</a><a id="plfa_plfa-part2-Substitution-10442" class="Symbol">}</a>
        <a id="plfa_plfa-part2-Substitution-10452" class="Symbol">→</a> <a id="plfa_plfa-part2-Substitution-10454" class="Symbol">(∀{</a><a id="plfa_plfa-part2-Substitution-10457" href="../Substitution/#plfa_plfa-part2-Substitution-10457" class="Bound">A</a><a id="plfa_plfa-part2-Substitution-10458" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-10460" class="Symbol">→</a> <a id="plfa_plfa-part2-Substitution-10462" href="../Substitution/#plfa_plfa-part2-Substitution-10411" class="Bound">ρ</a> <a id="plfa_plfa-part2-Substitution-10464" href="https://agda.github.io/agda-stdlib/v1.3/Agda.Builtin.Equality.html#151" class="Datatype Operator">≡</a> <a id="plfa_plfa-part2-Substitution-10466" href="../Substitution/#plfa_plfa-part2-Substitution-10413" class="Bound">ρ′</a> <a id="plfa_plfa-part2-Substitution-10469" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-10470" href="../Substitution/#plfa_plfa-part2-Substitution-10457" class="Bound">A</a><a id="plfa_plfa-part2-Substitution-10471" class="Symbol">})</a>
          <a id="plfa_plfa-part2-Substitution-10484" class="Comment">------------------------</a>
        <a id="plfa_plfa-part2-Substitution-10517" class="Symbol">→</a> <a id="plfa_plfa-part2-Substitution-10519" href="../Untyped/#plfa_plfa-part2-Untyped-6207" class="Function">rename</a> <a id="plfa_plfa-part2-Substitution-10526" href="../Substitution/#plfa_plfa-part2-Substitution-10411" class="Bound">ρ</a> <a id="plfa_plfa-part2-Substitution-10528" href="../Substitution/#plfa_plfa-part2-Substitution-10433" class="Bound">M</a> <a id="plfa_plfa-part2-Substitution-10530" href="https://agda.github.io/agda-stdlib/v1.3/Agda.Builtin.Equality.html#151" class="Datatype Operator">≡</a> <a id="plfa_plfa-part2-Substitution-10532" href="../Untyped/#plfa_plfa-part2-Untyped-6207" class="Function">rename</a> <a id="plfa_plfa-part2-Substitution-10539" href="../Substitution/#plfa_plfa-part2-Substitution-10413" class="Bound">ρ′</a> <a id="plfa_plfa-part2-Substitution-10542" href="../Substitution/#plfa_plfa-part2-Substitution-10433" class="Bound">M</a>
<a id="plfa_plfa-part2-Substitution-10544" href="../Substitution/#plfa_plfa-part2-Substitution-10390" class="Function">cong-rename</a> <a id="plfa_plfa-part2-Substitution-10556" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-10557" class="Argument">M</a> <a id="plfa_plfa-part2-Substitution-10559" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-10561" href="../Untyped/#plfa_plfa-part2-Untyped-4282" class="InductiveConstructor Operator">`</a> <a id="plfa_plfa-part2-Substitution-10563" href="../Substitution/#plfa_plfa-part2-Substitution-10563" class="Bound">x</a><a id="plfa_plfa-part2-Substitution-10564" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-10566" href="../Substitution/#plfa_plfa-part2-Substitution-10566" class="Bound">rr</a> <a id="plfa_plfa-part2-Substitution-10569" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-10571" href="https://agda.github.io/agda-stdlib/v1.3/Relation.Binary.PropositionalEquality.Core.html#1131" class="Function">cong</a> <a id="plfa_plfa-part2-Substitution-10576" href="../Untyped/#plfa_plfa-part2-Untyped-4282" class="InductiveConstructor Operator">`_</a> <a id="plfa_plfa-part2-Substitution-10579" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-10580" href="https://agda.github.io/agda-stdlib/v1.3/Relation.Binary.PropositionalEquality.html#1396" class="Function">cong-app</a> <a id="plfa_plfa-part2-Substitution-10589" href="../Substitution/#plfa_plfa-part2-Substitution-10566" class="Bound">rr</a> <a id="plfa_plfa-part2-Substitution-10592" href="../Substitution/#plfa_plfa-part2-Substitution-10563" class="Bound">x</a><a id="plfa_plfa-part2-Substitution-10593" class="Symbol">)</a>
<a id="plfa_plfa-part2-Substitution-10595" href="../Substitution/#plfa_plfa-part2-Substitution-10390" class="Function">cong-rename</a> <a id="plfa_plfa-part2-Substitution-10607" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-10608" class="Argument">ρ</a> <a id="plfa_plfa-part2-Substitution-10610" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-10612" href="../Substitution/#plfa_plfa-part2-Substitution-10612" class="Bound">ρ</a><a id="plfa_plfa-part2-Substitution-10613" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-10615" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-10616" class="Argument">ρ′</a> <a id="plfa_plfa-part2-Substitution-10619" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-10621" href="../Substitution/#plfa_plfa-part2-Substitution-10621" class="Bound">ρ′</a><a id="plfa_plfa-part2-Substitution-10623" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-10625" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-10626" class="Argument">M</a> <a id="plfa_plfa-part2-Substitution-10628" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-10630" href="../Untyped/#plfa_plfa-part2-Untyped-4334" class="InductiveConstructor Operator">ƛ</a> <a id="plfa_plfa-part2-Substitution-10632" href="../Substitution/#plfa_plfa-part2-Substitution-10632" class="Bound">N</a><a id="plfa_plfa-part2-Substitution-10633" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-10635" href="../Substitution/#plfa_plfa-part2-Substitution-10635" class="Bound">rr</a> <a id="plfa_plfa-part2-Substitution-10638" class="Symbol">=</a>
   <a id="plfa_plfa-part2-Substitution-10643" href="https://agda.github.io/agda-stdlib/v1.3/Relation.Binary.PropositionalEquality.Core.html#1131" class="Function">cong</a> <a id="plfa_plfa-part2-Substitution-10648" href="../Untyped/#plfa_plfa-part2-Untyped-4334" class="InductiveConstructor Operator">ƛ_</a> <a id="plfa_plfa-part2-Substitution-10651" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-10652" href="../Substitution/#plfa_plfa-part2-Substitution-10390" class="Function">cong-rename</a> <a id="plfa_plfa-part2-Substitution-10664" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-10665" class="Argument">ρ</a> <a id="plfa_plfa-part2-Substitution-10667" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-10669" href="../Untyped/#plfa_plfa-part2-Untyped-5893" class="Function">ext</a> <a id="plfa_plfa-part2-Substitution-10673" href="../Substitution/#plfa_plfa-part2-Substitution-10612" class="Bound">ρ</a><a id="plfa_plfa-part2-Substitution-10674" class="Symbol">}{</a><a id="plfa_plfa-part2-Substitution-10676" class="Argument">ρ′</a> <a id="plfa_plfa-part2-Substitution-10679" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-10681" href="../Untyped/#plfa_plfa-part2-Untyped-5893" class="Function">ext</a> <a id="plfa_plfa-part2-Substitution-10685" href="../Substitution/#plfa_plfa-part2-Substitution-10621" class="Bound">ρ′</a><a id="plfa_plfa-part2-Substitution-10687" class="Symbol">}{</a><a id="plfa_plfa-part2-Substitution-10689" class="Argument">M</a> <a id="plfa_plfa-part2-Substitution-10691" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-10693" href="../Substitution/#plfa_plfa-part2-Substitution-10632" class="Bound">N</a><a id="plfa_plfa-part2-Substitution-10694" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-10696" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-10697" href="../Substitution/#plfa_plfa-part2-Substitution-10054" class="Function">cong-ext</a> <a id="plfa_plfa-part2-Substitution-10706" href="../Substitution/#plfa_plfa-part2-Substitution-10635" class="Bound">rr</a><a id="plfa_plfa-part2-Substitution-10708" class="Symbol">))</a>
<a id="plfa_plfa-part2-Substitution-10711" href="../Substitution/#plfa_plfa-part2-Substitution-10390" class="Function">cong-rename</a> <a id="plfa_plfa-part2-Substitution-10723" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-10724" class="Argument">M</a> <a id="plfa_plfa-part2-Substitution-10726" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-10728" href="../Substitution/#plfa_plfa-part2-Substitution-10728" class="Bound">L</a> <a id="plfa_plfa-part2-Substitution-10730" href="../Untyped/#plfa_plfa-part2-Untyped-4394" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Substitution-10732" href="../Substitution/#plfa_plfa-part2-Substitution-10732" class="Bound">M</a><a id="plfa_plfa-part2-Substitution-10733" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-10735" href="../Substitution/#plfa_plfa-part2-Substitution-10735" class="Bound">rr</a> <a id="plfa_plfa-part2-Substitution-10738" class="Symbol">=</a>
   <a id="plfa_plfa-part2-Substitution-10743" href="https://agda.github.io/agda-stdlib/v1.3/Relation.Binary.PropositionalEquality.html#1524" class="Function">cong₂</a> <a id="plfa_plfa-part2-Substitution-10749" href="../Untyped/#plfa_plfa-part2-Untyped-4394" class="InductiveConstructor Operator">_·_</a> <a id="plfa_plfa-part2-Substitution-10753" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-10754" href="../Substitution/#plfa_plfa-part2-Substitution-10390" class="Function">cong-rename</a> <a id="plfa_plfa-part2-Substitution-10766" href="../Substitution/#plfa_plfa-part2-Substitution-10735" class="Bound">rr</a><a id="plfa_plfa-part2-Substitution-10768" class="Symbol">)</a> <a id="plfa_plfa-part2-Substitution-10770" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-10771" href="../Substitution/#plfa_plfa-part2-Substitution-10390" class="Function">cong-rename</a> <a id="plfa_plfa-part2-Substitution-10783" href="../Substitution/#plfa_plfa-part2-Substitution-10735" class="Bound">rr</a><a id="plfa_plfa-part2-Substitution-10785" class="Symbol">)</a>
</pre><pre class="Agda"><a id="plfa_plfa-part2-Substitution-cong-exts"></a><a id="plfa_plfa-part2-Substitution-10800" href="../Substitution/#plfa_plfa-part2-Substitution-10800" class="Function">cong-exts</a> <a id="plfa_plfa-part2-Substitution-10810" class="Symbol">:</a> <a id="plfa_plfa-part2-Substitution-10812" class="Symbol">∀{</a><a id="plfa_plfa-part2-Substitution-10814" href="../Substitution/#plfa_plfa-part2-Substitution-10814" class="Bound">Γ</a> <a id="plfa_plfa-part2-Substitution-10816" href="../Substitution/#plfa_plfa-part2-Substitution-10816" class="Bound">Δ</a><a id="plfa_plfa-part2-Substitution-10817" class="Symbol">}{</a><a id="plfa_plfa-part2-Substitution-10819" href="../Substitution/#plfa_plfa-part2-Substitution-10819" class="Bound">σ</a> <a id="plfa_plfa-part2-Substitution-10821" href="../Substitution/#plfa_plfa-part2-Substitution-10821" class="Bound">σ′</a> <a id="plfa_plfa-part2-Substitution-10824" class="Symbol">:</a> <a id="plfa_plfa-part2-Substitution-10826" href="../Substitution/#plfa_plfa-part2-Substitution-2341" class="Function">Subst</a> <a id="plfa_plfa-part2-Substitution-10832" href="../Substitution/#plfa_plfa-part2-Substitution-10814" class="Bound">Γ</a> <a id="plfa_plfa-part2-Substitution-10834" href="../Substitution/#plfa_plfa-part2-Substitution-10816" class="Bound">Δ</a><a id="plfa_plfa-part2-Substitution-10835" class="Symbol">}{</a><a id="plfa_plfa-part2-Substitution-10837" href="../Substitution/#plfa_plfa-part2-Substitution-10837" class="Bound">B</a><a id="plfa_plfa-part2-Substitution-10838" class="Symbol">}</a>
   <a id="plfa_plfa-part2-Substitution-10843" class="Symbol">→</a> <a id="plfa_plfa-part2-Substitution-10845" class="Symbol">(∀{</a><a id="plfa_plfa-part2-Substitution-10848" href="../Substitution/#plfa_plfa-part2-Substitution-10848" class="Bound">A</a><a id="plfa_plfa-part2-Substitution-10849" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-10851" class="Symbol">→</a> <a id="plfa_plfa-part2-Substitution-10853" href="../Substitution/#plfa_plfa-part2-Substitution-10819" class="Bound">σ</a> <a id="plfa_plfa-part2-Substitution-10855" href="https://agda.github.io/agda-stdlib/v1.3/Agda.Builtin.Equality.html#151" class="Datatype Operator">≡</a> <a id="plfa_plfa-part2-Substitution-10857" href="../Substitution/#plfa_plfa-part2-Substitution-10821" class="Bound">σ′</a> <a id="plfa_plfa-part2-Substitution-10860" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-10861" href="../Substitution/#plfa_plfa-part2-Substitution-10848" class="Bound">A</a><a id="plfa_plfa-part2-Substitution-10862" class="Symbol">})</a>
     <a id="plfa_plfa-part2-Substitution-10870" class="Comment">-----------------------------------</a>
   <a id="plfa_plfa-part2-Substitution-10909" class="Symbol">→</a> <a id="plfa_plfa-part2-Substitution-10911" class="Symbol">∀{</a><a id="plfa_plfa-part2-Substitution-10913" href="../Substitution/#plfa_plfa-part2-Substitution-10913" class="Bound">A</a><a id="plfa_plfa-part2-Substitution-10914" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-10916" class="Symbol">→</a> <a id="plfa_plfa-part2-Substitution-10918" href="../Untyped/#plfa_plfa-part2-Untyped-6647" class="Function">exts</a> <a id="plfa_plfa-part2-Substitution-10923" href="../Substitution/#plfa_plfa-part2-Substitution-10819" class="Bound">σ</a> <a id="plfa_plfa-part2-Substitution-10925" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-10926" class="Argument">B</a> <a id="plfa_plfa-part2-Substitution-10928" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-10930" href="../Substitution/#plfa_plfa-part2-Substitution-10837" class="Bound">B</a><a id="plfa_plfa-part2-Substitution-10931" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-10933" href="https://agda.github.io/agda-stdlib/v1.3/Agda.Builtin.Equality.html#151" class="Datatype Operator">≡</a> <a id="plfa_plfa-part2-Substitution-10935" href="../Untyped/#plfa_plfa-part2-Untyped-6647" class="Function">exts</a> <a id="plfa_plfa-part2-Substitution-10940" href="../Substitution/#plfa_plfa-part2-Substitution-10821" class="Bound">σ′</a> <a id="plfa_plfa-part2-Substitution-10943" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-10944" href="../Substitution/#plfa_plfa-part2-Substitution-10913" class="Bound">A</a><a id="plfa_plfa-part2-Substitution-10945" class="Symbol">}</a>
<a id="plfa_plfa-part2-Substitution-10947" href="../Substitution/#plfa_plfa-part2-Substitution-10800" class="Function">cong-exts</a><a id="plfa_plfa-part2-Substitution-10956" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-10957" href="../Substitution/#plfa_plfa-part2-Substitution-10957" class="Bound">Γ</a><a id="plfa_plfa-part2-Substitution-10958" class="Symbol">}{</a><a id="plfa_plfa-part2-Substitution-10960" href="../Substitution/#plfa_plfa-part2-Substitution-10960" class="Bound">Δ</a><a id="plfa_plfa-part2-Substitution-10961" class="Symbol">}{</a><a id="plfa_plfa-part2-Substitution-10963" href="../Substitution/#plfa_plfa-part2-Substitution-10963" class="Bound">σ</a><a id="plfa_plfa-part2-Substitution-10964" class="Symbol">}{</a><a id="plfa_plfa-part2-Substitution-10966" href="../Substitution/#plfa_plfa-part2-Substitution-10966" class="Bound">σ′</a><a id="plfa_plfa-part2-Substitution-10968" class="Symbol">}{</a><a id="plfa_plfa-part2-Substitution-10970" href="../Substitution/#plfa_plfa-part2-Substitution-10970" class="Bound">B</a><a id="plfa_plfa-part2-Substitution-10971" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-10973" href="../Substitution/#plfa_plfa-part2-Substitution-10973" class="Bound">ss</a> <a id="plfa_plfa-part2-Substitution-10976" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-10977" href="../Substitution/#plfa_plfa-part2-Substitution-10977" class="Bound">A</a><a id="plfa_plfa-part2-Substitution-10978" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-10980" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-10982" href="../Substitution/#plfa_plfa-part2-Substitution-1855" class="Postulate">extensionality</a> <a id="plfa_plfa-part2-Substitution-10997" class="Symbol">λ</a> <a id="plfa_plfa-part2-Substitution-10999" href="../Substitution/#plfa_plfa-part2-Substitution-10999" class="Bound">x</a> <a id="plfa_plfa-part2-Substitution-11001" class="Symbol">→</a> <a id="plfa_plfa-part2-Substitution-11003" href="../Substitution/#plfa_plfa-part2-Substitution-11025" class="Function">lemma</a> <a id="plfa_plfa-part2-Substitution-11009" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-11010" href="../Substitution/#plfa_plfa-part2-Substitution-10999" class="Bound">x</a><a id="plfa_plfa-part2-Substitution-11011" class="Symbol">}</a>
   <a id="plfa_plfa-part2-Substitution-11016" class="Keyword">where</a>
   <a id="plfa_plfa-part2-Substitution-11025" href="../Substitution/#plfa_plfa-part2-Substitution-11025" class="Function">lemma</a> <a id="plfa_plfa-part2-Substitution-11031" class="Symbol">:</a> <a id="plfa_plfa-part2-Substitution-11033" class="Symbol">∀{</a><a id="plfa_plfa-part2-Substitution-11035" href="../Substitution/#plfa_plfa-part2-Substitution-11035" class="Bound">x</a><a id="plfa_plfa-part2-Substitution-11036" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-11038" class="Symbol">→</a> <a id="plfa_plfa-part2-Substitution-11040" href="../Untyped/#plfa_plfa-part2-Untyped-6647" class="Function">exts</a> <a id="plfa_plfa-part2-Substitution-11045" href="../Substitution/#plfa_plfa-part2-Substitution-10963" class="Bound">σ</a> <a id="plfa_plfa-part2-Substitution-11047" href="../Substitution/#plfa_plfa-part2-Substitution-11035" class="Bound">x</a> <a id="plfa_plfa-part2-Substitution-11049" href="https://agda.github.io/agda-stdlib/v1.3/Agda.Builtin.Equality.html#151" class="Datatype Operator">≡</a> <a id="plfa_plfa-part2-Substitution-11051" href="../Untyped/#plfa_plfa-part2-Untyped-6647" class="Function">exts</a> <a id="plfa_plfa-part2-Substitution-11056" href="../Substitution/#plfa_plfa-part2-Substitution-10966" class="Bound">σ′</a> <a id="plfa_plfa-part2-Substitution-11059" href="../Substitution/#plfa_plfa-part2-Substitution-11035" class="Bound">x</a>
   <a id="plfa_plfa-part2-Substitution-11064" href="../Substitution/#plfa_plfa-part2-Substitution-11025" class="Function">lemma</a> <a id="plfa_plfa-part2-Substitution-11070" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-11071" href="../Untyped/#plfa_plfa-part2-Untyped-3505" class="InductiveConstructor">Z</a><a id="plfa_plfa-part2-Substitution-11072" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-11074" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-11076" href="https://agda.github.io/agda-stdlib/v1.3/Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a>
   <a id="plfa_plfa-part2-Substitution-11084" href="../Substitution/#plfa_plfa-part2-Substitution-11025" class="Function">lemma</a> <a id="plfa_plfa-part2-Substitution-11090" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-11091" href="../Untyped/#plfa_plfa-part2-Untyped-3550" class="InductiveConstructor Operator">S</a> <a id="plfa_plfa-part2-Substitution-11093" href="../Substitution/#plfa_plfa-part2-Substitution-11093" class="Bound">x</a><a id="plfa_plfa-part2-Substitution-11094" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-11096" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-11098" href="https://agda.github.io/agda-stdlib/v1.3/Relation.Binary.PropositionalEquality.Core.html#1131" class="Function">cong</a> <a id="plfa_plfa-part2-Substitution-11103" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-11104" href="../Untyped/#plfa_plfa-part2-Untyped-6207" class="Function">rename</a> <a id="plfa_plfa-part2-Substitution-11111" href="../Untyped/#plfa_plfa-part2-Untyped-3550" class="InductiveConstructor Operator">S_</a><a id="plfa_plfa-part2-Substitution-11113" class="Symbol">)</a> <a id="plfa_plfa-part2-Substitution-11115" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-11116" href="https://agda.github.io/agda-stdlib/v1.3/Relation.Binary.PropositionalEquality.html#1396" class="Function">cong-app</a> <a id="plfa_plfa-part2-Substitution-11125" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-11126" href="../Substitution/#plfa_plfa-part2-Substitution-10973" class="Bound">ss</a> <a id="plfa_plfa-part2-Substitution-11129" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-11130" href="../Substitution/#plfa_plfa-part2-Substitution-10977" class="Bound">A</a><a id="plfa_plfa-part2-Substitution-11131" class="Symbol">})</a> <a id="plfa_plfa-part2-Substitution-11134" href="../Substitution/#plfa_plfa-part2-Substitution-11093" class="Bound">x</a><a id="plfa_plfa-part2-Substitution-11135" class="Symbol">)</a>
</pre><pre class="Agda"><a id="plfa_plfa-part2-Substitution-cong-sub"></a><a id="plfa_plfa-part2-Substitution-11150" href="../Substitution/#plfa_plfa-part2-Substitution-11150" class="Function">cong-sub</a> <a id="plfa_plfa-part2-Substitution-11159" class="Symbol">:</a> <a id="plfa_plfa-part2-Substitution-11161" class="Symbol">∀{</a><a id="plfa_plfa-part2-Substitution-11163" href="../Substitution/#plfa_plfa-part2-Substitution-11163" class="Bound">Γ</a> <a id="plfa_plfa-part2-Substitution-11165" href="../Substitution/#plfa_plfa-part2-Substitution-11165" class="Bound">Δ</a><a id="plfa_plfa-part2-Substitution-11166" class="Symbol">}{</a><a id="plfa_plfa-part2-Substitution-11168" href="../Substitution/#plfa_plfa-part2-Substitution-11168" class="Bound">σ</a> <a id="plfa_plfa-part2-Substitution-11170" href="../Substitution/#plfa_plfa-part2-Substitution-11170" class="Bound">σ′</a> <a id="plfa_plfa-part2-Substitution-11173" class="Symbol">:</a> <a id="plfa_plfa-part2-Substitution-11175" href="../Substitution/#plfa_plfa-part2-Substitution-2341" class="Function">Subst</a> <a id="plfa_plfa-part2-Substitution-11181" href="../Substitution/#plfa_plfa-part2-Substitution-11163" class="Bound">Γ</a> <a id="plfa_plfa-part2-Substitution-11183" href="../Substitution/#plfa_plfa-part2-Substitution-11165" class="Bound">Δ</a><a id="plfa_plfa-part2-Substitution-11184" class="Symbol">}{</a><a id="plfa_plfa-part2-Substitution-11186" href="../Substitution/#plfa_plfa-part2-Substitution-11186" class="Bound">A</a><a id="plfa_plfa-part2-Substitution-11187" class="Symbol">}{</a><a id="plfa_plfa-part2-Substitution-11189" href="../Substitution/#plfa_plfa-part2-Substitution-11189" class="Bound">M</a> <a id="plfa_plfa-part2-Substitution-11191" href="../Substitution/#plfa_plfa-part2-Substitution-11191" class="Bound">M′</a> <a id="plfa_plfa-part2-Substitution-11194" class="Symbol">:</a> <a id="plfa_plfa-part2-Substitution-11196" href="../Substitution/#plfa_plfa-part2-Substitution-11163" class="Bound">Γ</a> <a id="plfa_plfa-part2-Substitution-11198" href="../Untyped/#plfa_plfa-part2-Untyped-4246" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Substitution-11200" href="../Substitution/#plfa_plfa-part2-Substitution-11186" class="Bound">A</a><a id="plfa_plfa-part2-Substitution-11201" class="Symbol">}</a>
            <a id="plfa_plfa-part2-Substitution-11215" class="Symbol">→</a> <a id="plfa_plfa-part2-Substitution-11217" class="Symbol">(∀{</a><a id="plfa_plfa-part2-Substitution-11220" href="../Substitution/#plfa_plfa-part2-Substitution-11220" class="Bound">A</a><a id="plfa_plfa-part2-Substitution-11221" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-11223" class="Symbol">→</a> <a id="plfa_plfa-part2-Substitution-11225" href="../Substitution/#plfa_plfa-part2-Substitution-11168" class="Bound">σ</a> <a id="plfa_plfa-part2-Substitution-11227" href="https://agda.github.io/agda-stdlib/v1.3/Agda.Builtin.Equality.html#151" class="Datatype Operator">≡</a> <a id="plfa_plfa-part2-Substitution-11229" href="../Substitution/#plfa_plfa-part2-Substitution-11170" class="Bound">σ′</a> <a id="plfa_plfa-part2-Substitution-11232" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-11233" href="../Substitution/#plfa_plfa-part2-Substitution-11220" class="Bound">A</a><a id="plfa_plfa-part2-Substitution-11234" class="Symbol">})</a>  <a id="plfa_plfa-part2-Substitution-11238" class="Symbol">→</a>  <a id="plfa_plfa-part2-Substitution-11241" href="../Substitution/#plfa_plfa-part2-Substitution-11189" class="Bound">M</a> <a id="plfa_plfa-part2-Substitution-11243" href="https://agda.github.io/agda-stdlib/v1.3/Agda.Builtin.Equality.html#151" class="Datatype Operator">≡</a> <a id="plfa_plfa-part2-Substitution-11245" href="../Substitution/#plfa_plfa-part2-Substitution-11191" class="Bound">M′</a>
              <a id="plfa_plfa-part2-Substitution-11262" class="Comment">------------------------------</a>
            <a id="plfa_plfa-part2-Substitution-11305" class="Symbol">→</a> <a id="plfa_plfa-part2-Substitution-11307" href="../Untyped/#plfa_plfa-part2-Untyped-6943" class="Function">subst</a> <a id="plfa_plfa-part2-Substitution-11313" href="../Substitution/#plfa_plfa-part2-Substitution-11168" class="Bound">σ</a> <a id="plfa_plfa-part2-Substitution-11315" href="../Substitution/#plfa_plfa-part2-Substitution-11189" class="Bound">M</a> <a id="plfa_plfa-part2-Substitution-11317" href="https://agda.github.io/agda-stdlib/v1.3/Agda.Builtin.Equality.html#151" class="Datatype Operator">≡</a> <a id="plfa_plfa-part2-Substitution-11319" href="../Untyped/#plfa_plfa-part2-Untyped-6943" class="Function">subst</a> <a id="plfa_plfa-part2-Substitution-11325" href="../Substitution/#plfa_plfa-part2-Substitution-11170" class="Bound">σ′</a> <a id="plfa_plfa-part2-Substitution-11328" href="../Substitution/#plfa_plfa-part2-Substitution-11191" class="Bound">M′</a>
<a id="plfa_plfa-part2-Substitution-11331" href="../Substitution/#plfa_plfa-part2-Substitution-11150" class="Function">cong-sub</a> <a id="plfa_plfa-part2-Substitution-11340" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-11341" href="../Substitution/#plfa_plfa-part2-Substitution-11341" class="Bound">Γ</a><a id="plfa_plfa-part2-Substitution-11342" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-11344" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-11345" href="../Substitution/#plfa_plfa-part2-Substitution-11345" class="Bound">Δ</a><a id="plfa_plfa-part2-Substitution-11346" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-11348" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-11349" href="../Substitution/#plfa_plfa-part2-Substitution-11349" class="Bound">σ</a><a id="plfa_plfa-part2-Substitution-11350" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-11352" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-11353" href="../Substitution/#plfa_plfa-part2-Substitution-11353" class="Bound">σ′</a><a id="plfa_plfa-part2-Substitution-11355" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-11357" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-11358" href="../Substitution/#plfa_plfa-part2-Substitution-11358" class="Bound">A</a><a id="plfa_plfa-part2-Substitution-11359" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-11361" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-11362" href="../Untyped/#plfa_plfa-part2-Untyped-4282" class="InductiveConstructor Operator">`</a> <a id="plfa_plfa-part2-Substitution-11364" href="../Substitution/#plfa_plfa-part2-Substitution-11364" class="Bound">x</a><a id="plfa_plfa-part2-Substitution-11365" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-11367" href="../Substitution/#plfa_plfa-part2-Substitution-11367" class="Bound">ss</a> <a id="plfa_plfa-part2-Substitution-11370" href="https://agda.github.io/agda-stdlib/v1.3/Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a> <a id="plfa_plfa-part2-Substitution-11375" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-11377" href="https://agda.github.io/agda-stdlib/v1.3/Relation.Binary.PropositionalEquality.html#1396" class="Function">cong-app</a> <a id="plfa_plfa-part2-Substitution-11386" href="../Substitution/#plfa_plfa-part2-Substitution-11367" class="Bound">ss</a> <a id="plfa_plfa-part2-Substitution-11389" href="../Substitution/#plfa_plfa-part2-Substitution-11364" class="Bound">x</a>
<a id="plfa_plfa-part2-Substitution-11391" href="../Substitution/#plfa_plfa-part2-Substitution-11150" class="Function">cong-sub</a> <a id="plfa_plfa-part2-Substitution-11400" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-11401" href="../Substitution/#plfa_plfa-part2-Substitution-11401" class="Bound">Γ</a><a id="plfa_plfa-part2-Substitution-11402" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-11404" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-11405" href="../Substitution/#plfa_plfa-part2-Substitution-11405" class="Bound">Δ</a><a id="plfa_plfa-part2-Substitution-11406" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-11408" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-11409" href="../Substitution/#plfa_plfa-part2-Substitution-11409" class="Bound">σ</a><a id="plfa_plfa-part2-Substitution-11410" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-11412" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-11413" href="../Substitution/#plfa_plfa-part2-Substitution-11413" class="Bound">σ′</a><a id="plfa_plfa-part2-Substitution-11415" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-11417" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-11418" href="../Substitution/#plfa_plfa-part2-Substitution-11418" class="Bound">A</a><a id="plfa_plfa-part2-Substitution-11419" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-11421" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-11422" href="../Untyped/#plfa_plfa-part2-Untyped-4334" class="InductiveConstructor Operator">ƛ</a> <a id="plfa_plfa-part2-Substitution-11424" href="../Substitution/#plfa_plfa-part2-Substitution-11424" class="Bound">M</a><a id="plfa_plfa-part2-Substitution-11425" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-11427" href="../Substitution/#plfa_plfa-part2-Substitution-11427" class="Bound">ss</a> <a id="plfa_plfa-part2-Substitution-11430" href="https://agda.github.io/agda-stdlib/v1.3/Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a> <a id="plfa_plfa-part2-Substitution-11435" class="Symbol">=</a>
   <a id="plfa_plfa-part2-Substitution-11440" href="https://agda.github.io/agda-stdlib/v1.3/Relation.Binary.PropositionalEquality.Core.html#1131" class="Function">cong</a> <a id="plfa_plfa-part2-Substitution-11445" href="../Untyped/#plfa_plfa-part2-Untyped-4334" class="InductiveConstructor Operator">ƛ_</a> <a id="plfa_plfa-part2-Substitution-11448" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-11449" href="../Substitution/#plfa_plfa-part2-Substitution-11150" class="Function">cong-sub</a> <a id="plfa_plfa-part2-Substitution-11458" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-11459" class="Argument">σ</a> <a id="plfa_plfa-part2-Substitution-11461" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-11463" href="../Untyped/#plfa_plfa-part2-Untyped-6647" class="Function">exts</a> <a id="plfa_plfa-part2-Substitution-11468" href="../Substitution/#plfa_plfa-part2-Substitution-11409" class="Bound">σ</a><a id="plfa_plfa-part2-Substitution-11469" class="Symbol">}{</a><a id="plfa_plfa-part2-Substitution-11471" class="Argument">σ′</a> <a id="plfa_plfa-part2-Substitution-11474" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-11476" href="../Untyped/#plfa_plfa-part2-Untyped-6647" class="Function">exts</a> <a id="plfa_plfa-part2-Substitution-11481" href="../Substitution/#plfa_plfa-part2-Substitution-11413" class="Bound">σ′</a><a id="plfa_plfa-part2-Substitution-11483" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-11485" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-11486" class="Argument">M</a> <a id="plfa_plfa-part2-Substitution-11488" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-11490" href="../Substitution/#plfa_plfa-part2-Substitution-11424" class="Bound">M</a><a id="plfa_plfa-part2-Substitution-11491" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-11493" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-11494" href="../Substitution/#plfa_plfa-part2-Substitution-10800" class="Function">cong-exts</a> <a id="plfa_plfa-part2-Substitution-11504" href="../Substitution/#plfa_plfa-part2-Substitution-11427" class="Bound">ss</a><a id="plfa_plfa-part2-Substitution-11506" class="Symbol">)</a> <a id="plfa_plfa-part2-Substitution-11508" href="https://agda.github.io/agda-stdlib/v1.3/Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a><a id="plfa_plfa-part2-Substitution-11512" class="Symbol">)</a>
<a id="plfa_plfa-part2-Substitution-11514" href="../Substitution/#plfa_plfa-part2-Substitution-11150" class="Function">cong-sub</a> <a id="plfa_plfa-part2-Substitution-11523" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-11524" href="../Substitution/#plfa_plfa-part2-Substitution-11524" class="Bound">Γ</a><a id="plfa_plfa-part2-Substitution-11525" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-11527" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-11528" href="../Substitution/#plfa_plfa-part2-Substitution-11528" class="Bound">Δ</a><a id="plfa_plfa-part2-Substitution-11529" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-11531" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-11532" href="../Substitution/#plfa_plfa-part2-Substitution-11532" class="Bound">σ</a><a id="plfa_plfa-part2-Substitution-11533" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-11535" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-11536" href="../Substitution/#plfa_plfa-part2-Substitution-11536" class="Bound">σ′</a><a id="plfa_plfa-part2-Substitution-11538" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-11540" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-11541" href="../Substitution/#plfa_plfa-part2-Substitution-11541" class="Bound">A</a><a id="plfa_plfa-part2-Substitution-11542" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-11544" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-11545" href="../Substitution/#plfa_plfa-part2-Substitution-11545" class="Bound">L</a> <a id="plfa_plfa-part2-Substitution-11547" href="../Untyped/#plfa_plfa-part2-Untyped-4394" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Substitution-11549" href="../Substitution/#plfa_plfa-part2-Substitution-11549" class="Bound">M</a><a id="plfa_plfa-part2-Substitution-11550" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-11552" href="../Substitution/#plfa_plfa-part2-Substitution-11552" class="Bound">ss</a> <a id="plfa_plfa-part2-Substitution-11555" href="https://agda.github.io/agda-stdlib/v1.3/Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a> <a id="plfa_plfa-part2-Substitution-11560" class="Symbol">=</a>
   <a id="plfa_plfa-part2-Substitution-11565" href="https://agda.github.io/agda-stdlib/v1.3/Relation.Binary.PropositionalEquality.html#1524" class="Function">cong₂</a> <a id="plfa_plfa-part2-Substitution-11571" href="../Untyped/#plfa_plfa-part2-Untyped-4394" class="InductiveConstructor Operator">_·_</a> <a id="plfa_plfa-part2-Substitution-11575" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-11576" href="../Substitution/#plfa_plfa-part2-Substitution-11150" class="Function">cong-sub</a> <a id="plfa_plfa-part2-Substitution-11585" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-11586" class="Argument">M</a> <a id="plfa_plfa-part2-Substitution-11588" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-11590" href="../Substitution/#plfa_plfa-part2-Substitution-11545" class="Bound">L</a><a id="plfa_plfa-part2-Substitution-11591" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-11593" href="../Substitution/#plfa_plfa-part2-Substitution-11552" class="Bound">ss</a> <a id="plfa_plfa-part2-Substitution-11596" href="https://agda.github.io/agda-stdlib/v1.3/Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a><a id="plfa_plfa-part2-Substitution-11600" class="Symbol">)</a> <a id="plfa_plfa-part2-Substitution-11602" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-11603" href="../Substitution/#plfa_plfa-part2-Substitution-11150" class="Function">cong-sub</a> <a id="plfa_plfa-part2-Substitution-11612" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-11613" class="Argument">M</a> <a id="plfa_plfa-part2-Substitution-11615" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-11617" href="../Substitution/#plfa_plfa-part2-Substitution-11549" class="Bound">M</a><a id="plfa_plfa-part2-Substitution-11618" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-11620" href="../Substitution/#plfa_plfa-part2-Substitution-11552" class="Bound">ss</a> <a id="plfa_plfa-part2-Substitution-11623" href="https://agda.github.io/agda-stdlib/v1.3/Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a><a id="plfa_plfa-part2-Substitution-11627" class="Symbol">)</a>
</pre><pre class="Agda"><a id="plfa_plfa-part2-Substitution-cong-sub-zero"></a><a id="plfa_plfa-part2-Substitution-11642" href="../Substitution/#plfa_plfa-part2-Substitution-11642" class="Function">cong-sub-zero</a> <a id="plfa_plfa-part2-Substitution-11656" class="Symbol">:</a> <a id="plfa_plfa-part2-Substitution-11658" class="Symbol">∀{</a><a id="plfa_plfa-part2-Substitution-11660" href="../Substitution/#plfa_plfa-part2-Substitution-11660" class="Bound">Γ</a><a id="plfa_plfa-part2-Substitution-11661" class="Symbol">}{</a><a id="plfa_plfa-part2-Substitution-11663" href="../Substitution/#plfa_plfa-part2-Substitution-11663" class="Bound">B</a> <a id="plfa_plfa-part2-Substitution-11665" class="Symbol">:</a> <a id="plfa_plfa-part2-Substitution-11667" href="../Untyped/#plfa_plfa-part2-Untyped-2801" class="Datatype">Type</a><a id="plfa_plfa-part2-Substitution-11671" class="Symbol">}{</a><a id="plfa_plfa-part2-Substitution-11673" href="../Substitution/#plfa_plfa-part2-Substitution-11673" class="Bound">M</a> <a id="plfa_plfa-part2-Substitution-11675" href="../Substitution/#plfa_plfa-part2-Substitution-11675" class="Bound">M′</a> <a id="plfa_plfa-part2-Substitution-11678" class="Symbol">:</a> <a id="plfa_plfa-part2-Substitution-11680" href="../Substitution/#plfa_plfa-part2-Substitution-11660" class="Bound">Γ</a> <a id="plfa_plfa-part2-Substitution-11682" href="../Untyped/#plfa_plfa-part2-Untyped-4246" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Substitution-11684" href="../Substitution/#plfa_plfa-part2-Substitution-11663" class="Bound">B</a><a id="plfa_plfa-part2-Substitution-11685" class="Symbol">}</a>
  <a id="plfa_plfa-part2-Substitution-11689" class="Symbol">→</a> <a id="plfa_plfa-part2-Substitution-11691" href="../Substitution/#plfa_plfa-part2-Substitution-11673" class="Bound">M</a> <a id="plfa_plfa-part2-Substitution-11693" href="https://agda.github.io/agda-stdlib/v1.3/Agda.Builtin.Equality.html#151" class="Datatype Operator">≡</a> <a id="plfa_plfa-part2-Substitution-11695" href="../Substitution/#plfa_plfa-part2-Substitution-11675" class="Bound">M′</a>
    <a id="plfa_plfa-part2-Substitution-11702" class="Comment">-----------------------------------------</a>
  <a id="plfa_plfa-part2-Substitution-11746" class="Symbol">→</a> <a id="plfa_plfa-part2-Substitution-11748" class="Symbol">∀{</a><a id="plfa_plfa-part2-Substitution-11750" href="../Substitution/#plfa_plfa-part2-Substitution-11750" class="Bound">A</a><a id="plfa_plfa-part2-Substitution-11751" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-11753" class="Symbol">→</a> <a id="plfa_plfa-part2-Substitution-11755" href="../Untyped/#plfa_plfa-part2-Untyped-7359" class="Function">subst-zero</a> <a id="plfa_plfa-part2-Substitution-11766" href="../Substitution/#plfa_plfa-part2-Substitution-11673" class="Bound">M</a> <a id="plfa_plfa-part2-Substitution-11768" href="https://agda.github.io/agda-stdlib/v1.3/Agda.Builtin.Equality.html#151" class="Datatype Operator">≡</a> <a id="plfa_plfa-part2-Substitution-11770" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-11771" href="../Untyped/#plfa_plfa-part2-Untyped-7359" class="Function">subst-zero</a> <a id="plfa_plfa-part2-Substitution-11782" href="../Substitution/#plfa_plfa-part2-Substitution-11675" class="Bound">M′</a><a id="plfa_plfa-part2-Substitution-11784" class="Symbol">)</a> <a id="plfa_plfa-part2-Substitution-11786" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-11787" href="../Substitution/#plfa_plfa-part2-Substitution-11750" class="Bound">A</a><a id="plfa_plfa-part2-Substitution-11788" class="Symbol">}</a>
<a id="plfa_plfa-part2-Substitution-11790" href="../Substitution/#plfa_plfa-part2-Substitution-11642" class="Function">cong-sub-zero</a> <a id="plfa_plfa-part2-Substitution-11804" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-11805" href="../Substitution/#plfa_plfa-part2-Substitution-11805" class="Bound">Γ</a><a id="plfa_plfa-part2-Substitution-11806" class="Symbol">}{</a><a id="plfa_plfa-part2-Substitution-11808" href="../Substitution/#plfa_plfa-part2-Substitution-11808" class="Bound">B</a><a id="plfa_plfa-part2-Substitution-11809" class="Symbol">}{</a><a id="plfa_plfa-part2-Substitution-11811" href="../Substitution/#plfa_plfa-part2-Substitution-11811" class="Bound">M</a><a id="plfa_plfa-part2-Substitution-11812" class="Symbol">}{</a><a id="plfa_plfa-part2-Substitution-11814" href="../Substitution/#plfa_plfa-part2-Substitution-11814" class="Bound">M′</a><a id="plfa_plfa-part2-Substitution-11816" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-11818" href="../Substitution/#plfa_plfa-part2-Substitution-11818" class="Bound">mm&#39;</a> <a id="plfa_plfa-part2-Substitution-11822" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-11823" href="../Substitution/#plfa_plfa-part2-Substitution-11823" class="Bound">A</a><a id="plfa_plfa-part2-Substitution-11824" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-11826" class="Symbol">=</a>
   <a id="plfa_plfa-part2-Substitution-11831" href="../Substitution/#plfa_plfa-part2-Substitution-1855" class="Postulate">extensionality</a> <a id="plfa_plfa-part2-Substitution-11846" class="Symbol">λ</a> <a id="plfa_plfa-part2-Substitution-11848" href="../Substitution/#plfa_plfa-part2-Substitution-11848" class="Bound">x</a> <a id="plfa_plfa-part2-Substitution-11850" class="Symbol">→</a> <a id="plfa_plfa-part2-Substitution-11852" href="https://agda.github.io/agda-stdlib/v1.3/Relation.Binary.PropositionalEquality.Core.html#1131" class="Function">cong</a> <a id="plfa_plfa-part2-Substitution-11857" class="Symbol">(λ</a> <a id="plfa_plfa-part2-Substitution-11860" href="../Substitution/#plfa_plfa-part2-Substitution-11860" class="Bound">z</a> <a id="plfa_plfa-part2-Substitution-11862" class="Symbol">→</a> <a id="plfa_plfa-part2-Substitution-11864" href="../Untyped/#plfa_plfa-part2-Untyped-7359" class="Function">subst-zero</a> <a id="plfa_plfa-part2-Substitution-11875" href="../Substitution/#plfa_plfa-part2-Substitution-11860" class="Bound">z</a> <a id="plfa_plfa-part2-Substitution-11877" href="../Substitution/#plfa_plfa-part2-Substitution-11848" class="Bound">x</a><a id="plfa_plfa-part2-Substitution-11878" class="Symbol">)</a> <a id="plfa_plfa-part2-Substitution-11880" href="../Substitution/#plfa_plfa-part2-Substitution-11818" class="Bound">mm&#39;</a>
</pre><pre class="Agda"><a id="plfa_plfa-part2-Substitution-cong-cons"></a><a id="plfa_plfa-part2-Substitution-11897" href="../Substitution/#plfa_plfa-part2-Substitution-11897" class="Function">cong-cons</a> <a id="plfa_plfa-part2-Substitution-11907" class="Symbol">:</a> <a id="plfa_plfa-part2-Substitution-11909" class="Symbol">∀{</a><a id="plfa_plfa-part2-Substitution-11911" href="../Substitution/#plfa_plfa-part2-Substitution-11911" class="Bound">Γ</a> <a id="plfa_plfa-part2-Substitution-11913" href="../Substitution/#plfa_plfa-part2-Substitution-11913" class="Bound">Δ</a><a id="plfa_plfa-part2-Substitution-11914" class="Symbol">}{</a><a id="plfa_plfa-part2-Substitution-11916" href="../Substitution/#plfa_plfa-part2-Substitution-11916" class="Bound">A</a><a id="plfa_plfa-part2-Substitution-11917" class="Symbol">}{</a><a id="plfa_plfa-part2-Substitution-11919" href="../Substitution/#plfa_plfa-part2-Substitution-11919" class="Bound">M</a> <a id="plfa_plfa-part2-Substitution-11921" href="../Substitution/#plfa_plfa-part2-Substitution-11921" class="Bound">N</a> <a id="plfa_plfa-part2-Substitution-11923" class="Symbol">:</a> <a id="plfa_plfa-part2-Substitution-11925" href="../Substitution/#plfa_plfa-part2-Substitution-11913" class="Bound">Δ</a> <a id="plfa_plfa-part2-Substitution-11927" href="../Untyped/#plfa_plfa-part2-Untyped-4246" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Substitution-11929" href="../Substitution/#plfa_plfa-part2-Substitution-11916" class="Bound">A</a><a id="plfa_plfa-part2-Substitution-11930" class="Symbol">}{</a><a id="plfa_plfa-part2-Substitution-11932" href="../Substitution/#plfa_plfa-part2-Substitution-11932" class="Bound">σ</a> <a id="plfa_plfa-part2-Substitution-11934" href="../Substitution/#plfa_plfa-part2-Substitution-11934" class="Bound">τ</a> <a id="plfa_plfa-part2-Substitution-11936" class="Symbol">:</a> <a id="plfa_plfa-part2-Substitution-11938" href="../Substitution/#plfa_plfa-part2-Substitution-2341" class="Function">Subst</a> <a id="plfa_plfa-part2-Substitution-11944" href="../Substitution/#plfa_plfa-part2-Substitution-11911" class="Bound">Γ</a> <a id="plfa_plfa-part2-Substitution-11946" href="../Substitution/#plfa_plfa-part2-Substitution-11913" class="Bound">Δ</a><a id="plfa_plfa-part2-Substitution-11947" class="Symbol">}</a>
  <a id="plfa_plfa-part2-Substitution-11951" class="Symbol">→</a> <a id="plfa_plfa-part2-Substitution-11953" href="../Substitution/#plfa_plfa-part2-Substitution-11919" class="Bound">M</a> <a id="plfa_plfa-part2-Substitution-11955" href="https://agda.github.io/agda-stdlib/v1.3/Agda.Builtin.Equality.html#151" class="Datatype Operator">≡</a> <a id="plfa_plfa-part2-Substitution-11957" href="../Substitution/#plfa_plfa-part2-Substitution-11921" class="Bound">N</a>  <a id="plfa_plfa-part2-Substitution-11960" class="Symbol">→</a>  <a id="plfa_plfa-part2-Substitution-11963" class="Symbol">(∀{</a><a id="plfa_plfa-part2-Substitution-11966" href="../Substitution/#plfa_plfa-part2-Substitution-11966" class="Bound">A</a><a id="plfa_plfa-part2-Substitution-11967" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-11969" class="Symbol">→</a> <a id="plfa_plfa-part2-Substitution-11971" href="../Substitution/#plfa_plfa-part2-Substitution-11932" class="Bound">σ</a> <a id="plfa_plfa-part2-Substitution-11973" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-11974" href="../Substitution/#plfa_plfa-part2-Substitution-11966" class="Bound">A</a><a id="plfa_plfa-part2-Substitution-11975" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-11977" href="https://agda.github.io/agda-stdlib/v1.3/Agda.Builtin.Equality.html#151" class="Datatype Operator">≡</a> <a id="plfa_plfa-part2-Substitution-11979" href="../Substitution/#plfa_plfa-part2-Substitution-11934" class="Bound">τ</a> <a id="plfa_plfa-part2-Substitution-11981" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-11982" href="../Substitution/#plfa_plfa-part2-Substitution-11966" class="Bound">A</a><a id="plfa_plfa-part2-Substitution-11983" class="Symbol">})</a>
    <a id="plfa_plfa-part2-Substitution-11990" class="Comment">--------------------------------</a>
  <a id="plfa_plfa-part2-Substitution-12025" class="Symbol">→</a> <a id="plfa_plfa-part2-Substitution-12027" class="Symbol">∀{</a><a id="plfa_plfa-part2-Substitution-12029" href="../Substitution/#plfa_plfa-part2-Substitution-12029" class="Bound">A</a><a id="plfa_plfa-part2-Substitution-12030" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-12032" class="Symbol">→</a> <a id="plfa_plfa-part2-Substitution-12034" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-12035" href="../Substitution/#plfa_plfa-part2-Substitution-11919" class="Bound">M</a> <a id="plfa_plfa-part2-Substitution-12037" href="../Substitution/#plfa_plfa-part2-Substitution-3385" class="Function Operator">•</a> <a id="plfa_plfa-part2-Substitution-12039" href="../Substitution/#plfa_plfa-part2-Substitution-11932" class="Bound">σ</a><a id="plfa_plfa-part2-Substitution-12040" class="Symbol">)</a> <a id="plfa_plfa-part2-Substitution-12042" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-12043" href="../Substitution/#plfa_plfa-part2-Substitution-12029" class="Bound">A</a><a id="plfa_plfa-part2-Substitution-12044" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-12046" href="https://agda.github.io/agda-stdlib/v1.3/Agda.Builtin.Equality.html#151" class="Datatype Operator">≡</a> <a id="plfa_plfa-part2-Substitution-12048" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-12049" href="../Substitution/#plfa_plfa-part2-Substitution-11921" class="Bound">N</a> <a id="plfa_plfa-part2-Substitution-12051" href="../Substitution/#plfa_plfa-part2-Substitution-3385" class="Function Operator">•</a> <a id="plfa_plfa-part2-Substitution-12053" href="../Substitution/#plfa_plfa-part2-Substitution-11934" class="Bound">τ</a><a id="plfa_plfa-part2-Substitution-12054" class="Symbol">)</a> <a id="plfa_plfa-part2-Substitution-12056" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-12057" href="../Substitution/#plfa_plfa-part2-Substitution-12029" class="Bound">A</a><a id="plfa_plfa-part2-Substitution-12058" class="Symbol">}</a>
<a id="plfa_plfa-part2-Substitution-12060" href="../Substitution/#plfa_plfa-part2-Substitution-11897" class="Function">cong-cons</a><a id="plfa_plfa-part2-Substitution-12069" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-12070" href="../Substitution/#plfa_plfa-part2-Substitution-12070" class="Bound">Γ</a><a id="plfa_plfa-part2-Substitution-12071" class="Symbol">}{</a><a id="plfa_plfa-part2-Substitution-12073" href="../Substitution/#plfa_plfa-part2-Substitution-12073" class="Bound">Δ</a><a id="plfa_plfa-part2-Substitution-12074" class="Symbol">}{</a><a id="plfa_plfa-part2-Substitution-12076" href="../Substitution/#plfa_plfa-part2-Substitution-12076" class="Bound">A</a><a id="plfa_plfa-part2-Substitution-12077" class="Symbol">}{</a><a id="plfa_plfa-part2-Substitution-12079" href="../Substitution/#plfa_plfa-part2-Substitution-12079" class="Bound">M</a><a id="plfa_plfa-part2-Substitution-12080" class="Symbol">}{</a><a id="plfa_plfa-part2-Substitution-12082" href="../Substitution/#plfa_plfa-part2-Substitution-12082" class="Bound">N</a><a id="plfa_plfa-part2-Substitution-12083" class="Symbol">}{</a><a id="plfa_plfa-part2-Substitution-12085" href="../Substitution/#plfa_plfa-part2-Substitution-12085" class="Bound">σ</a><a id="plfa_plfa-part2-Substitution-12086" class="Symbol">}{</a><a id="plfa_plfa-part2-Substitution-12088" href="../Substitution/#plfa_plfa-part2-Substitution-12088" class="Bound">τ</a><a id="plfa_plfa-part2-Substitution-12089" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-12091" href="https://agda.github.io/agda-stdlib/v1.3/Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a> <a id="plfa_plfa-part2-Substitution-12096" href="../Substitution/#plfa_plfa-part2-Substitution-12096" class="Bound">st</a> <a id="plfa_plfa-part2-Substitution-12099" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-12100" href="../Substitution/#plfa_plfa-part2-Substitution-12100" class="Bound">A′</a><a id="plfa_plfa-part2-Substitution-12102" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-12104" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-12106" href="../Substitution/#plfa_plfa-part2-Substitution-1855" class="Postulate">extensionality</a> <a id="plfa_plfa-part2-Substitution-12121" href="../Substitution/#plfa_plfa-part2-Substitution-12137" class="Function">lemma</a>
  <a id="plfa_plfa-part2-Substitution-12129" class="Keyword">where</a>
  <a id="plfa_plfa-part2-Substitution-12137" href="../Substitution/#plfa_plfa-part2-Substitution-12137" class="Function">lemma</a> <a id="plfa_plfa-part2-Substitution-12143" class="Symbol">:</a> <a id="plfa_plfa-part2-Substitution-12145" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-12146" href="../Substitution/#plfa_plfa-part2-Substitution-12146" class="Bound">x</a> <a id="plfa_plfa-part2-Substitution-12148" class="Symbol">:</a> <a id="plfa_plfa-part2-Substitution-12150" href="../Substitution/#plfa_plfa-part2-Substitution-12070" class="Bound">Γ</a> <a id="plfa_plfa-part2-Substitution-12152" href="../Untyped/#plfa_plfa-part2-Untyped-3131" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part2-Substitution-12154" href="../Substitution/#plfa_plfa-part2-Substitution-12076" class="Bound">A</a> <a id="plfa_plfa-part2-Substitution-12156" href="../Untyped/#plfa_plfa-part2-Untyped-3469" class="Datatype Operator">∋</a> <a id="plfa_plfa-part2-Substitution-12158" href="../Substitution/#plfa_plfa-part2-Substitution-12100" class="Bound">A′</a><a id="plfa_plfa-part2-Substitution-12160" class="Symbol">)</a> <a id="plfa_plfa-part2-Substitution-12162" class="Symbol">→</a> <a id="plfa_plfa-part2-Substitution-12164" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-12165" href="../Substitution/#plfa_plfa-part2-Substitution-12079" class="Bound">M</a> <a id="plfa_plfa-part2-Substitution-12167" href="../Substitution/#plfa_plfa-part2-Substitution-3385" class="Function Operator">•</a> <a id="plfa_plfa-part2-Substitution-12169" href="../Substitution/#plfa_plfa-part2-Substitution-12085" class="Bound">σ</a><a id="plfa_plfa-part2-Substitution-12170" class="Symbol">)</a> <a id="plfa_plfa-part2-Substitution-12172" href="../Substitution/#plfa_plfa-part2-Substitution-12146" class="Bound">x</a> <a id="plfa_plfa-part2-Substitution-12174" href="https://agda.github.io/agda-stdlib/v1.3/Agda.Builtin.Equality.html#151" class="Datatype Operator">≡</a> <a id="plfa_plfa-part2-Substitution-12176" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-12177" href="../Substitution/#plfa_plfa-part2-Substitution-12079" class="Bound">M</a> <a id="plfa_plfa-part2-Substitution-12179" href="../Substitution/#plfa_plfa-part2-Substitution-3385" class="Function Operator">•</a> <a id="plfa_plfa-part2-Substitution-12181" href="../Substitution/#plfa_plfa-part2-Substitution-12088" class="Bound">τ</a><a id="plfa_plfa-part2-Substitution-12182" class="Symbol">)</a> <a id="plfa_plfa-part2-Substitution-12184" href="../Substitution/#plfa_plfa-part2-Substitution-12146" class="Bound">x</a>
  <a id="plfa_plfa-part2-Substitution-12188" href="../Substitution/#plfa_plfa-part2-Substitution-12137" class="Function">lemma</a> <a id="plfa_plfa-part2-Substitution-12194" href="../Untyped/#plfa_plfa-part2-Untyped-3505" class="InductiveConstructor">Z</a> <a id="plfa_plfa-part2-Substitution-12196" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-12198" href="https://agda.github.io/agda-stdlib/v1.3/Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a>
  <a id="plfa_plfa-part2-Substitution-12205" href="../Substitution/#plfa_plfa-part2-Substitution-12137" class="Function">lemma</a> <a id="plfa_plfa-part2-Substitution-12211" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-12212" href="../Untyped/#plfa_plfa-part2-Untyped-3550" class="InductiveConstructor Operator">S</a> <a id="plfa_plfa-part2-Substitution-12214" href="../Substitution/#plfa_plfa-part2-Substitution-12214" class="Bound">x</a><a id="plfa_plfa-part2-Substitution-12215" class="Symbol">)</a> <a id="plfa_plfa-part2-Substitution-12217" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-12219" href="https://agda.github.io/agda-stdlib/v1.3/Relation.Binary.PropositionalEquality.html#1396" class="Function">cong-app</a> <a id="plfa_plfa-part2-Substitution-12228" href="../Substitution/#plfa_plfa-part2-Substitution-12096" class="Bound">st</a> <a id="plfa_plfa-part2-Substitution-12231" href="../Substitution/#plfa_plfa-part2-Substitution-12214" class="Bound">x</a>
</pre><pre class="Agda"><a id="plfa_plfa-part2-Substitution-cong-seq"></a><a id="plfa_plfa-part2-Substitution-12246" href="../Substitution/#plfa_plfa-part2-Substitution-12246" class="Function">cong-seq</a> <a id="plfa_plfa-part2-Substitution-12255" class="Symbol">:</a> <a id="plfa_plfa-part2-Substitution-12257" class="Symbol">∀{</a><a id="plfa_plfa-part2-Substitution-12259" href="../Substitution/#plfa_plfa-part2-Substitution-12259" class="Bound">Γ</a> <a id="plfa_plfa-part2-Substitution-12261" href="../Substitution/#plfa_plfa-part2-Substitution-12261" class="Bound">Δ</a> <a id="plfa_plfa-part2-Substitution-12263" href="../Substitution/#plfa_plfa-part2-Substitution-12263" class="Bound">Σ</a><a id="plfa_plfa-part2-Substitution-12264" class="Symbol">}{</a><a id="plfa_plfa-part2-Substitution-12266" href="../Substitution/#plfa_plfa-part2-Substitution-12266" class="Bound">σ</a> <a id="plfa_plfa-part2-Substitution-12268" href="../Substitution/#plfa_plfa-part2-Substitution-12268" class="Bound">σ′</a> <a id="plfa_plfa-part2-Substitution-12271" class="Symbol">:</a> <a id="plfa_plfa-part2-Substitution-12273" href="../Substitution/#plfa_plfa-part2-Substitution-2341" class="Function">Subst</a> <a id="plfa_plfa-part2-Substitution-12279" href="../Substitution/#plfa_plfa-part2-Substitution-12259" class="Bound">Γ</a> <a id="plfa_plfa-part2-Substitution-12281" href="../Substitution/#plfa_plfa-part2-Substitution-12261" class="Bound">Δ</a><a id="plfa_plfa-part2-Substitution-12282" class="Symbol">}{</a><a id="plfa_plfa-part2-Substitution-12284" href="../Substitution/#plfa_plfa-part2-Substitution-12284" class="Bound">τ</a> <a id="plfa_plfa-part2-Substitution-12286" href="../Substitution/#plfa_plfa-part2-Substitution-12286" class="Bound">τ′</a> <a id="plfa_plfa-part2-Substitution-12289" class="Symbol">:</a> <a id="plfa_plfa-part2-Substitution-12291" href="../Substitution/#plfa_plfa-part2-Substitution-2341" class="Function">Subst</a> <a id="plfa_plfa-part2-Substitution-12297" href="../Substitution/#plfa_plfa-part2-Substitution-12261" class="Bound">Δ</a> <a id="plfa_plfa-part2-Substitution-12299" href="../Substitution/#plfa_plfa-part2-Substitution-12263" class="Bound">Σ</a><a id="plfa_plfa-part2-Substitution-12300" class="Symbol">}</a>
  <a id="plfa_plfa-part2-Substitution-12304" class="Symbol">→</a> <a id="plfa_plfa-part2-Substitution-12306" class="Symbol">(∀{</a><a id="plfa_plfa-part2-Substitution-12309" href="../Substitution/#plfa_plfa-part2-Substitution-12309" class="Bound">A</a><a id="plfa_plfa-part2-Substitution-12310" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-12312" class="Symbol">→</a> <a id="plfa_plfa-part2-Substitution-12314" href="../Substitution/#plfa_plfa-part2-Substitution-12266" class="Bound">σ</a> <a id="plfa_plfa-part2-Substitution-12316" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-12317" href="../Substitution/#plfa_plfa-part2-Substitution-12309" class="Bound">A</a><a id="plfa_plfa-part2-Substitution-12318" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-12320" href="https://agda.github.io/agda-stdlib/v1.3/Agda.Builtin.Equality.html#151" class="Datatype Operator">≡</a> <a id="plfa_plfa-part2-Substitution-12322" href="../Substitution/#plfa_plfa-part2-Substitution-12268" class="Bound">σ′</a> <a id="plfa_plfa-part2-Substitution-12325" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-12326" href="../Substitution/#plfa_plfa-part2-Substitution-12309" class="Bound">A</a><a id="plfa_plfa-part2-Substitution-12327" class="Symbol">})</a> <a id="plfa_plfa-part2-Substitution-12330" class="Symbol">→</a> <a id="plfa_plfa-part2-Substitution-12332" class="Symbol">(∀{</a><a id="plfa_plfa-part2-Substitution-12335" href="../Substitution/#plfa_plfa-part2-Substitution-12335" class="Bound">A</a><a id="plfa_plfa-part2-Substitution-12336" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-12338" class="Symbol">→</a> <a id="plfa_plfa-part2-Substitution-12340" href="../Substitution/#plfa_plfa-part2-Substitution-12284" class="Bound">τ</a> <a id="plfa_plfa-part2-Substitution-12342" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-12343" href="../Substitution/#plfa_plfa-part2-Substitution-12335" class="Bound">A</a><a id="plfa_plfa-part2-Substitution-12344" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-12346" href="https://agda.github.io/agda-stdlib/v1.3/Agda.Builtin.Equality.html#151" class="Datatype Operator">≡</a> <a id="plfa_plfa-part2-Substitution-12348" href="../Substitution/#plfa_plfa-part2-Substitution-12286" class="Bound">τ′</a> <a id="plfa_plfa-part2-Substitution-12351" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-12352" href="../Substitution/#plfa_plfa-part2-Substitution-12335" class="Bound">A</a><a id="plfa_plfa-part2-Substitution-12353" class="Symbol">})</a>
  <a id="plfa_plfa-part2-Substitution-12358" class="Symbol">→</a> <a id="plfa_plfa-part2-Substitution-12360" class="Symbol">∀{</a><a id="plfa_plfa-part2-Substitution-12362" href="../Substitution/#plfa_plfa-part2-Substitution-12362" class="Bound">A</a><a id="plfa_plfa-part2-Substitution-12363" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-12365" class="Symbol">→</a> <a id="plfa_plfa-part2-Substitution-12367" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-12368" href="../Substitution/#plfa_plfa-part2-Substitution-12266" class="Bound">σ</a> <a id="plfa_plfa-part2-Substitution-12370" href="../Substitution/#plfa_plfa-part2-Substitution-3740" class="Function Operator">⨟</a> <a id="plfa_plfa-part2-Substitution-12372" href="../Substitution/#plfa_plfa-part2-Substitution-12284" class="Bound">τ</a><a id="plfa_plfa-part2-Substitution-12373" class="Symbol">)</a> <a id="plfa_plfa-part2-Substitution-12375" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-12376" href="../Substitution/#plfa_plfa-part2-Substitution-12362" class="Bound">A</a><a id="plfa_plfa-part2-Substitution-12377" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-12379" href="https://agda.github.io/agda-stdlib/v1.3/Agda.Builtin.Equality.html#151" class="Datatype Operator">≡</a> <a id="plfa_plfa-part2-Substitution-12381" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-12382" href="../Substitution/#plfa_plfa-part2-Substitution-12268" class="Bound">σ′</a> <a id="plfa_plfa-part2-Substitution-12385" href="../Substitution/#plfa_plfa-part2-Substitution-3740" class="Function Operator">⨟</a> <a id="plfa_plfa-part2-Substitution-12387" href="../Substitution/#plfa_plfa-part2-Substitution-12286" class="Bound">τ′</a><a id="plfa_plfa-part2-Substitution-12389" class="Symbol">)</a> <a id="plfa_plfa-part2-Substitution-12391" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-12392" href="../Substitution/#plfa_plfa-part2-Substitution-12362" class="Bound">A</a><a id="plfa_plfa-part2-Substitution-12393" class="Symbol">}</a>
<a id="plfa_plfa-part2-Substitution-12395" href="../Substitution/#plfa_plfa-part2-Substitution-12246" class="Function">cong-seq</a> <a id="plfa_plfa-part2-Substitution-12404" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-12405" href="../Substitution/#plfa_plfa-part2-Substitution-12405" class="Bound">Γ</a><a id="plfa_plfa-part2-Substitution-12406" class="Symbol">}{</a><a id="plfa_plfa-part2-Substitution-12408" href="../Substitution/#plfa_plfa-part2-Substitution-12408" class="Bound">Δ</a><a id="plfa_plfa-part2-Substitution-12409" class="Symbol">}{</a><a id="plfa_plfa-part2-Substitution-12411" href="../Substitution/#plfa_plfa-part2-Substitution-12411" class="Bound">Σ</a><a id="plfa_plfa-part2-Substitution-12412" class="Symbol">}{</a><a id="plfa_plfa-part2-Substitution-12414" href="../Substitution/#plfa_plfa-part2-Substitution-12414" class="Bound">σ</a><a id="plfa_plfa-part2-Substitution-12415" class="Symbol">}{</a><a id="plfa_plfa-part2-Substitution-12417" href="../Substitution/#plfa_plfa-part2-Substitution-12417" class="Bound">σ′</a><a id="plfa_plfa-part2-Substitution-12419" class="Symbol">}{</a><a id="plfa_plfa-part2-Substitution-12421" href="../Substitution/#plfa_plfa-part2-Substitution-12421" class="Bound">τ</a><a id="plfa_plfa-part2-Substitution-12422" class="Symbol">}{</a><a id="plfa_plfa-part2-Substitution-12424" href="../Substitution/#plfa_plfa-part2-Substitution-12424" class="Bound">τ′</a><a id="plfa_plfa-part2-Substitution-12426" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-12428" href="../Substitution/#plfa_plfa-part2-Substitution-12428" class="Bound">ss&#39;</a> <a id="plfa_plfa-part2-Substitution-12432" href="../Substitution/#plfa_plfa-part2-Substitution-12432" class="Bound">tt&#39;</a> <a id="plfa_plfa-part2-Substitution-12436" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-12437" href="../Substitution/#plfa_plfa-part2-Substitution-12437" class="Bound">A</a><a id="plfa_plfa-part2-Substitution-12438" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-12440" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-12442" href="../Substitution/#plfa_plfa-part2-Substitution-1855" class="Postulate">extensionality</a> <a id="plfa_plfa-part2-Substitution-12457" href="../Substitution/#plfa_plfa-part2-Substitution-12473" class="Function">lemma</a>
  <a id="plfa_plfa-part2-Substitution-12465" class="Keyword">where</a>
  <a id="plfa_plfa-part2-Substitution-12473" href="../Substitution/#plfa_plfa-part2-Substitution-12473" class="Function">lemma</a> <a id="plfa_plfa-part2-Substitution-12479" class="Symbol">:</a> <a id="plfa_plfa-part2-Substitution-12481" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-12482" href="../Substitution/#plfa_plfa-part2-Substitution-12482" class="Bound">x</a> <a id="plfa_plfa-part2-Substitution-12484" class="Symbol">:</a> <a id="plfa_plfa-part2-Substitution-12486" href="../Substitution/#plfa_plfa-part2-Substitution-12405" class="Bound">Γ</a> <a id="plfa_plfa-part2-Substitution-12488" href="../Untyped/#plfa_plfa-part2-Untyped-3469" class="Datatype Operator">∋</a> <a id="plfa_plfa-part2-Substitution-12490" href="../Substitution/#plfa_plfa-part2-Substitution-12437" class="Bound">A</a><a id="plfa_plfa-part2-Substitution-12491" class="Symbol">)</a> <a id="plfa_plfa-part2-Substitution-12493" class="Symbol">→</a> <a id="plfa_plfa-part2-Substitution-12495" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-12496" href="../Substitution/#plfa_plfa-part2-Substitution-12414" class="Bound">σ</a> <a id="plfa_plfa-part2-Substitution-12498" href="../Substitution/#plfa_plfa-part2-Substitution-3740" class="Function Operator">⨟</a> <a id="plfa_plfa-part2-Substitution-12500" href="../Substitution/#plfa_plfa-part2-Substitution-12421" class="Bound">τ</a><a id="plfa_plfa-part2-Substitution-12501" class="Symbol">)</a> <a id="plfa_plfa-part2-Substitution-12503" href="../Substitution/#plfa_plfa-part2-Substitution-12482" class="Bound">x</a> <a id="plfa_plfa-part2-Substitution-12505" href="https://agda.github.io/agda-stdlib/v1.3/Agda.Builtin.Equality.html#151" class="Datatype Operator">≡</a> <a id="plfa_plfa-part2-Substitution-12507" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-12508" href="../Substitution/#plfa_plfa-part2-Substitution-12417" class="Bound">σ′</a> <a id="plfa_plfa-part2-Substitution-12511" href="../Substitution/#plfa_plfa-part2-Substitution-3740" class="Function Operator">⨟</a> <a id="plfa_plfa-part2-Substitution-12513" href="../Substitution/#plfa_plfa-part2-Substitution-12424" class="Bound">τ′</a><a id="plfa_plfa-part2-Substitution-12515" class="Symbol">)</a> <a id="plfa_plfa-part2-Substitution-12517" href="../Substitution/#plfa_plfa-part2-Substitution-12482" class="Bound">x</a>
  <a id="plfa_plfa-part2-Substitution-12521" href="../Substitution/#plfa_plfa-part2-Substitution-12473" class="Function">lemma</a> <a id="plfa_plfa-part2-Substitution-12527" href="../Substitution/#plfa_plfa-part2-Substitution-12527" class="Bound">x</a> <a id="plfa_plfa-part2-Substitution-12529" class="Symbol">=</a>
     <a id="plfa_plfa-part2-Substitution-12536" href="https://agda.github.io/agda-stdlib/v1.3/Relation.Binary.PropositionalEquality.Core.html#2517" class="Function Operator">begin</a>
       <a id="plfa_plfa-part2-Substitution-12549" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-12550" href="../Substitution/#plfa_plfa-part2-Substitution-12414" class="Bound">σ</a> <a id="plfa_plfa-part2-Substitution-12552" href="../Substitution/#plfa_plfa-part2-Substitution-3740" class="Function Operator">⨟</a> <a id="plfa_plfa-part2-Substitution-12554" href="../Substitution/#plfa_plfa-part2-Substitution-12421" class="Bound">τ</a><a id="plfa_plfa-part2-Substitution-12555" class="Symbol">)</a> <a id="plfa_plfa-part2-Substitution-12557" href="../Substitution/#plfa_plfa-part2-Substitution-12527" class="Bound">x</a>
     <a id="plfa_plfa-part2-Substitution-12564" href="https://agda.github.io/agda-stdlib/v1.3/Relation.Binary.PropositionalEquality.Core.html#2575" class="Function Operator">≡⟨⟩</a>
       <a id="plfa_plfa-part2-Substitution-12575" href="../Untyped/#plfa_plfa-part2-Untyped-6943" class="Function">subst</a> <a id="plfa_plfa-part2-Substitution-12581" href="../Substitution/#plfa_plfa-part2-Substitution-12421" class="Bound">τ</a> <a id="plfa_plfa-part2-Substitution-12583" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-12584" href="../Substitution/#plfa_plfa-part2-Substitution-12414" class="Bound">σ</a> <a id="plfa_plfa-part2-Substitution-12586" href="../Substitution/#plfa_plfa-part2-Substitution-12527" class="Bound">x</a><a id="plfa_plfa-part2-Substitution-12587" class="Symbol">)</a>
     <a id="plfa_plfa-part2-Substitution-12594" href="https://agda.github.io/agda-stdlib/v1.3/Relation.Binary.PropositionalEquality.Core.html#2634" class="Function">≡⟨</a> <a id="plfa_plfa-part2-Substitution-12597" href="https://agda.github.io/agda-stdlib/v1.3/Relation.Binary.PropositionalEquality.Core.html#1131" class="Function">cong</a> <a id="plfa_plfa-part2-Substitution-12602" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-12603" href="../Untyped/#plfa_plfa-part2-Untyped-6943" class="Function">subst</a> <a id="plfa_plfa-part2-Substitution-12609" href="../Substitution/#plfa_plfa-part2-Substitution-12421" class="Bound">τ</a><a id="plfa_plfa-part2-Substitution-12610" class="Symbol">)</a> <a id="plfa_plfa-part2-Substitution-12612" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-12613" href="https://agda.github.io/agda-stdlib/v1.3/Relation.Binary.PropositionalEquality.html#1396" class="Function">cong-app</a> <a id="plfa_plfa-part2-Substitution-12622" href="../Substitution/#plfa_plfa-part2-Substitution-12428" class="Bound">ss&#39;</a> <a id="plfa_plfa-part2-Substitution-12626" href="../Substitution/#plfa_plfa-part2-Substitution-12527" class="Bound">x</a><a id="plfa_plfa-part2-Substitution-12627" class="Symbol">)</a> <a id="plfa_plfa-part2-Substitution-12629" href="https://agda.github.io/agda-stdlib/v1.3/Relation.Binary.PropositionalEquality.Core.html#2634" class="Function">⟩</a>
       <a id="plfa_plfa-part2-Substitution-12638" href="../Untyped/#plfa_plfa-part2-Untyped-6943" class="Function">subst</a> <a id="plfa_plfa-part2-Substitution-12644" href="../Substitution/#plfa_plfa-part2-Substitution-12421" class="Bound">τ</a> <a id="plfa_plfa-part2-Substitution-12646" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-12647" href="../Substitution/#plfa_plfa-part2-Substitution-12417" class="Bound">σ′</a> <a id="plfa_plfa-part2-Substitution-12650" href="../Substitution/#plfa_plfa-part2-Substitution-12527" class="Bound">x</a><a id="plfa_plfa-part2-Substitution-12651" class="Symbol">)</a>
     <a id="plfa_plfa-part2-Substitution-12658" href="https://agda.github.io/agda-stdlib/v1.3/Relation.Binary.PropositionalEquality.Core.html#2634" class="Function">≡⟨</a> <a id="plfa_plfa-part2-Substitution-12661" href="../Substitution/#plfa_plfa-part2-Substitution-11150" class="Function">cong-sub</a><a id="plfa_plfa-part2-Substitution-12669" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-12670" class="Argument">M</a> <a id="plfa_plfa-part2-Substitution-12672" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-12674" href="../Substitution/#plfa_plfa-part2-Substitution-12417" class="Bound">σ′</a> <a id="plfa_plfa-part2-Substitution-12677" href="../Substitution/#plfa_plfa-part2-Substitution-12527" class="Bound">x</a><a id="plfa_plfa-part2-Substitution-12678" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-12680" href="../Substitution/#plfa_plfa-part2-Substitution-12432" class="Bound">tt&#39;</a> <a id="plfa_plfa-part2-Substitution-12684" href="https://agda.github.io/agda-stdlib/v1.3/Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a> <a id="plfa_plfa-part2-Substitution-12689" href="https://agda.github.io/agda-stdlib/v1.3/Relation.Binary.PropositionalEquality.Core.html#2634" class="Function">⟩</a>
       <a id="plfa_plfa-part2-Substitution-12698" href="../Untyped/#plfa_plfa-part2-Untyped-6943" class="Function">subst</a> <a id="plfa_plfa-part2-Substitution-12704" href="../Substitution/#plfa_plfa-part2-Substitution-12424" class="Bound">τ′</a> <a id="plfa_plfa-part2-Substitution-12707" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-12708" href="../Substitution/#plfa_plfa-part2-Substitution-12417" class="Bound">σ′</a> <a id="plfa_plfa-part2-Substitution-12711" href="../Substitution/#plfa_plfa-part2-Substitution-12527" class="Bound">x</a><a id="plfa_plfa-part2-Substitution-12712" class="Symbol">)</a>
     <a id="plfa_plfa-part2-Substitution-12719" href="https://agda.github.io/agda-stdlib/v1.3/Relation.Binary.PropositionalEquality.Core.html#2575" class="Function Operator">≡⟨⟩</a>
       <a id="plfa_plfa-part2-Substitution-12730" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-12731" href="../Substitution/#plfa_plfa-part2-Substitution-12417" class="Bound">σ′</a> <a id="plfa_plfa-part2-Substitution-12734" href="../Substitution/#plfa_plfa-part2-Substitution-3740" class="Function Operator">⨟</a> <a id="plfa_plfa-part2-Substitution-12736" href="../Substitution/#plfa_plfa-part2-Substitution-12424" class="Bound">τ′</a><a id="plfa_plfa-part2-Substitution-12738" class="Symbol">)</a> <a id="plfa_plfa-part2-Substitution-12740" href="../Substitution/#plfa_plfa-part2-Substitution-12527" class="Bound">x</a>
     <a id="plfa_plfa-part2-Substitution-12747" href="https://agda.github.io/agda-stdlib/v1.3/Relation.Binary.PropositionalEquality.Core.html#2816" class="Function Operator">∎</a>
</pre><h2 id="relating-rename-exts-ext-and-subst-zero-to-the-σ-algebra">Relating <code>rename</code>, <code>exts</code>, <code>ext</code>, and <code>subst-zero</code> to the σ algebra</h2><p>In this section we establish equations that relate <code>subst</code> and its helper functions (<code>rename</code>, <code>exts</code>, <code>ext</code>, and <code>subst-zero</code>) to terms in the σ algebra.</p><p>The first equation we prove is</p><pre><code>rename ρ M ≡ ⟪ ren ρ ⟫ M              (rename-subst-ren)</code></pre><p>Because <code>subst</code> uses the <code>exts</code> function, we need the following lemma which says that <code>exts</code> and <code>ext</code> do the same thing except that <code>ext</code> works on renamings and <code>exts</code> works on substitutions.</p><pre class="Agda"><a id="plfa_plfa-part2-Substitution-ren-ext"></a><a id="plfa_plfa-part2-Substitution-13279" href="../Substitution/#plfa_plfa-part2-Substitution-13279" class="Function">ren-ext</a> <a id="plfa_plfa-part2-Substitution-13287" class="Symbol">:</a> <a id="plfa_plfa-part2-Substitution-13289" class="Symbol">∀</a> <a id="plfa_plfa-part2-Substitution-13291" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-13292" href="../Substitution/#plfa_plfa-part2-Substitution-13292" class="Bound">Γ</a> <a id="plfa_plfa-part2-Substitution-13294" href="../Substitution/#plfa_plfa-part2-Substitution-13294" class="Bound">Δ</a><a id="plfa_plfa-part2-Substitution-13295" class="Symbol">}{</a><a id="plfa_plfa-part2-Substitution-13297" href="../Substitution/#plfa_plfa-part2-Substitution-13297" class="Bound">B</a> <a id="plfa_plfa-part2-Substitution-13299" href="../Substitution/#plfa_plfa-part2-Substitution-13299" class="Bound">C</a> <a id="plfa_plfa-part2-Substitution-13301" class="Symbol">:</a> <a id="plfa_plfa-part2-Substitution-13303" href="../Untyped/#plfa_plfa-part2-Untyped-2801" class="Datatype">Type</a><a id="plfa_plfa-part2-Substitution-13307" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-13309" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-13310" href="../Substitution/#plfa_plfa-part2-Substitution-13310" class="Bound">ρ</a> <a id="plfa_plfa-part2-Substitution-13312" class="Symbol">:</a> <a id="plfa_plfa-part2-Substitution-13314" href="../Substitution/#plfa_plfa-part2-Substitution-2124" class="Function">Rename</a> <a id="plfa_plfa-part2-Substitution-13321" href="../Substitution/#plfa_plfa-part2-Substitution-13292" class="Bound">Γ</a> <a id="plfa_plfa-part2-Substitution-13323" href="../Substitution/#plfa_plfa-part2-Substitution-13294" class="Bound">Δ</a><a id="plfa_plfa-part2-Substitution-13324" class="Symbol">}</a>
        <a id="plfa_plfa-part2-Substitution-13334" class="Symbol">→</a> <a id="plfa_plfa-part2-Substitution-13336" href="../Substitution/#plfa_plfa-part2-Substitution-6482" class="Function">ren</a> <a id="plfa_plfa-part2-Substitution-13340" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-13341" href="../Untyped/#plfa_plfa-part2-Untyped-5893" class="Function">ext</a> <a id="plfa_plfa-part2-Substitution-13345" href="../Substitution/#plfa_plfa-part2-Substitution-13310" class="Bound">ρ</a> <a id="plfa_plfa-part2-Substitution-13347" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-13348" class="Argument">B</a> <a id="plfa_plfa-part2-Substitution-13350" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-13352" href="../Substitution/#plfa_plfa-part2-Substitution-13297" class="Bound">B</a><a id="plfa_plfa-part2-Substitution-13353" class="Symbol">})</a> <a id="plfa_plfa-part2-Substitution-13356" href="https://agda.github.io/agda-stdlib/v1.3/Agda.Builtin.Equality.html#151" class="Datatype Operator">≡</a> <a id="plfa_plfa-part2-Substitution-13358" href="../Untyped/#plfa_plfa-part2-Untyped-6647" class="Function">exts</a> <a id="plfa_plfa-part2-Substitution-13363" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-13364" href="../Substitution/#plfa_plfa-part2-Substitution-6482" class="Function">ren</a> <a id="plfa_plfa-part2-Substitution-13368" href="../Substitution/#plfa_plfa-part2-Substitution-13310" class="Bound">ρ</a><a id="plfa_plfa-part2-Substitution-13369" class="Symbol">)</a> <a id="plfa_plfa-part2-Substitution-13371" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-13372" href="../Substitution/#plfa_plfa-part2-Substitution-13299" class="Bound">C</a><a id="plfa_plfa-part2-Substitution-13373" class="Symbol">}</a>
<a id="plfa_plfa-part2-Substitution-13375" href="../Substitution/#plfa_plfa-part2-Substitution-13279" class="Function">ren-ext</a> <a id="plfa_plfa-part2-Substitution-13383" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-13384" href="../Substitution/#plfa_plfa-part2-Substitution-13384" class="Bound">Γ</a><a id="plfa_plfa-part2-Substitution-13385" class="Symbol">}{</a><a id="plfa_plfa-part2-Substitution-13387" href="../Substitution/#plfa_plfa-part2-Substitution-13387" class="Bound">Δ</a><a id="plfa_plfa-part2-Substitution-13388" class="Symbol">}{</a><a id="plfa_plfa-part2-Substitution-13390" href="../Substitution/#plfa_plfa-part2-Substitution-13390" class="Bound">B</a><a id="plfa_plfa-part2-Substitution-13391" class="Symbol">}{</a><a id="plfa_plfa-part2-Substitution-13393" href="../Substitution/#plfa_plfa-part2-Substitution-13393" class="Bound">C</a><a id="plfa_plfa-part2-Substitution-13394" class="Symbol">}{</a><a id="plfa_plfa-part2-Substitution-13396" href="../Substitution/#plfa_plfa-part2-Substitution-13396" class="Bound">ρ</a><a id="plfa_plfa-part2-Substitution-13397" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-13399" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-13401" href="../Substitution/#plfa_plfa-part2-Substitution-1855" class="Postulate">extensionality</a> <a id="plfa_plfa-part2-Substitution-13416" class="Symbol">λ</a> <a id="plfa_plfa-part2-Substitution-13418" href="../Substitution/#plfa_plfa-part2-Substitution-13418" class="Bound">x</a> <a id="plfa_plfa-part2-Substitution-13420" class="Symbol">→</a> <a id="plfa_plfa-part2-Substitution-13422" href="../Substitution/#plfa_plfa-part2-Substitution-13446" class="Function">lemma</a> <a id="plfa_plfa-part2-Substitution-13428" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-13429" class="Argument">x</a> <a id="plfa_plfa-part2-Substitution-13431" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-13433" href="../Substitution/#plfa_plfa-part2-Substitution-13418" class="Bound">x</a><a id="plfa_plfa-part2-Substitution-13434" class="Symbol">}</a>
  <a id="plfa_plfa-part2-Substitution-13438" class="Keyword">where</a>
  <a id="plfa_plfa-part2-Substitution-13446" href="../Substitution/#plfa_plfa-part2-Substitution-13446" class="Function">lemma</a> <a id="plfa_plfa-part2-Substitution-13452" class="Symbol">:</a> <a id="plfa_plfa-part2-Substitution-13454" class="Symbol">∀</a> <a id="plfa_plfa-part2-Substitution-13456" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-13457" href="../Substitution/#plfa_plfa-part2-Substitution-13457" class="Bound">x</a> <a id="plfa_plfa-part2-Substitution-13459" class="Symbol">:</a> <a id="plfa_plfa-part2-Substitution-13461" href="../Substitution/#plfa_plfa-part2-Substitution-13384" class="Bound">Γ</a> <a id="plfa_plfa-part2-Substitution-13463" href="../Untyped/#plfa_plfa-part2-Untyped-3131" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part2-Substitution-13465" href="../Substitution/#plfa_plfa-part2-Substitution-13390" class="Bound">B</a> <a id="plfa_plfa-part2-Substitution-13467" href="../Untyped/#plfa_plfa-part2-Untyped-3469" class="Datatype Operator">∋</a> <a id="plfa_plfa-part2-Substitution-13469" href="../Substitution/#plfa_plfa-part2-Substitution-13393" class="Bound">C</a><a id="plfa_plfa-part2-Substitution-13470" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-13472" class="Symbol">→</a> <a id="plfa_plfa-part2-Substitution-13474" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-13475" href="../Substitution/#plfa_plfa-part2-Substitution-6482" class="Function">ren</a> <a id="plfa_plfa-part2-Substitution-13479" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-13480" href="../Untyped/#plfa_plfa-part2-Untyped-5893" class="Function">ext</a> <a id="plfa_plfa-part2-Substitution-13484" href="../Substitution/#plfa_plfa-part2-Substitution-13396" class="Bound">ρ</a><a id="plfa_plfa-part2-Substitution-13485" class="Symbol">))</a> <a id="plfa_plfa-part2-Substitution-13488" href="../Substitution/#plfa_plfa-part2-Substitution-13457" class="Bound">x</a> <a id="plfa_plfa-part2-Substitution-13490" href="https://agda.github.io/agda-stdlib/v1.3/Agda.Builtin.Equality.html#151" class="Datatype Operator">≡</a> <a id="plfa_plfa-part2-Substitution-13492" href="../Untyped/#plfa_plfa-part2-Untyped-6647" class="Function">exts</a> <a id="plfa_plfa-part2-Substitution-13497" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-13498" href="../Substitution/#plfa_plfa-part2-Substitution-6482" class="Function">ren</a> <a id="plfa_plfa-part2-Substitution-13502" href="../Substitution/#plfa_plfa-part2-Substitution-13396" class="Bound">ρ</a><a id="plfa_plfa-part2-Substitution-13503" class="Symbol">)</a> <a id="plfa_plfa-part2-Substitution-13505" href="../Substitution/#plfa_plfa-part2-Substitution-13457" class="Bound">x</a>
  <a id="plfa_plfa-part2-Substitution-13509" href="../Substitution/#plfa_plfa-part2-Substitution-13446" class="Function">lemma</a> <a id="plfa_plfa-part2-Substitution-13515" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-13516" class="Argument">x</a> <a id="plfa_plfa-part2-Substitution-13518" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-13520" href="../Untyped/#plfa_plfa-part2-Untyped-3505" class="InductiveConstructor">Z</a><a id="plfa_plfa-part2-Substitution-13521" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-13523" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-13525" href="https://agda.github.io/agda-stdlib/v1.3/Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a>
  <a id="plfa_plfa-part2-Substitution-13532" href="../Substitution/#plfa_plfa-part2-Substitution-13446" class="Function">lemma</a> <a id="plfa_plfa-part2-Substitution-13538" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-13539" class="Argument">x</a> <a id="plfa_plfa-part2-Substitution-13541" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-13543" href="../Untyped/#plfa_plfa-part2-Untyped-3550" class="InductiveConstructor Operator">S</a> <a id="plfa_plfa-part2-Substitution-13545" href="../Substitution/#plfa_plfa-part2-Substitution-13545" class="Bound">x</a><a id="plfa_plfa-part2-Substitution-13546" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-13548" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-13550" href="https://agda.github.io/agda-stdlib/v1.3/Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a>
</pre><p>With this lemma in hand, the proof is a straightforward induction on the term <code>M</code>.</p><pre class="Agda"><a id="plfa_plfa-part2-Substitution-rename-subst-ren"></a><a id="plfa_plfa-part2-Substitution-13652" href="../Substitution/#plfa_plfa-part2-Substitution-13652" class="Function">rename-subst-ren</a> <a id="plfa_plfa-part2-Substitution-13669" class="Symbol">:</a> <a id="plfa_plfa-part2-Substitution-13671" class="Symbol">∀</a> <a id="plfa_plfa-part2-Substitution-13673" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-13674" href="../Substitution/#plfa_plfa-part2-Substitution-13674" class="Bound">Γ</a> <a id="plfa_plfa-part2-Substitution-13676" href="../Substitution/#plfa_plfa-part2-Substitution-13676" class="Bound">Δ</a><a id="plfa_plfa-part2-Substitution-13677" class="Symbol">}{</a><a id="plfa_plfa-part2-Substitution-13679" href="../Substitution/#plfa_plfa-part2-Substitution-13679" class="Bound">A</a><a id="plfa_plfa-part2-Substitution-13680" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-13682" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-13683" href="../Substitution/#plfa_plfa-part2-Substitution-13683" class="Bound">ρ</a> <a id="plfa_plfa-part2-Substitution-13685" class="Symbol">:</a> <a id="plfa_plfa-part2-Substitution-13687" href="../Substitution/#plfa_plfa-part2-Substitution-2124" class="Function">Rename</a> <a id="plfa_plfa-part2-Substitution-13694" href="../Substitution/#plfa_plfa-part2-Substitution-13674" class="Bound">Γ</a> <a id="plfa_plfa-part2-Substitution-13696" href="../Substitution/#plfa_plfa-part2-Substitution-13676" class="Bound">Δ</a><a id="plfa_plfa-part2-Substitution-13697" class="Symbol">}{</a><a id="plfa_plfa-part2-Substitution-13699" href="../Substitution/#plfa_plfa-part2-Substitution-13699" class="Bound">M</a> <a id="plfa_plfa-part2-Substitution-13701" class="Symbol">:</a> <a id="plfa_plfa-part2-Substitution-13703" href="../Substitution/#plfa_plfa-part2-Substitution-13674" class="Bound">Γ</a> <a id="plfa_plfa-part2-Substitution-13705" href="../Untyped/#plfa_plfa-part2-Untyped-4246" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Substitution-13707" href="../Substitution/#plfa_plfa-part2-Substitution-13679" class="Bound">A</a><a id="plfa_plfa-part2-Substitution-13708" class="Symbol">}</a>
                 <a id="plfa_plfa-part2-Substitution-13727" class="Symbol">→</a> <a id="plfa_plfa-part2-Substitution-13729" href="../Untyped/#plfa_plfa-part2-Untyped-6207" class="Function">rename</a> <a id="plfa_plfa-part2-Substitution-13736" href="../Substitution/#plfa_plfa-part2-Substitution-13683" class="Bound">ρ</a> <a id="plfa_plfa-part2-Substitution-13738" href="../Substitution/#plfa_plfa-part2-Substitution-13699" class="Bound">M</a> <a id="plfa_plfa-part2-Substitution-13740" href="https://agda.github.io/agda-stdlib/v1.3/Agda.Builtin.Equality.html#151" class="Datatype Operator">≡</a> <a id="plfa_plfa-part2-Substitution-13742" href="../Substitution/#plfa_plfa-part2-Substitution-2490" class="Function Operator">⟪</a> <a id="plfa_plfa-part2-Substitution-13744" href="../Substitution/#plfa_plfa-part2-Substitution-6482" class="Function">ren</a> <a id="plfa_plfa-part2-Substitution-13748" href="../Substitution/#plfa_plfa-part2-Substitution-13683" class="Bound">ρ</a> <a id="plfa_plfa-part2-Substitution-13750" href="../Substitution/#plfa_plfa-part2-Substitution-2490" class="Function Operator">⟫</a> <a id="plfa_plfa-part2-Substitution-13752" href="../Substitution/#plfa_plfa-part2-Substitution-13699" class="Bound">M</a>
<a id="plfa_plfa-part2-Substitution-13754" href="../Substitution/#plfa_plfa-part2-Substitution-13652" class="Function">rename-subst-ren</a> <a id="plfa_plfa-part2-Substitution-13771" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-13772" class="Argument">M</a> <a id="plfa_plfa-part2-Substitution-13774" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-13776" href="../Untyped/#plfa_plfa-part2-Untyped-4282" class="InductiveConstructor Operator">`</a> <a id="plfa_plfa-part2-Substitution-13778" href="../Substitution/#plfa_plfa-part2-Substitution-13778" class="Bound">x</a><a id="plfa_plfa-part2-Substitution-13779" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-13781" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-13783" href="https://agda.github.io/agda-stdlib/v1.3/Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a>
<a id="plfa_plfa-part2-Substitution-13788" href="../Substitution/#plfa_plfa-part2-Substitution-13652" class="Function">rename-subst-ren</a> <a id="plfa_plfa-part2-Substitution-13805" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-13806" class="Argument">ρ</a> <a id="plfa_plfa-part2-Substitution-13808" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-13810" href="../Substitution/#plfa_plfa-part2-Substitution-13810" class="Bound">ρ</a><a id="plfa_plfa-part2-Substitution-13811" class="Symbol">}{</a><a id="plfa_plfa-part2-Substitution-13813" class="Argument">M</a> <a id="plfa_plfa-part2-Substitution-13815" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-13817" href="../Untyped/#plfa_plfa-part2-Untyped-4334" class="InductiveConstructor Operator">ƛ</a> <a id="plfa_plfa-part2-Substitution-13819" href="../Substitution/#plfa_plfa-part2-Substitution-13819" class="Bound">N</a><a id="plfa_plfa-part2-Substitution-13820" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-13822" class="Symbol">=</a>
  <a id="plfa_plfa-part2-Substitution-13826" href="https://agda.github.io/agda-stdlib/v1.3/Relation.Binary.PropositionalEquality.Core.html#2517" class="Function Operator">begin</a>
      <a id="plfa_plfa-part2-Substitution-13838" href="../Untyped/#plfa_plfa-part2-Untyped-6207" class="Function">rename</a> <a id="plfa_plfa-part2-Substitution-13845" href="../Substitution/#plfa_plfa-part2-Substitution-13810" class="Bound">ρ</a> <a id="plfa_plfa-part2-Substitution-13847" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-13848" href="../Untyped/#plfa_plfa-part2-Untyped-4334" class="InductiveConstructor Operator">ƛ</a> <a id="plfa_plfa-part2-Substitution-13850" href="../Substitution/#plfa_plfa-part2-Substitution-13819" class="Bound">N</a><a id="plfa_plfa-part2-Substitution-13851" class="Symbol">)</a>
    <a id="plfa_plfa-part2-Substitution-13857" href="https://agda.github.io/agda-stdlib/v1.3/Relation.Binary.PropositionalEquality.Core.html#2575" class="Function Operator">≡⟨⟩</a>
      <a id="plfa_plfa-part2-Substitution-13867" href="../Untyped/#plfa_plfa-part2-Untyped-4334" class="InductiveConstructor Operator">ƛ</a> <a id="plfa_plfa-part2-Substitution-13869" href="../Untyped/#plfa_plfa-part2-Untyped-6207" class="Function">rename</a> <a id="plfa_plfa-part2-Substitution-13876" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-13877" href="../Untyped/#plfa_plfa-part2-Untyped-5893" class="Function">ext</a> <a id="plfa_plfa-part2-Substitution-13881" href="../Substitution/#plfa_plfa-part2-Substitution-13810" class="Bound">ρ</a><a id="plfa_plfa-part2-Substitution-13882" class="Symbol">)</a> <a id="plfa_plfa-part2-Substitution-13884" href="../Substitution/#plfa_plfa-part2-Substitution-13819" class="Bound">N</a>
    <a id="plfa_plfa-part2-Substitution-13890" href="https://agda.github.io/agda-stdlib/v1.3/Relation.Binary.PropositionalEquality.Core.html#2634" class="Function">≡⟨</a> <a id="plfa_plfa-part2-Substitution-13893" href="https://agda.github.io/agda-stdlib/v1.3/Relation.Binary.PropositionalEquality.Core.html#1131" class="Function">cong</a> <a id="plfa_plfa-part2-Substitution-13898" href="../Untyped/#plfa_plfa-part2-Untyped-4334" class="InductiveConstructor Operator">ƛ_</a> <a id="plfa_plfa-part2-Substitution-13901" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-13902" href="../Substitution/#plfa_plfa-part2-Substitution-13652" class="Function">rename-subst-ren</a> <a id="plfa_plfa-part2-Substitution-13919" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-13920" class="Argument">ρ</a> <a id="plfa_plfa-part2-Substitution-13922" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-13924" href="../Untyped/#plfa_plfa-part2-Untyped-5893" class="Function">ext</a> <a id="plfa_plfa-part2-Substitution-13928" href="../Substitution/#plfa_plfa-part2-Substitution-13810" class="Bound">ρ</a><a id="plfa_plfa-part2-Substitution-13929" class="Symbol">}{</a><a id="plfa_plfa-part2-Substitution-13931" class="Argument">M</a> <a id="plfa_plfa-part2-Substitution-13933" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-13935" href="../Substitution/#plfa_plfa-part2-Substitution-13819" class="Bound">N</a><a id="plfa_plfa-part2-Substitution-13936" class="Symbol">})</a> <a id="plfa_plfa-part2-Substitution-13939" href="https://agda.github.io/agda-stdlib/v1.3/Relation.Binary.PropositionalEquality.Core.html#2634" class="Function">⟩</a>
      <a id="plfa_plfa-part2-Substitution-13947" href="../Untyped/#plfa_plfa-part2-Untyped-4334" class="InductiveConstructor Operator">ƛ</a> <a id="plfa_plfa-part2-Substitution-13949" href="../Substitution/#plfa_plfa-part2-Substitution-2490" class="Function Operator">⟪</a> <a id="plfa_plfa-part2-Substitution-13951" href="../Substitution/#plfa_plfa-part2-Substitution-6482" class="Function">ren</a> <a id="plfa_plfa-part2-Substitution-13955" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-13956" href="../Untyped/#plfa_plfa-part2-Untyped-5893" class="Function">ext</a> <a id="plfa_plfa-part2-Substitution-13960" href="../Substitution/#plfa_plfa-part2-Substitution-13810" class="Bound">ρ</a><a id="plfa_plfa-part2-Substitution-13961" class="Symbol">)</a> <a id="plfa_plfa-part2-Substitution-13963" href="../Substitution/#plfa_plfa-part2-Substitution-2490" class="Function Operator">⟫</a> <a id="plfa_plfa-part2-Substitution-13965" href="../Substitution/#plfa_plfa-part2-Substitution-13819" class="Bound">N</a>
    <a id="plfa_plfa-part2-Substitution-13971" href="https://agda.github.io/agda-stdlib/v1.3/Relation.Binary.PropositionalEquality.Core.html#2634" class="Function">≡⟨</a> <a id="plfa_plfa-part2-Substitution-13974" href="https://agda.github.io/agda-stdlib/v1.3/Relation.Binary.PropositionalEquality.Core.html#1131" class="Function">cong</a> <a id="plfa_plfa-part2-Substitution-13979" href="../Untyped/#plfa_plfa-part2-Untyped-4334" class="InductiveConstructor Operator">ƛ_</a> <a id="plfa_plfa-part2-Substitution-13982" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-13983" href="../Substitution/#plfa_plfa-part2-Substitution-11150" class="Function">cong-sub</a> <a id="plfa_plfa-part2-Substitution-13992" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-13993" class="Argument">M</a> <a id="plfa_plfa-part2-Substitution-13995" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-13997" href="../Substitution/#plfa_plfa-part2-Substitution-13819" class="Bound">N</a><a id="plfa_plfa-part2-Substitution-13998" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-14000" href="../Substitution/#plfa_plfa-part2-Substitution-13279" class="Function">ren-ext</a> <a id="plfa_plfa-part2-Substitution-14008" href="https://agda.github.io/agda-stdlib/v1.3/Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a><a id="plfa_plfa-part2-Substitution-14012" class="Symbol">)</a> <a id="plfa_plfa-part2-Substitution-14014" href="https://agda.github.io/agda-stdlib/v1.3/Relation.Binary.PropositionalEquality.Core.html#2634" class="Function">⟩</a>
      <a id="plfa_plfa-part2-Substitution-14022" href="../Untyped/#plfa_plfa-part2-Untyped-4334" class="InductiveConstructor Operator">ƛ</a> <a id="plfa_plfa-part2-Substitution-14024" href="../Substitution/#plfa_plfa-part2-Substitution-2490" class="Function Operator">⟪</a> <a id="plfa_plfa-part2-Substitution-14026" href="../Untyped/#plfa_plfa-part2-Untyped-6647" class="Function">exts</a> <a id="plfa_plfa-part2-Substitution-14031" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-14032" href="../Substitution/#plfa_plfa-part2-Substitution-6482" class="Function">ren</a> <a id="plfa_plfa-part2-Substitution-14036" href="../Substitution/#plfa_plfa-part2-Substitution-13810" class="Bound">ρ</a><a id="plfa_plfa-part2-Substitution-14037" class="Symbol">)</a> <a id="plfa_plfa-part2-Substitution-14039" href="../Substitution/#plfa_plfa-part2-Substitution-2490" class="Function Operator">⟫</a>  <a id="plfa_plfa-part2-Substitution-14042" href="../Substitution/#plfa_plfa-part2-Substitution-13819" class="Bound">N</a>
    <a id="plfa_plfa-part2-Substitution-14048" href="https://agda.github.io/agda-stdlib/v1.3/Relation.Binary.PropositionalEquality.Core.html#2575" class="Function Operator">≡⟨⟩</a>
      <a id="plfa_plfa-part2-Substitution-14058" href="../Substitution/#plfa_plfa-part2-Substitution-2490" class="Function Operator">⟪</a> <a id="plfa_plfa-part2-Substitution-14060" href="../Substitution/#plfa_plfa-part2-Substitution-6482" class="Function">ren</a> <a id="plfa_plfa-part2-Substitution-14064" href="../Substitution/#plfa_plfa-part2-Substitution-13810" class="Bound">ρ</a> <a id="plfa_plfa-part2-Substitution-14066" href="../Substitution/#plfa_plfa-part2-Substitution-2490" class="Function Operator">⟫</a> <a id="plfa_plfa-part2-Substitution-14068" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-14069" href="../Untyped/#plfa_plfa-part2-Untyped-4334" class="InductiveConstructor Operator">ƛ</a> <a id="plfa_plfa-part2-Substitution-14071" href="../Substitution/#plfa_plfa-part2-Substitution-13819" class="Bound">N</a><a id="plfa_plfa-part2-Substitution-14072" class="Symbol">)</a>
  <a id="plfa_plfa-part2-Substitution-14076" href="https://agda.github.io/agda-stdlib/v1.3/Relation.Binary.PropositionalEquality.Core.html#2816" class="Function Operator">∎</a>
<a id="plfa_plfa-part2-Substitution-14078" href="../Substitution/#plfa_plfa-part2-Substitution-13652" class="Function">rename-subst-ren</a> <a id="plfa_plfa-part2-Substitution-14095" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-14096" class="Argument">M</a> <a id="plfa_plfa-part2-Substitution-14098" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-14100" href="../Substitution/#plfa_plfa-part2-Substitution-14100" class="Bound">L</a> <a id="plfa_plfa-part2-Substitution-14102" href="../Untyped/#plfa_plfa-part2-Untyped-4394" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Substitution-14104" href="../Substitution/#plfa_plfa-part2-Substitution-14104" class="Bound">M</a><a id="plfa_plfa-part2-Substitution-14105" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-14107" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-14109" href="https://agda.github.io/agda-stdlib/v1.3/Relation.Binary.PropositionalEquality.html#1524" class="Function">cong₂</a> <a id="plfa_plfa-part2-Substitution-14115" href="../Untyped/#plfa_plfa-part2-Untyped-4394" class="InductiveConstructor Operator">_·_</a> <a id="plfa_plfa-part2-Substitution-14119" href="../Substitution/#plfa_plfa-part2-Substitution-13652" class="Function">rename-subst-ren</a> <a id="plfa_plfa-part2-Substitution-14136" href="../Substitution/#plfa_plfa-part2-Substitution-13652" class="Function">rename-subst-ren</a>
</pre><p>The substitution <code>ren S_</code> is equivalent to <code>↑</code>.</p><pre class="Agda"><a id="plfa_plfa-part2-Substitution-ren-shift"></a><a id="plfa_plfa-part2-Substitution-14215" href="../Substitution/#plfa_plfa-part2-Substitution-14215" class="Function">ren-shift</a> <a id="plfa_plfa-part2-Substitution-14225" class="Symbol">:</a> <a id="plfa_plfa-part2-Substitution-14227" class="Symbol">∀{</a><a id="plfa_plfa-part2-Substitution-14229" href="../Substitution/#plfa_plfa-part2-Substitution-14229" class="Bound">Γ</a><a id="plfa_plfa-part2-Substitution-14230" class="Symbol">}{</a><a id="plfa_plfa-part2-Substitution-14232" href="../Substitution/#plfa_plfa-part2-Substitution-14232" class="Bound">A</a><a id="plfa_plfa-part2-Substitution-14233" class="Symbol">}{</a><a id="plfa_plfa-part2-Substitution-14235" href="../Substitution/#plfa_plfa-part2-Substitution-14235" class="Bound">B</a><a id="plfa_plfa-part2-Substitution-14236" class="Symbol">}</a>
          <a id="plfa_plfa-part2-Substitution-14248" class="Symbol">→</a> <a id="plfa_plfa-part2-Substitution-14250" href="../Substitution/#plfa_plfa-part2-Substitution-6482" class="Function">ren</a> <a id="plfa_plfa-part2-Substitution-14254" href="../Untyped/#plfa_plfa-part2-Untyped-3550" class="InductiveConstructor Operator">S_</a> <a id="plfa_plfa-part2-Substitution-14257" href="https://agda.github.io/agda-stdlib/v1.3/Agda.Builtin.Equality.html#151" class="Datatype Operator">≡</a> <a id="plfa_plfa-part2-Substitution-14259" href="../Substitution/#plfa_plfa-part2-Substitution-3139" class="Function">↑</a> <a id="plfa_plfa-part2-Substitution-14261" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-14262" class="Argument">A</a> <a id="plfa_plfa-part2-Substitution-14264" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-14266" href="../Substitution/#plfa_plfa-part2-Substitution-14235" class="Bound">B</a><a id="plfa_plfa-part2-Substitution-14267" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-14269" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-14270" href="../Substitution/#plfa_plfa-part2-Substitution-14232" class="Bound">A</a><a id="plfa_plfa-part2-Substitution-14271" class="Symbol">}</a>
<a id="plfa_plfa-part2-Substitution-14273" href="../Substitution/#plfa_plfa-part2-Substitution-14215" class="Function">ren-shift</a> <a id="plfa_plfa-part2-Substitution-14283" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-14284" href="../Substitution/#plfa_plfa-part2-Substitution-14284" class="Bound">Γ</a><a id="plfa_plfa-part2-Substitution-14285" class="Symbol">}{</a><a id="plfa_plfa-part2-Substitution-14287" href="../Substitution/#plfa_plfa-part2-Substitution-14287" class="Bound">A</a><a id="plfa_plfa-part2-Substitution-14288" class="Symbol">}{</a><a id="plfa_plfa-part2-Substitution-14290" href="../Substitution/#plfa_plfa-part2-Substitution-14290" class="Bound">B</a><a id="plfa_plfa-part2-Substitution-14291" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-14293" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-14295" href="../Substitution/#plfa_plfa-part2-Substitution-1855" class="Postulate">extensionality</a> <a id="plfa_plfa-part2-Substitution-14310" class="Symbol">λ</a> <a id="plfa_plfa-part2-Substitution-14312" href="../Substitution/#plfa_plfa-part2-Substitution-14312" class="Bound">x</a> <a id="plfa_plfa-part2-Substitution-14314" class="Symbol">→</a> <a id="plfa_plfa-part2-Substitution-14316" href="../Substitution/#plfa_plfa-part2-Substitution-14340" class="Function">lemma</a> <a id="plfa_plfa-part2-Substitution-14322" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-14323" class="Argument">x</a> <a id="plfa_plfa-part2-Substitution-14325" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-14327" href="../Substitution/#plfa_plfa-part2-Substitution-14312" class="Bound">x</a><a id="plfa_plfa-part2-Substitution-14328" class="Symbol">}</a>
  <a id="plfa_plfa-part2-Substitution-14332" class="Keyword">where</a>
  <a id="plfa_plfa-part2-Substitution-14340" href="../Substitution/#plfa_plfa-part2-Substitution-14340" class="Function">lemma</a> <a id="plfa_plfa-part2-Substitution-14346" class="Symbol">:</a> <a id="plfa_plfa-part2-Substitution-14348" class="Symbol">∀</a> <a id="plfa_plfa-part2-Substitution-14350" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-14351" href="../Substitution/#plfa_plfa-part2-Substitution-14351" class="Bound">x</a> <a id="plfa_plfa-part2-Substitution-14353" class="Symbol">:</a> <a id="plfa_plfa-part2-Substitution-14355" href="../Substitution/#plfa_plfa-part2-Substitution-14284" class="Bound">Γ</a> <a id="plfa_plfa-part2-Substitution-14357" href="../Untyped/#plfa_plfa-part2-Untyped-3469" class="Datatype Operator">∋</a> <a id="plfa_plfa-part2-Substitution-14359" href="../Substitution/#plfa_plfa-part2-Substitution-14287" class="Bound">A</a><a id="plfa_plfa-part2-Substitution-14360" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-14362" class="Symbol">→</a> <a id="plfa_plfa-part2-Substitution-14364" href="../Substitution/#plfa_plfa-part2-Substitution-6482" class="Function">ren</a> <a id="plfa_plfa-part2-Substitution-14368" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-14369" href="../Untyped/#plfa_plfa-part2-Untyped-3550" class="InductiveConstructor Operator">S_</a><a id="plfa_plfa-part2-Substitution-14371" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-14372" class="Argument">B</a> <a id="plfa_plfa-part2-Substitution-14374" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-14376" href="../Substitution/#plfa_plfa-part2-Substitution-14290" class="Bound">B</a><a id="plfa_plfa-part2-Substitution-14377" class="Symbol">})</a> <a id="plfa_plfa-part2-Substitution-14380" href="../Substitution/#plfa_plfa-part2-Substitution-14351" class="Bound">x</a> <a id="plfa_plfa-part2-Substitution-14382" href="https://agda.github.io/agda-stdlib/v1.3/Agda.Builtin.Equality.html#151" class="Datatype Operator">≡</a> <a id="plfa_plfa-part2-Substitution-14384" href="../Substitution/#plfa_plfa-part2-Substitution-3139" class="Function">↑</a> <a id="plfa_plfa-part2-Substitution-14386" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-14387" class="Argument">A</a> <a id="plfa_plfa-part2-Substitution-14389" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-14391" href="../Substitution/#plfa_plfa-part2-Substitution-14290" class="Bound">B</a><a id="plfa_plfa-part2-Substitution-14392" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-14394" href="../Substitution/#plfa_plfa-part2-Substitution-14351" class="Bound">x</a>
  <a id="plfa_plfa-part2-Substitution-14398" href="../Substitution/#plfa_plfa-part2-Substitution-14340" class="Function">lemma</a> <a id="plfa_plfa-part2-Substitution-14404" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-14405" class="Argument">x</a> <a id="plfa_plfa-part2-Substitution-14407" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-14409" href="../Untyped/#plfa_plfa-part2-Untyped-3505" class="InductiveConstructor">Z</a><a id="plfa_plfa-part2-Substitution-14410" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-14412" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-14414" href="https://agda.github.io/agda-stdlib/v1.3/Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a>
  <a id="plfa_plfa-part2-Substitution-14421" href="../Substitution/#plfa_plfa-part2-Substitution-14340" class="Function">lemma</a> <a id="plfa_plfa-part2-Substitution-14427" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-14428" class="Argument">x</a> <a id="plfa_plfa-part2-Substitution-14430" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-14432" href="../Untyped/#plfa_plfa-part2-Untyped-3550" class="InductiveConstructor Operator">S</a> <a id="plfa_plfa-part2-Substitution-14434" href="../Substitution/#plfa_plfa-part2-Substitution-14434" class="Bound">x</a><a id="plfa_plfa-part2-Substitution-14435" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-14437" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-14439" href="https://agda.github.io/agda-stdlib/v1.3/Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a>
</pre><p>The substitution <code>rename S_ M</code> is equivalent to shifting: <code>⟪ ↑ ⟫ M</code>.</p><pre class="Agda"><a id="plfa_plfa-part2-Substitution-rename-shift"></a><a id="plfa_plfa-part2-Substitution-14527" href="../Substitution/#plfa_plfa-part2-Substitution-14527" class="Function">rename-shift</a> <a id="plfa_plfa-part2-Substitution-14540" class="Symbol">:</a> <a id="plfa_plfa-part2-Substitution-14542" class="Symbol">∀{</a><a id="plfa_plfa-part2-Substitution-14544" href="../Substitution/#plfa_plfa-part2-Substitution-14544" class="Bound">Γ</a><a id="plfa_plfa-part2-Substitution-14545" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-14547" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-14548" href="../Substitution/#plfa_plfa-part2-Substitution-14548" class="Bound">A</a><a id="plfa_plfa-part2-Substitution-14549" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-14551" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-14552" href="../Substitution/#plfa_plfa-part2-Substitution-14552" class="Bound">B</a><a id="plfa_plfa-part2-Substitution-14553" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-14555" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-14556" href="../Substitution/#plfa_plfa-part2-Substitution-14556" class="Bound">M</a> <a id="plfa_plfa-part2-Substitution-14558" class="Symbol">:</a> <a id="plfa_plfa-part2-Substitution-14560" href="../Substitution/#plfa_plfa-part2-Substitution-14544" class="Bound">Γ</a> <a id="plfa_plfa-part2-Substitution-14562" href="../Untyped/#plfa_plfa-part2-Untyped-4246" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Substitution-14564" href="../Substitution/#plfa_plfa-part2-Substitution-14548" class="Bound">A</a><a id="plfa_plfa-part2-Substitution-14565" class="Symbol">}</a>
             <a id="plfa_plfa-part2-Substitution-14580" class="Symbol">→</a> <a id="plfa_plfa-part2-Substitution-14582" href="../Untyped/#plfa_plfa-part2-Untyped-6207" class="Function">rename</a> <a id="plfa_plfa-part2-Substitution-14589" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-14590" href="../Untyped/#plfa_plfa-part2-Untyped-3550" class="InductiveConstructor Operator">S_</a><a id="plfa_plfa-part2-Substitution-14592" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-14593" class="Argument">B</a> <a id="plfa_plfa-part2-Substitution-14595" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-14597" href="../Substitution/#plfa_plfa-part2-Substitution-14552" class="Bound">B</a><a id="plfa_plfa-part2-Substitution-14598" class="Symbol">})</a> <a id="plfa_plfa-part2-Substitution-14601" href="../Substitution/#plfa_plfa-part2-Substitution-14556" class="Bound">M</a> <a id="plfa_plfa-part2-Substitution-14603" href="https://agda.github.io/agda-stdlib/v1.3/Agda.Builtin.Equality.html#151" class="Datatype Operator">≡</a> <a id="plfa_plfa-part2-Substitution-14605" href="../Substitution/#plfa_plfa-part2-Substitution-2490" class="Function Operator">⟪</a> <a id="plfa_plfa-part2-Substitution-14607" href="../Substitution/#plfa_plfa-part2-Substitution-3139" class="Function">↑</a> <a id="plfa_plfa-part2-Substitution-14609" href="../Substitution/#plfa_plfa-part2-Substitution-2490" class="Function Operator">⟫</a> <a id="plfa_plfa-part2-Substitution-14611" href="../Substitution/#plfa_plfa-part2-Substitution-14556" class="Bound">M</a>
<a id="plfa_plfa-part2-Substitution-14613" href="../Substitution/#plfa_plfa-part2-Substitution-14527" class="Function">rename-shift</a><a id="plfa_plfa-part2-Substitution-14625" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-14626" href="../Substitution/#plfa_plfa-part2-Substitution-14626" class="Bound">Γ</a><a id="plfa_plfa-part2-Substitution-14627" class="Symbol">}{</a><a id="plfa_plfa-part2-Substitution-14629" href="../Substitution/#plfa_plfa-part2-Substitution-14629" class="Bound">A</a><a id="plfa_plfa-part2-Substitution-14630" class="Symbol">}{</a><a id="plfa_plfa-part2-Substitution-14632" href="../Substitution/#plfa_plfa-part2-Substitution-14632" class="Bound">B</a><a id="plfa_plfa-part2-Substitution-14633" class="Symbol">}{</a><a id="plfa_plfa-part2-Substitution-14635" href="../Substitution/#plfa_plfa-part2-Substitution-14635" class="Bound">M</a><a id="plfa_plfa-part2-Substitution-14636" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-14638" class="Symbol">=</a>
  <a id="plfa_plfa-part2-Substitution-14642" href="https://agda.github.io/agda-stdlib/v1.3/Relation.Binary.PropositionalEquality.Core.html#2517" class="Function Operator">begin</a>
    <a id="plfa_plfa-part2-Substitution-14652" href="../Untyped/#plfa_plfa-part2-Untyped-6207" class="Function">rename</a> <a id="plfa_plfa-part2-Substitution-14659" href="../Untyped/#plfa_plfa-part2-Untyped-3550" class="InductiveConstructor Operator">S_</a> <a id="plfa_plfa-part2-Substitution-14662" href="../Substitution/#plfa_plfa-part2-Substitution-14635" class="Bound">M</a>
  <a id="plfa_plfa-part2-Substitution-14666" href="https://agda.github.io/agda-stdlib/v1.3/Relation.Binary.PropositionalEquality.Core.html#2634" class="Function">≡⟨</a> <a id="plfa_plfa-part2-Substitution-14669" href="../Substitution/#plfa_plfa-part2-Substitution-13652" class="Function">rename-subst-ren</a> <a id="plfa_plfa-part2-Substitution-14686" href="https://agda.github.io/agda-stdlib/v1.3/Relation.Binary.PropositionalEquality.Core.html#2634" class="Function">⟩</a>
    <a id="plfa_plfa-part2-Substitution-14692" href="../Substitution/#plfa_plfa-part2-Substitution-2490" class="Function Operator">⟪</a> <a id="plfa_plfa-part2-Substitution-14694" href="../Substitution/#plfa_plfa-part2-Substitution-6482" class="Function">ren</a> <a id="plfa_plfa-part2-Substitution-14698" href="../Untyped/#plfa_plfa-part2-Untyped-3550" class="InductiveConstructor Operator">S_</a> <a id="plfa_plfa-part2-Substitution-14701" href="../Substitution/#plfa_plfa-part2-Substitution-2490" class="Function Operator">⟫</a> <a id="plfa_plfa-part2-Substitution-14703" href="../Substitution/#plfa_plfa-part2-Substitution-14635" class="Bound">M</a>
  <a id="plfa_plfa-part2-Substitution-14707" href="https://agda.github.io/agda-stdlib/v1.3/Relation.Binary.PropositionalEquality.Core.html#2634" class="Function">≡⟨</a> <a id="plfa_plfa-part2-Substitution-14710" href="../Substitution/#plfa_plfa-part2-Substitution-11150" class="Function">cong-sub</a><a id="plfa_plfa-part2-Substitution-14718" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-14719" class="Argument">M</a> <a id="plfa_plfa-part2-Substitution-14721" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-14723" href="../Substitution/#plfa_plfa-part2-Substitution-14635" class="Bound">M</a><a id="plfa_plfa-part2-Substitution-14724" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-14726" href="../Substitution/#plfa_plfa-part2-Substitution-14215" class="Function">ren-shift</a> <a id="plfa_plfa-part2-Substitution-14736" href="https://agda.github.io/agda-stdlib/v1.3/Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a> <a id="plfa_plfa-part2-Substitution-14741" href="https://agda.github.io/agda-stdlib/v1.3/Relation.Binary.PropositionalEquality.Core.html#2634" class="Function">⟩</a>
    <a id="plfa_plfa-part2-Substitution-14747" href="../Substitution/#plfa_plfa-part2-Substitution-2490" class="Function Operator">⟪</a> <a id="plfa_plfa-part2-Substitution-14749" href="../Substitution/#plfa_plfa-part2-Substitution-3139" class="Function">↑</a> <a id="plfa_plfa-part2-Substitution-14751" href="../Substitution/#plfa_plfa-part2-Substitution-2490" class="Function Operator">⟫</a> <a id="plfa_plfa-part2-Substitution-14753" href="../Substitution/#plfa_plfa-part2-Substitution-14635" class="Bound">M</a>
  <a id="plfa_plfa-part2-Substitution-14757" href="https://agda.github.io/agda-stdlib/v1.3/Relation.Binary.PropositionalEquality.Core.html#2816" class="Function Operator">∎</a>
</pre><p>Next we prove the equation <code>exts-cons-shift</code>, which states that <code>exts</code> is equivalent to cons’ing Z onto the sequence formed by applying <code>σ</code> and then shifting. The proof is by case analysis on the variable <code>x</code>, using <code>rename-subst-ren</code> for when <code>x = S y</code>.</p><pre class="Agda"><a id="plfa_plfa-part2-Substitution-exts-cons-shift"></a><a id="plfa_plfa-part2-Substitution-15028" href="../Substitution/#plfa_plfa-part2-Substitution-15028" class="Function">exts-cons-shift</a> <a id="plfa_plfa-part2-Substitution-15044" class="Symbol">:</a> <a id="plfa_plfa-part2-Substitution-15046" class="Symbol">∀{</a><a id="plfa_plfa-part2-Substitution-15048" href="../Substitution/#plfa_plfa-part2-Substitution-15048" class="Bound">Γ</a> <a id="plfa_plfa-part2-Substitution-15050" href="../Substitution/#plfa_plfa-part2-Substitution-15050" class="Bound">Δ</a><a id="plfa_plfa-part2-Substitution-15051" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-15053" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-15054" href="../Substitution/#plfa_plfa-part2-Substitution-15054" class="Bound">A</a> <a id="plfa_plfa-part2-Substitution-15056" href="../Substitution/#plfa_plfa-part2-Substitution-15056" class="Bound">B</a><a id="plfa_plfa-part2-Substitution-15057" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-15059" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-15060" href="../Substitution/#plfa_plfa-part2-Substitution-15060" class="Bound">σ</a> <a id="plfa_plfa-part2-Substitution-15062" class="Symbol">:</a> <a id="plfa_plfa-part2-Substitution-15064" href="../Substitution/#plfa_plfa-part2-Substitution-2341" class="Function">Subst</a> <a id="plfa_plfa-part2-Substitution-15070" href="../Substitution/#plfa_plfa-part2-Substitution-15048" class="Bound">Γ</a> <a id="plfa_plfa-part2-Substitution-15072" href="../Substitution/#plfa_plfa-part2-Substitution-15050" class="Bound">Δ</a><a id="plfa_plfa-part2-Substitution-15073" class="Symbol">}</a>
                <a id="plfa_plfa-part2-Substitution-15091" class="Symbol">→</a> <a id="plfa_plfa-part2-Substitution-15093" href="../Untyped/#plfa_plfa-part2-Untyped-6647" class="Function">exts</a> <a id="plfa_plfa-part2-Substitution-15098" href="../Substitution/#plfa_plfa-part2-Substitution-15060" class="Bound">σ</a> <a id="plfa_plfa-part2-Substitution-15100" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-15101" href="../Substitution/#plfa_plfa-part2-Substitution-15054" class="Bound">A</a><a id="plfa_plfa-part2-Substitution-15102" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-15104" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-15105" href="../Substitution/#plfa_plfa-part2-Substitution-15056" class="Bound">B</a><a id="plfa_plfa-part2-Substitution-15106" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-15108" href="https://agda.github.io/agda-stdlib/v1.3/Agda.Builtin.Equality.html#151" class="Datatype Operator">≡</a> <a id="plfa_plfa-part2-Substitution-15110" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-15111" class="InductiveConstructor Operator">`</a> <a id="plfa_plfa-part2-Substitution-15113" href="../Untyped/#plfa_plfa-part2-Untyped-3505" class="InductiveConstructor">Z</a> <a id="plfa_plfa-part2-Substitution-15115" href="../Substitution/#plfa_plfa-part2-Substitution-3385" class="Function Operator">•</a> <a id="plfa_plfa-part2-Substitution-15117" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-15118" href="../Substitution/#plfa_plfa-part2-Substitution-15060" class="Bound">σ</a> <a id="plfa_plfa-part2-Substitution-15120" href="../Substitution/#plfa_plfa-part2-Substitution-3740" class="Function Operator">⨟</a> <a id="plfa_plfa-part2-Substitution-15122" href="../Substitution/#plfa_plfa-part2-Substitution-3139" class="Function">↑</a><a id="plfa_plfa-part2-Substitution-15123" class="Symbol">))</a>
<a id="plfa_plfa-part2-Substitution-15126" href="../Substitution/#plfa_plfa-part2-Substitution-15028" class="Function">exts-cons-shift</a> <a id="plfa_plfa-part2-Substitution-15142" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-15144" href="../Substitution/#plfa_plfa-part2-Substitution-1855" class="Postulate">extensionality</a> <a id="plfa_plfa-part2-Substitution-15159" class="Symbol">λ</a> <a id="plfa_plfa-part2-Substitution-15161" href="../Substitution/#plfa_plfa-part2-Substitution-15161" class="Bound">x</a> <a id="plfa_plfa-part2-Substitution-15163" class="Symbol">→</a> <a id="plfa_plfa-part2-Substitution-15165" href="../Substitution/#plfa_plfa-part2-Substitution-15188" class="Function">lemma</a><a id="plfa_plfa-part2-Substitution-15170" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-15171" class="Argument">x</a> <a id="plfa_plfa-part2-Substitution-15173" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-15175" href="../Substitution/#plfa_plfa-part2-Substitution-15161" class="Bound">x</a><a id="plfa_plfa-part2-Substitution-15176" class="Symbol">}</a>
  <a id="plfa_plfa-part2-Substitution-15180" class="Keyword">where</a>
  <a id="plfa_plfa-part2-Substitution-15188" href="../Substitution/#plfa_plfa-part2-Substitution-15188" class="Function">lemma</a> <a id="plfa_plfa-part2-Substitution-15194" class="Symbol">:</a> <a id="plfa_plfa-part2-Substitution-15196" class="Symbol">∀{</a><a id="plfa_plfa-part2-Substitution-15198" href="../Substitution/#plfa_plfa-part2-Substitution-15198" class="Bound">Γ</a> <a id="plfa_plfa-part2-Substitution-15200" href="../Substitution/#plfa_plfa-part2-Substitution-15200" class="Bound">Δ</a><a id="plfa_plfa-part2-Substitution-15201" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-15203" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-15204" href="../Substitution/#plfa_plfa-part2-Substitution-15204" class="Bound">A</a> <a id="plfa_plfa-part2-Substitution-15206" href="../Substitution/#plfa_plfa-part2-Substitution-15206" class="Bound">B</a><a id="plfa_plfa-part2-Substitution-15207" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-15209" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-15210" href="../Substitution/#plfa_plfa-part2-Substitution-15210" class="Bound">σ</a> <a id="plfa_plfa-part2-Substitution-15212" class="Symbol">:</a> <a id="plfa_plfa-part2-Substitution-15214" href="../Substitution/#plfa_plfa-part2-Substitution-2341" class="Function">Subst</a> <a id="plfa_plfa-part2-Substitution-15220" href="../Substitution/#plfa_plfa-part2-Substitution-15198" class="Bound">Γ</a> <a id="plfa_plfa-part2-Substitution-15222" href="../Substitution/#plfa_plfa-part2-Substitution-15200" class="Bound">Δ</a><a id="plfa_plfa-part2-Substitution-15223" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-15225" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-15226" href="../Substitution/#plfa_plfa-part2-Substitution-15226" class="Bound">x</a> <a id="plfa_plfa-part2-Substitution-15228" class="Symbol">:</a> <a id="plfa_plfa-part2-Substitution-15230" href="../Substitution/#plfa_plfa-part2-Substitution-15198" class="Bound">Γ</a> <a id="plfa_plfa-part2-Substitution-15232" href="../Untyped/#plfa_plfa-part2-Untyped-3131" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part2-Substitution-15234" href="../Substitution/#plfa_plfa-part2-Substitution-15206" class="Bound">B</a> <a id="plfa_plfa-part2-Substitution-15236" href="../Untyped/#plfa_plfa-part2-Untyped-3469" class="Datatype Operator">∋</a> <a id="plfa_plfa-part2-Substitution-15238" href="../Substitution/#plfa_plfa-part2-Substitution-15204" class="Bound">A</a><a id="plfa_plfa-part2-Substitution-15239" class="Symbol">}</a>
                  <a id="plfa_plfa-part2-Substitution-15259" class="Symbol">→</a> <a id="plfa_plfa-part2-Substitution-15261" href="../Untyped/#plfa_plfa-part2-Untyped-6647" class="Function">exts</a> <a id="plfa_plfa-part2-Substitution-15266" href="../Substitution/#plfa_plfa-part2-Substitution-15210" class="Bound">σ</a> <a id="plfa_plfa-part2-Substitution-15268" href="../Substitution/#plfa_plfa-part2-Substitution-15226" class="Bound">x</a> <a id="plfa_plfa-part2-Substitution-15270" href="https://agda.github.io/agda-stdlib/v1.3/Agda.Builtin.Equality.html#151" class="Datatype Operator">≡</a> <a id="plfa_plfa-part2-Substitution-15272" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-15273" href="../Untyped/#plfa_plfa-part2-Untyped-4282" class="InductiveConstructor Operator">`</a> <a id="plfa_plfa-part2-Substitution-15275" href="../Untyped/#plfa_plfa-part2-Untyped-3505" class="InductiveConstructor">Z</a> <a id="plfa_plfa-part2-Substitution-15277" href="../Substitution/#plfa_plfa-part2-Substitution-3385" class="Function Operator">•</a> <a id="plfa_plfa-part2-Substitution-15279" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-15280" href="../Substitution/#plfa_plfa-part2-Substitution-15210" class="Bound">σ</a> <a id="plfa_plfa-part2-Substitution-15282" href="../Substitution/#plfa_plfa-part2-Substitution-3740" class="Function Operator">⨟</a> <a id="plfa_plfa-part2-Substitution-15284" href="../Substitution/#plfa_plfa-part2-Substitution-3139" class="Function">↑</a><a id="plfa_plfa-part2-Substitution-15285" class="Symbol">))</a> <a id="plfa_plfa-part2-Substitution-15288" href="../Substitution/#plfa_plfa-part2-Substitution-15226" class="Bound">x</a>
  <a id="plfa_plfa-part2-Substitution-15292" href="../Substitution/#plfa_plfa-part2-Substitution-15188" class="Function">lemma</a> <a id="plfa_plfa-part2-Substitution-15298" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-15299" class="Argument">x</a> <a id="plfa_plfa-part2-Substitution-15301" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-15303" href="../Untyped/#plfa_plfa-part2-Untyped-3505" class="InductiveConstructor">Z</a><a id="plfa_plfa-part2-Substitution-15304" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-15306" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-15308" href="https://agda.github.io/agda-stdlib/v1.3/Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a>
  <a id="plfa_plfa-part2-Substitution-15315" href="../Substitution/#plfa_plfa-part2-Substitution-15188" class="Function">lemma</a> <a id="plfa_plfa-part2-Substitution-15321" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-15322" class="Argument">x</a> <a id="plfa_plfa-part2-Substitution-15324" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-15326" href="../Untyped/#plfa_plfa-part2-Untyped-3550" class="InductiveConstructor Operator">S</a> <a id="plfa_plfa-part2-Substitution-15328" href="../Substitution/#plfa_plfa-part2-Substitution-15328" class="Bound">y</a><a id="plfa_plfa-part2-Substitution-15329" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-15331" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-15333" href="../Substitution/#plfa_plfa-part2-Substitution-13652" class="Function">rename-subst-ren</a>
</pre><p>As a corollary, we have a similar correspondence for <code>ren (ext ρ)</code>.</p><pre class="Agda"><a id="plfa_plfa-part2-Substitution-ext-cons-Z-shift"></a><a id="plfa_plfa-part2-Substitution-15432" href="../Substitution/#plfa_plfa-part2-Substitution-15432" class="Function">ext-cons-Z-shift</a> <a id="plfa_plfa-part2-Substitution-15449" class="Symbol">:</a> <a id="plfa_plfa-part2-Substitution-15451" class="Symbol">∀{</a><a id="plfa_plfa-part2-Substitution-15453" href="../Substitution/#plfa_plfa-part2-Substitution-15453" class="Bound">Γ</a> <a id="plfa_plfa-part2-Substitution-15455" href="../Substitution/#plfa_plfa-part2-Substitution-15455" class="Bound">Δ</a><a id="plfa_plfa-part2-Substitution-15456" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-15458" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-15459" href="../Substitution/#plfa_plfa-part2-Substitution-15459" class="Bound">ρ</a> <a id="plfa_plfa-part2-Substitution-15461" class="Symbol">:</a> <a id="plfa_plfa-part2-Substitution-15463" href="../Substitution/#plfa_plfa-part2-Substitution-2124" class="Function">Rename</a> <a id="plfa_plfa-part2-Substitution-15470" href="../Substitution/#plfa_plfa-part2-Substitution-15453" class="Bound">Γ</a> <a id="plfa_plfa-part2-Substitution-15472" href="../Substitution/#plfa_plfa-part2-Substitution-15455" class="Bound">Δ</a><a id="plfa_plfa-part2-Substitution-15473" class="Symbol">}{</a><a id="plfa_plfa-part2-Substitution-15475" href="../Substitution/#plfa_plfa-part2-Substitution-15475" class="Bound">A</a><a id="plfa_plfa-part2-Substitution-15476" class="Symbol">}{</a><a id="plfa_plfa-part2-Substitution-15478" href="../Substitution/#plfa_plfa-part2-Substitution-15478" class="Bound">B</a><a id="plfa_plfa-part2-Substitution-15479" class="Symbol">}</a>
                 <a id="plfa_plfa-part2-Substitution-15498" class="Symbol">→</a> <a id="plfa_plfa-part2-Substitution-15500" href="../Substitution/#plfa_plfa-part2-Substitution-6482" class="Function">ren</a> <a id="plfa_plfa-part2-Substitution-15504" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-15505" href="../Untyped/#plfa_plfa-part2-Untyped-5893" class="Function">ext</a> <a id="plfa_plfa-part2-Substitution-15509" href="../Substitution/#plfa_plfa-part2-Substitution-15459" class="Bound">ρ</a> <a id="plfa_plfa-part2-Substitution-15511" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-15512" class="Argument">B</a> <a id="plfa_plfa-part2-Substitution-15514" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-15516" href="../Substitution/#plfa_plfa-part2-Substitution-15478" class="Bound">B</a><a id="plfa_plfa-part2-Substitution-15517" class="Symbol">})</a> <a id="plfa_plfa-part2-Substitution-15520" href="https://agda.github.io/agda-stdlib/v1.3/Agda.Builtin.Equality.html#151" class="Datatype Operator">≡</a> <a id="plfa_plfa-part2-Substitution-15522" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-15523" class="InductiveConstructor Operator">`</a> <a id="plfa_plfa-part2-Substitution-15525" href="../Untyped/#plfa_plfa-part2-Untyped-3505" class="InductiveConstructor">Z</a> <a id="plfa_plfa-part2-Substitution-15527" href="../Substitution/#plfa_plfa-part2-Substitution-3385" class="Function Operator">•</a> <a id="plfa_plfa-part2-Substitution-15529" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-15530" href="../Substitution/#plfa_plfa-part2-Substitution-6482" class="Function">ren</a> <a id="plfa_plfa-part2-Substitution-15534" href="../Substitution/#plfa_plfa-part2-Substitution-15459" class="Bound">ρ</a> <a id="plfa_plfa-part2-Substitution-15536" href="../Substitution/#plfa_plfa-part2-Substitution-3740" class="Function Operator">⨟</a> <a id="plfa_plfa-part2-Substitution-15538" href="../Substitution/#plfa_plfa-part2-Substitution-3139" class="Function">↑</a><a id="plfa_plfa-part2-Substitution-15539" class="Symbol">))</a> <a id="plfa_plfa-part2-Substitution-15542" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-15543" href="../Substitution/#plfa_plfa-part2-Substitution-15475" class="Bound">A</a><a id="plfa_plfa-part2-Substitution-15544" class="Symbol">}</a>
<a id="plfa_plfa-part2-Substitution-15546" href="../Substitution/#plfa_plfa-part2-Substitution-15432" class="Function">ext-cons-Z-shift</a> <a id="plfa_plfa-part2-Substitution-15563" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-15564" href="../Substitution/#plfa_plfa-part2-Substitution-15564" class="Bound">Γ</a><a id="plfa_plfa-part2-Substitution-15565" class="Symbol">}{</a><a id="plfa_plfa-part2-Substitution-15567" href="../Substitution/#plfa_plfa-part2-Substitution-15567" class="Bound">Δ</a><a id="plfa_plfa-part2-Substitution-15568" class="Symbol">}{</a><a id="plfa_plfa-part2-Substitution-15570" href="../Substitution/#plfa_plfa-part2-Substitution-15570" class="Bound">ρ</a><a id="plfa_plfa-part2-Substitution-15571" class="Symbol">}{</a><a id="plfa_plfa-part2-Substitution-15573" href="../Substitution/#plfa_plfa-part2-Substitution-15573" class="Bound">A</a><a id="plfa_plfa-part2-Substitution-15574" class="Symbol">}{</a><a id="plfa_plfa-part2-Substitution-15576" href="../Substitution/#plfa_plfa-part2-Substitution-15576" class="Bound">B</a><a id="plfa_plfa-part2-Substitution-15577" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-15579" class="Symbol">=</a>
  <a id="plfa_plfa-part2-Substitution-15583" href="https://agda.github.io/agda-stdlib/v1.3/Relation.Binary.PropositionalEquality.Core.html#2517" class="Function Operator">begin</a>
    <a id="plfa_plfa-part2-Substitution-15593" href="../Substitution/#plfa_plfa-part2-Substitution-6482" class="Function">ren</a> <a id="plfa_plfa-part2-Substitution-15597" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-15598" href="../Untyped/#plfa_plfa-part2-Untyped-5893" class="Function">ext</a> <a id="plfa_plfa-part2-Substitution-15602" href="../Substitution/#plfa_plfa-part2-Substitution-15570" class="Bound">ρ</a><a id="plfa_plfa-part2-Substitution-15603" class="Symbol">)</a>
  <a id="plfa_plfa-part2-Substitution-15607" href="https://agda.github.io/agda-stdlib/v1.3/Relation.Binary.PropositionalEquality.Core.html#2634" class="Function">≡⟨</a> <a id="plfa_plfa-part2-Substitution-15610" href="../Substitution/#plfa_plfa-part2-Substitution-13279" class="Function">ren-ext</a> <a id="plfa_plfa-part2-Substitution-15618" href="https://agda.github.io/agda-stdlib/v1.3/Relation.Binary.PropositionalEquality.Core.html#2634" class="Function">⟩</a>
    <a id="plfa_plfa-part2-Substitution-15624" href="../Untyped/#plfa_plfa-part2-Untyped-6647" class="Function">exts</a> <a id="plfa_plfa-part2-Substitution-15629" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-15630" href="../Substitution/#plfa_plfa-part2-Substitution-6482" class="Function">ren</a> <a id="plfa_plfa-part2-Substitution-15634" href="../Substitution/#plfa_plfa-part2-Substitution-15570" class="Bound">ρ</a><a id="plfa_plfa-part2-Substitution-15635" class="Symbol">)</a>
  <a id="plfa_plfa-part2-Substitution-15639" href="https://agda.github.io/agda-stdlib/v1.3/Relation.Binary.PropositionalEquality.Core.html#2634" class="Function">≡⟨</a> <a id="plfa_plfa-part2-Substitution-15642" href="../Substitution/#plfa_plfa-part2-Substitution-15028" class="Function">exts-cons-shift</a><a id="plfa_plfa-part2-Substitution-15657" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-15658" class="Argument">σ</a> <a id="plfa_plfa-part2-Substitution-15660" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-15662" href="../Substitution/#plfa_plfa-part2-Substitution-6482" class="Function">ren</a> <a id="plfa_plfa-part2-Substitution-15666" href="../Substitution/#plfa_plfa-part2-Substitution-15570" class="Bound">ρ</a><a id="plfa_plfa-part2-Substitution-15667" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-15669" href="https://agda.github.io/agda-stdlib/v1.3/Relation.Binary.PropositionalEquality.Core.html#2634" class="Function">⟩</a>
   <a id="plfa_plfa-part2-Substitution-15674" class="Symbol">((</a><a id="plfa_plfa-part2-Substitution-15676" href="../Untyped/#plfa_plfa-part2-Untyped-4282" class="InductiveConstructor Operator">`</a> <a id="plfa_plfa-part2-Substitution-15678" href="../Untyped/#plfa_plfa-part2-Untyped-3505" class="InductiveConstructor">Z</a><a id="plfa_plfa-part2-Substitution-15679" class="Symbol">)</a> <a id="plfa_plfa-part2-Substitution-15681" href="../Substitution/#plfa_plfa-part2-Substitution-3385" class="Function Operator">•</a> <a id="plfa_plfa-part2-Substitution-15683" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-15684" href="../Substitution/#plfa_plfa-part2-Substitution-6482" class="Function">ren</a> <a id="plfa_plfa-part2-Substitution-15688" href="../Substitution/#plfa_plfa-part2-Substitution-15570" class="Bound">ρ</a> <a id="plfa_plfa-part2-Substitution-15690" href="../Substitution/#plfa_plfa-part2-Substitution-3740" class="Function Operator">⨟</a> <a id="plfa_plfa-part2-Substitution-15692" href="../Substitution/#plfa_plfa-part2-Substitution-3139" class="Function">↑</a><a id="plfa_plfa-part2-Substitution-15693" class="Symbol">))</a>
  <a id="plfa_plfa-part2-Substitution-15698" href="https://agda.github.io/agda-stdlib/v1.3/Relation.Binary.PropositionalEquality.Core.html#2816" class="Function Operator">∎</a>
</pre><p>Finally, the <code>subst-zero M</code> substitution is equivalent to cons’ing <code>M</code> onto the identity substitution.</p><pre class="Agda"><a id="plfa_plfa-part2-Substitution-subst-Z-cons-ids"></a><a id="plfa_plfa-part2-Substitution-15817" href="../Substitution/#plfa_plfa-part2-Substitution-15817" class="Function">subst-Z-cons-ids</a> <a id="plfa_plfa-part2-Substitution-15834" class="Symbol">:</a> <a id="plfa_plfa-part2-Substitution-15836" class="Symbol">∀{</a><a id="plfa_plfa-part2-Substitution-15838" href="../Substitution/#plfa_plfa-part2-Substitution-15838" class="Bound">Γ</a><a id="plfa_plfa-part2-Substitution-15839" class="Symbol">}{</a><a id="plfa_plfa-part2-Substitution-15841" href="../Substitution/#plfa_plfa-part2-Substitution-15841" class="Bound">A</a> <a id="plfa_plfa-part2-Substitution-15843" href="../Substitution/#plfa_plfa-part2-Substitution-15843" class="Bound">B</a> <a id="plfa_plfa-part2-Substitution-15845" class="Symbol">:</a> <a id="plfa_plfa-part2-Substitution-15847" href="../Untyped/#plfa_plfa-part2-Untyped-2801" class="Datatype">Type</a><a id="plfa_plfa-part2-Substitution-15851" class="Symbol">}{</a><a id="plfa_plfa-part2-Substitution-15853" href="../Substitution/#plfa_plfa-part2-Substitution-15853" class="Bound">M</a> <a id="plfa_plfa-part2-Substitution-15855" class="Symbol">:</a> <a id="plfa_plfa-part2-Substitution-15857" href="../Substitution/#plfa_plfa-part2-Substitution-15838" class="Bound">Γ</a> <a id="plfa_plfa-part2-Substitution-15859" href="../Untyped/#plfa_plfa-part2-Untyped-4246" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Substitution-15861" href="../Substitution/#plfa_plfa-part2-Substitution-15843" class="Bound">B</a><a id="plfa_plfa-part2-Substitution-15862" class="Symbol">}</a>
                 <a id="plfa_plfa-part2-Substitution-15881" class="Symbol">→</a> <a id="plfa_plfa-part2-Substitution-15883" href="../Untyped/#plfa_plfa-part2-Untyped-7359" class="Function">subst-zero</a> <a id="plfa_plfa-part2-Substitution-15894" href="../Substitution/#plfa_plfa-part2-Substitution-15853" class="Bound">M</a> <a id="plfa_plfa-part2-Substitution-15896" href="https://agda.github.io/agda-stdlib/v1.3/Agda.Builtin.Equality.html#151" class="Datatype Operator">≡</a> <a id="plfa_plfa-part2-Substitution-15898" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-15899" href="../Substitution/#plfa_plfa-part2-Substitution-15853" class="Bound">M</a> <a id="plfa_plfa-part2-Substitution-15901" href="../Substitution/#plfa_plfa-part2-Substitution-3385" class="Function Operator">•</a> <a id="plfa_plfa-part2-Substitution-15903" href="../Substitution/#plfa_plfa-part2-Substitution-2996" class="Function">ids</a><a id="plfa_plfa-part2-Substitution-15906" class="Symbol">)</a> <a id="plfa_plfa-part2-Substitution-15908" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-15909" href="../Substitution/#plfa_plfa-part2-Substitution-15841" class="Bound">A</a><a id="plfa_plfa-part2-Substitution-15910" class="Symbol">}</a>
<a id="plfa_plfa-part2-Substitution-15912" href="../Substitution/#plfa_plfa-part2-Substitution-15817" class="Function">subst-Z-cons-ids</a> <a id="plfa_plfa-part2-Substitution-15929" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-15931" href="../Substitution/#plfa_plfa-part2-Substitution-1855" class="Postulate">extensionality</a> <a id="plfa_plfa-part2-Substitution-15946" class="Symbol">λ</a> <a id="plfa_plfa-part2-Substitution-15948" href="../Substitution/#plfa_plfa-part2-Substitution-15948" class="Bound">x</a> <a id="plfa_plfa-part2-Substitution-15950" class="Symbol">→</a> <a id="plfa_plfa-part2-Substitution-15952" href="../Substitution/#plfa_plfa-part2-Substitution-15976" class="Function">lemma</a> <a id="plfa_plfa-part2-Substitution-15958" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-15959" class="Argument">x</a> <a id="plfa_plfa-part2-Substitution-15961" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-15963" href="../Substitution/#plfa_plfa-part2-Substitution-15948" class="Bound">x</a><a id="plfa_plfa-part2-Substitution-15964" class="Symbol">}</a>
  <a id="plfa_plfa-part2-Substitution-15968" class="Keyword">where</a>
  <a id="plfa_plfa-part2-Substitution-15976" href="../Substitution/#plfa_plfa-part2-Substitution-15976" class="Function">lemma</a> <a id="plfa_plfa-part2-Substitution-15982" class="Symbol">:</a> <a id="plfa_plfa-part2-Substitution-15984" class="Symbol">∀{</a><a id="plfa_plfa-part2-Substitution-15986" href="../Substitution/#plfa_plfa-part2-Substitution-15986" class="Bound">Γ</a><a id="plfa_plfa-part2-Substitution-15987" class="Symbol">}{</a><a id="plfa_plfa-part2-Substitution-15989" href="../Substitution/#plfa_plfa-part2-Substitution-15989" class="Bound">A</a> <a id="plfa_plfa-part2-Substitution-15991" href="../Substitution/#plfa_plfa-part2-Substitution-15991" class="Bound">B</a> <a id="plfa_plfa-part2-Substitution-15993" class="Symbol">:</a> <a id="plfa_plfa-part2-Substitution-15995" href="../Untyped/#plfa_plfa-part2-Untyped-2801" class="Datatype">Type</a><a id="plfa_plfa-part2-Substitution-15999" class="Symbol">}{</a><a id="plfa_plfa-part2-Substitution-16001" href="../Substitution/#plfa_plfa-part2-Substitution-16001" class="Bound">M</a> <a id="plfa_plfa-part2-Substitution-16003" class="Symbol">:</a> <a id="plfa_plfa-part2-Substitution-16005" href="../Substitution/#plfa_plfa-part2-Substitution-15986" class="Bound">Γ</a> <a id="plfa_plfa-part2-Substitution-16007" href="../Untyped/#plfa_plfa-part2-Untyped-4246" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Substitution-16009" href="../Substitution/#plfa_plfa-part2-Substitution-15991" class="Bound">B</a><a id="plfa_plfa-part2-Substitution-16010" class="Symbol">}{</a><a id="plfa_plfa-part2-Substitution-16012" href="../Substitution/#plfa_plfa-part2-Substitution-16012" class="Bound">x</a> <a id="plfa_plfa-part2-Substitution-16014" class="Symbol">:</a> <a id="plfa_plfa-part2-Substitution-16016" href="../Substitution/#plfa_plfa-part2-Substitution-15986" class="Bound">Γ</a> <a id="plfa_plfa-part2-Substitution-16018" href="../Untyped/#plfa_plfa-part2-Untyped-3131" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part2-Substitution-16020" href="../Substitution/#plfa_plfa-part2-Substitution-15991" class="Bound">B</a> <a id="plfa_plfa-part2-Substitution-16022" href="../Untyped/#plfa_plfa-part2-Untyped-3469" class="Datatype Operator">∋</a> <a id="plfa_plfa-part2-Substitution-16024" href="../Substitution/#plfa_plfa-part2-Substitution-15989" class="Bound">A</a><a id="plfa_plfa-part2-Substitution-16025" class="Symbol">}</a>
                      <a id="plfa_plfa-part2-Substitution-16049" class="Symbol">→</a> <a id="plfa_plfa-part2-Substitution-16051" href="../Untyped/#plfa_plfa-part2-Untyped-7359" class="Function">subst-zero</a> <a id="plfa_plfa-part2-Substitution-16062" href="../Substitution/#plfa_plfa-part2-Substitution-16001" class="Bound">M</a> <a id="plfa_plfa-part2-Substitution-16064" href="../Substitution/#plfa_plfa-part2-Substitution-16012" class="Bound">x</a> <a id="plfa_plfa-part2-Substitution-16066" href="https://agda.github.io/agda-stdlib/v1.3/Agda.Builtin.Equality.html#151" class="Datatype Operator">≡</a> <a id="plfa_plfa-part2-Substitution-16068" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-16069" href="../Substitution/#plfa_plfa-part2-Substitution-16001" class="Bound">M</a> <a id="plfa_plfa-part2-Substitution-16071" href="../Substitution/#plfa_plfa-part2-Substitution-3385" class="Function Operator">•</a> <a id="plfa_plfa-part2-Substitution-16073" href="../Substitution/#plfa_plfa-part2-Substitution-2996" class="Function">ids</a><a id="plfa_plfa-part2-Substitution-16076" class="Symbol">)</a> <a id="plfa_plfa-part2-Substitution-16078" href="../Substitution/#plfa_plfa-part2-Substitution-16012" class="Bound">x</a>
  <a id="plfa_plfa-part2-Substitution-16082" href="../Substitution/#plfa_plfa-part2-Substitution-15976" class="Function">lemma</a> <a id="plfa_plfa-part2-Substitution-16088" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-16089" class="Argument">x</a> <a id="plfa_plfa-part2-Substitution-16091" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-16093" href="../Untyped/#plfa_plfa-part2-Untyped-3505" class="InductiveConstructor">Z</a><a id="plfa_plfa-part2-Substitution-16094" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-16096" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-16098" href="https://agda.github.io/agda-stdlib/v1.3/Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a>
  <a id="plfa_plfa-part2-Substitution-16105" href="../Substitution/#plfa_plfa-part2-Substitution-15976" class="Function">lemma</a> <a id="plfa_plfa-part2-Substitution-16111" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-16112" class="Argument">x</a> <a id="plfa_plfa-part2-Substitution-16114" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-16116" href="../Untyped/#plfa_plfa-part2-Untyped-3550" class="InductiveConstructor Operator">S</a> <a id="plfa_plfa-part2-Substitution-16118" href="../Substitution/#plfa_plfa-part2-Substitution-16118" class="Bound">x</a><a id="plfa_plfa-part2-Substitution-16119" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-16121" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-16123" href="https://agda.github.io/agda-stdlib/v1.3/Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a>
</pre><h2 id="proofs-of-sub-abs-sub-id-and-rename-id">Proofs of sub-abs, sub-id, and rename-id</h2><p>The equation <code>sub-abs</code> follows immediately from the equation <code>exts-cons-shift</code>.</p><pre class="Agda"><a id="plfa_plfa-part2-Substitution-sub-abs"></a><a id="plfa_plfa-part2-Substitution-16268" href="../Substitution/#plfa_plfa-part2-Substitution-16268" class="Function">sub-abs</a> <a id="plfa_plfa-part2-Substitution-16276" class="Symbol">:</a> <a id="plfa_plfa-part2-Substitution-16278" class="Symbol">∀{</a><a id="plfa_plfa-part2-Substitution-16280" href="../Substitution/#plfa_plfa-part2-Substitution-16280" class="Bound">Γ</a> <a id="plfa_plfa-part2-Substitution-16282" href="../Substitution/#plfa_plfa-part2-Substitution-16282" class="Bound">Δ</a><a id="plfa_plfa-part2-Substitution-16283" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-16285" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-16286" href="../Substitution/#plfa_plfa-part2-Substitution-16286" class="Bound">σ</a> <a id="plfa_plfa-part2-Substitution-16288" class="Symbol">:</a> <a id="plfa_plfa-part2-Substitution-16290" href="../Substitution/#plfa_plfa-part2-Substitution-2341" class="Function">Subst</a> <a id="plfa_plfa-part2-Substitution-16296" href="../Substitution/#plfa_plfa-part2-Substitution-16280" class="Bound">Γ</a> <a id="plfa_plfa-part2-Substitution-16298" href="../Substitution/#plfa_plfa-part2-Substitution-16282" class="Bound">Δ</a><a id="plfa_plfa-part2-Substitution-16299" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-16301" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-16302" href="../Substitution/#plfa_plfa-part2-Substitution-16302" class="Bound">N</a> <a id="plfa_plfa-part2-Substitution-16304" class="Symbol">:</a> <a id="plfa_plfa-part2-Substitution-16306" href="../Substitution/#plfa_plfa-part2-Substitution-16280" class="Bound">Γ</a> <a id="plfa_plfa-part2-Substitution-16308" href="../Untyped/#plfa_plfa-part2-Untyped-3131" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part2-Substitution-16310" href="../Untyped/#plfa_plfa-part2-Untyped-2820" class="InductiveConstructor">★</a> <a id="plfa_plfa-part2-Substitution-16312" href="../Untyped/#plfa_plfa-part2-Untyped-4246" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Substitution-16314" href="../Untyped/#plfa_plfa-part2-Untyped-2820" class="InductiveConstructor">★</a><a id="plfa_plfa-part2-Substitution-16315" class="Symbol">}</a>
        <a id="plfa_plfa-part2-Substitution-16325" class="Symbol">→</a> <a id="plfa_plfa-part2-Substitution-16327" href="../Substitution/#plfa_plfa-part2-Substitution-2490" class="Function Operator">⟪</a> <a id="plfa_plfa-part2-Substitution-16329" href="../Substitution/#plfa_plfa-part2-Substitution-16286" class="Bound">σ</a> <a id="plfa_plfa-part2-Substitution-16331" href="../Substitution/#plfa_plfa-part2-Substitution-2490" class="Function Operator">⟫</a> <a id="plfa_plfa-part2-Substitution-16333" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-16334" class="InductiveConstructor Operator">ƛ</a> <a id="plfa_plfa-part2-Substitution-16336" href="../Substitution/#plfa_plfa-part2-Substitution-16302" class="Bound">N</a><a id="plfa_plfa-part2-Substitution-16337" class="Symbol">)</a> <a id="plfa_plfa-part2-Substitution-16339" href="https://agda.github.io/agda-stdlib/v1.3/Agda.Builtin.Equality.html#151" class="Datatype Operator">≡</a> <a id="plfa_plfa-part2-Substitution-16341" class="InductiveConstructor Operator">ƛ</a> <a id="plfa_plfa-part2-Substitution-16343" href="../Substitution/#plfa_plfa-part2-Substitution-2490" class="Function Operator">⟪</a> <a id="plfa_plfa-part2-Substitution-16345" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-16346" class="InductiveConstructor Operator">`</a> <a id="plfa_plfa-part2-Substitution-16348" href="../Untyped/#plfa_plfa-part2-Untyped-3505" class="InductiveConstructor">Z</a><a id="plfa_plfa-part2-Substitution-16349" class="Symbol">)</a> <a id="plfa_plfa-part2-Substitution-16351" href="../Substitution/#plfa_plfa-part2-Substitution-3385" class="Function Operator">•</a> <a id="plfa_plfa-part2-Substitution-16353" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-16354" href="../Substitution/#plfa_plfa-part2-Substitution-16286" class="Bound">σ</a> <a id="plfa_plfa-part2-Substitution-16356" href="../Substitution/#plfa_plfa-part2-Substitution-3740" class="Function Operator">⨟</a> <a id="plfa_plfa-part2-Substitution-16358" href="../Substitution/#plfa_plfa-part2-Substitution-3139" class="Function">↑</a><a id="plfa_plfa-part2-Substitution-16359" class="Symbol">)</a> <a id="plfa_plfa-part2-Substitution-16361" href="../Substitution/#plfa_plfa-part2-Substitution-2490" class="Function Operator">⟫</a> <a id="plfa_plfa-part2-Substitution-16363" href="../Substitution/#plfa_plfa-part2-Substitution-16302" class="Bound">N</a>
<a id="plfa_plfa-part2-Substitution-16365" href="../Substitution/#plfa_plfa-part2-Substitution-16268" class="Function">sub-abs</a> <a id="plfa_plfa-part2-Substitution-16373" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-16374" class="Argument">σ</a> <a id="plfa_plfa-part2-Substitution-16376" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-16378" href="../Substitution/#plfa_plfa-part2-Substitution-16378" class="Bound">σ</a><a id="plfa_plfa-part2-Substitution-16379" class="Symbol">}{</a><a id="plfa_plfa-part2-Substitution-16381" class="Argument">N</a> <a id="plfa_plfa-part2-Substitution-16383" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-16385" href="../Substitution/#plfa_plfa-part2-Substitution-16385" class="Bound">N</a><a id="plfa_plfa-part2-Substitution-16386" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-16388" class="Symbol">=</a>
   <a id="plfa_plfa-part2-Substitution-16393" href="https://agda.github.io/agda-stdlib/v1.3/Relation.Binary.PropositionalEquality.Core.html#2517" class="Function Operator">begin</a>
     <a id="plfa_plfa-part2-Substitution-16404" href="../Substitution/#plfa_plfa-part2-Substitution-2490" class="Function Operator">⟪</a> <a id="plfa_plfa-part2-Substitution-16406" href="../Substitution/#plfa_plfa-part2-Substitution-16378" class="Bound">σ</a> <a id="plfa_plfa-part2-Substitution-16408" href="../Substitution/#plfa_plfa-part2-Substitution-2490" class="Function Operator">⟫</a> <a id="plfa_plfa-part2-Substitution-16410" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-16411" href="../Untyped/#plfa_plfa-part2-Untyped-4334" class="InductiveConstructor Operator">ƛ</a> <a id="plfa_plfa-part2-Substitution-16413" href="../Substitution/#plfa_plfa-part2-Substitution-16385" class="Bound">N</a><a id="plfa_plfa-part2-Substitution-16414" class="Symbol">)</a>
   <a id="plfa_plfa-part2-Substitution-16419" href="https://agda.github.io/agda-stdlib/v1.3/Relation.Binary.PropositionalEquality.Core.html#2575" class="Function Operator">≡⟨⟩</a>
     <a id="plfa_plfa-part2-Substitution-16428" href="../Untyped/#plfa_plfa-part2-Untyped-4334" class="InductiveConstructor Operator">ƛ</a> <a id="plfa_plfa-part2-Substitution-16430" href="../Substitution/#plfa_plfa-part2-Substitution-2490" class="Function Operator">⟪</a> <a id="plfa_plfa-part2-Substitution-16432" href="../Untyped/#plfa_plfa-part2-Untyped-6647" class="Function">exts</a> <a id="plfa_plfa-part2-Substitution-16437" href="../Substitution/#plfa_plfa-part2-Substitution-16378" class="Bound">σ</a> <a id="plfa_plfa-part2-Substitution-16439" href="../Substitution/#plfa_plfa-part2-Substitution-2490" class="Function Operator">⟫</a> <a id="plfa_plfa-part2-Substitution-16441" href="../Substitution/#plfa_plfa-part2-Substitution-16385" class="Bound">N</a>
   <a id="plfa_plfa-part2-Substitution-16446" href="https://agda.github.io/agda-stdlib/v1.3/Relation.Binary.PropositionalEquality.Core.html#2634" class="Function">≡⟨</a> <a id="plfa_plfa-part2-Substitution-16449" href="https://agda.github.io/agda-stdlib/v1.3/Relation.Binary.PropositionalEquality.Core.html#1131" class="Function">cong</a> <a id="plfa_plfa-part2-Substitution-16454" href="../Untyped/#plfa_plfa-part2-Untyped-4334" class="InductiveConstructor Operator">ƛ_</a> <a id="plfa_plfa-part2-Substitution-16457" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-16458" href="../Substitution/#plfa_plfa-part2-Substitution-11150" class="Function">cong-sub</a><a id="plfa_plfa-part2-Substitution-16466" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-16467" class="Argument">M</a> <a id="plfa_plfa-part2-Substitution-16469" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-16471" href="../Substitution/#plfa_plfa-part2-Substitution-16385" class="Bound">N</a><a id="plfa_plfa-part2-Substitution-16472" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-16474" href="../Substitution/#plfa_plfa-part2-Substitution-15028" class="Function">exts-cons-shift</a> <a id="plfa_plfa-part2-Substitution-16490" href="https://agda.github.io/agda-stdlib/v1.3/Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a><a id="plfa_plfa-part2-Substitution-16494" class="Symbol">)</a> <a id="plfa_plfa-part2-Substitution-16496" href="https://agda.github.io/agda-stdlib/v1.3/Relation.Binary.PropositionalEquality.Core.html#2634" class="Function">⟩</a>
     <a id="plfa_plfa-part2-Substitution-16503" href="../Untyped/#plfa_plfa-part2-Untyped-4334" class="InductiveConstructor Operator">ƛ</a> <a id="plfa_plfa-part2-Substitution-16505" href="../Substitution/#plfa_plfa-part2-Substitution-2490" class="Function Operator">⟪</a> <a id="plfa_plfa-part2-Substitution-16507" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-16508" href="../Untyped/#plfa_plfa-part2-Untyped-4282" class="InductiveConstructor Operator">`</a> <a id="plfa_plfa-part2-Substitution-16510" href="../Untyped/#plfa_plfa-part2-Untyped-3505" class="InductiveConstructor">Z</a><a id="plfa_plfa-part2-Substitution-16511" class="Symbol">)</a> <a id="plfa_plfa-part2-Substitution-16513" href="../Substitution/#plfa_plfa-part2-Substitution-3385" class="Function Operator">•</a> <a id="plfa_plfa-part2-Substitution-16515" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-16516" href="../Substitution/#plfa_plfa-part2-Substitution-16378" class="Bound">σ</a> <a id="plfa_plfa-part2-Substitution-16518" href="../Substitution/#plfa_plfa-part2-Substitution-3740" class="Function Operator">⨟</a> <a id="plfa_plfa-part2-Substitution-16520" href="../Substitution/#plfa_plfa-part2-Substitution-3139" class="Function">↑</a><a id="plfa_plfa-part2-Substitution-16521" class="Symbol">)</a> <a id="plfa_plfa-part2-Substitution-16523" href="../Substitution/#plfa_plfa-part2-Substitution-2490" class="Function Operator">⟫</a> <a id="plfa_plfa-part2-Substitution-16525" href="../Substitution/#plfa_plfa-part2-Substitution-16385" class="Bound">N</a>
   <a id="plfa_plfa-part2-Substitution-16530" href="https://agda.github.io/agda-stdlib/v1.3/Relation.Binary.PropositionalEquality.Core.html#2816" class="Function Operator">∎</a>
</pre><p>The proof of <code>sub-id</code> requires the following lemma which says that extending the identity substitution produces the identity substitution.</p><pre class="Agda"><a id="plfa_plfa-part2-Substitution-exts-ids"></a><a id="plfa_plfa-part2-Substitution-16685" href="../Substitution/#plfa_plfa-part2-Substitution-16685" class="Function">exts-ids</a> <a id="plfa_plfa-part2-Substitution-16694" class="Symbol">:</a> <a id="plfa_plfa-part2-Substitution-16696" class="Symbol">∀{</a><a id="plfa_plfa-part2-Substitution-16698" href="../Substitution/#plfa_plfa-part2-Substitution-16698" class="Bound">Γ</a><a id="plfa_plfa-part2-Substitution-16699" class="Symbol">}{</a><a id="plfa_plfa-part2-Substitution-16701" href="../Substitution/#plfa_plfa-part2-Substitution-16701" class="Bound">A</a> <a id="plfa_plfa-part2-Substitution-16703" href="../Substitution/#plfa_plfa-part2-Substitution-16703" class="Bound">B</a><a id="plfa_plfa-part2-Substitution-16704" class="Symbol">}</a>
         <a id="plfa_plfa-part2-Substitution-16715" class="Symbol">→</a> <a id="plfa_plfa-part2-Substitution-16717" href="../Untyped/#plfa_plfa-part2-Untyped-6647" class="Function">exts</a> <a id="plfa_plfa-part2-Substitution-16722" href="../Substitution/#plfa_plfa-part2-Substitution-2996" class="Function">ids</a> <a id="plfa_plfa-part2-Substitution-16726" href="https://agda.github.io/agda-stdlib/v1.3/Agda.Builtin.Equality.html#151" class="Datatype Operator">≡</a> <a id="plfa_plfa-part2-Substitution-16728" href="../Substitution/#plfa_plfa-part2-Substitution-2996" class="Function">ids</a> <a id="plfa_plfa-part2-Substitution-16732" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-16733" href="../Substitution/#plfa_plfa-part2-Substitution-16698" class="Bound">Γ</a> <a id="plfa_plfa-part2-Substitution-16735" href="../Untyped/#plfa_plfa-part2-Untyped-3131" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part2-Substitution-16737" href="../Substitution/#plfa_plfa-part2-Substitution-16703" class="Bound">B</a><a id="plfa_plfa-part2-Substitution-16738" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-16740" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-16741" href="../Substitution/#plfa_plfa-part2-Substitution-16701" class="Bound">A</a><a id="plfa_plfa-part2-Substitution-16742" class="Symbol">}</a>
<a id="plfa_plfa-part2-Substitution-16744" href="../Substitution/#plfa_plfa-part2-Substitution-16685" class="Function">exts-ids</a> <a id="plfa_plfa-part2-Substitution-16753" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-16754" href="../Substitution/#plfa_plfa-part2-Substitution-16754" class="Bound">Γ</a><a id="plfa_plfa-part2-Substitution-16755" class="Symbol">}{</a><a id="plfa_plfa-part2-Substitution-16757" href="../Substitution/#plfa_plfa-part2-Substitution-16757" class="Bound">A</a><a id="plfa_plfa-part2-Substitution-16758" class="Symbol">}{</a><a id="plfa_plfa-part2-Substitution-16760" href="../Substitution/#plfa_plfa-part2-Substitution-16760" class="Bound">B</a><a id="plfa_plfa-part2-Substitution-16761" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-16763" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-16765" href="../Substitution/#plfa_plfa-part2-Substitution-1855" class="Postulate">extensionality</a> <a id="plfa_plfa-part2-Substitution-16780" href="../Substitution/#plfa_plfa-part2-Substitution-16794" class="Function">lemma</a>
  <a id="plfa_plfa-part2-Substitution-16788" class="Keyword">where</a> <a id="plfa_plfa-part2-Substitution-16794" href="../Substitution/#plfa_plfa-part2-Substitution-16794" class="Function">lemma</a> <a id="plfa_plfa-part2-Substitution-16800" class="Symbol">:</a> <a id="plfa_plfa-part2-Substitution-16802" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-16803" href="../Substitution/#plfa_plfa-part2-Substitution-16803" class="Bound">x</a> <a id="plfa_plfa-part2-Substitution-16805" class="Symbol">:</a> <a id="plfa_plfa-part2-Substitution-16807" href="../Substitution/#plfa_plfa-part2-Substitution-16754" class="Bound">Γ</a> <a id="plfa_plfa-part2-Substitution-16809" href="../Untyped/#plfa_plfa-part2-Untyped-3131" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part2-Substitution-16811" href="../Substitution/#plfa_plfa-part2-Substitution-16760" class="Bound">B</a> <a id="plfa_plfa-part2-Substitution-16813" href="../Untyped/#plfa_plfa-part2-Untyped-3469" class="Datatype Operator">∋</a> <a id="plfa_plfa-part2-Substitution-16815" href="../Substitution/#plfa_plfa-part2-Substitution-16757" class="Bound">A</a><a id="plfa_plfa-part2-Substitution-16816" class="Symbol">)</a> <a id="plfa_plfa-part2-Substitution-16818" class="Symbol">→</a> <a id="plfa_plfa-part2-Substitution-16820" href="../Untyped/#plfa_plfa-part2-Untyped-6647" class="Function">exts</a> <a id="plfa_plfa-part2-Substitution-16825" href="../Substitution/#plfa_plfa-part2-Substitution-2996" class="Function">ids</a> <a id="plfa_plfa-part2-Substitution-16829" href="../Substitution/#plfa_plfa-part2-Substitution-16803" class="Bound">x</a> <a id="plfa_plfa-part2-Substitution-16831" href="https://agda.github.io/agda-stdlib/v1.3/Agda.Builtin.Equality.html#151" class="Datatype Operator">≡</a> <a id="plfa_plfa-part2-Substitution-16833" href="../Substitution/#plfa_plfa-part2-Substitution-2996" class="Function">ids</a> <a id="plfa_plfa-part2-Substitution-16837" href="../Substitution/#plfa_plfa-part2-Substitution-16803" class="Bound">x</a>
        <a id="plfa_plfa-part2-Substitution-16847" href="../Substitution/#plfa_plfa-part2-Substitution-16794" class="Function">lemma</a> <a id="plfa_plfa-part2-Substitution-16853" href="../Untyped/#plfa_plfa-part2-Untyped-3505" class="InductiveConstructor">Z</a> <a id="plfa_plfa-part2-Substitution-16855" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-16857" href="https://agda.github.io/agda-stdlib/v1.3/Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a>
        <a id="plfa_plfa-part2-Substitution-16870" href="../Substitution/#plfa_plfa-part2-Substitution-16794" class="Function">lemma</a> <a id="plfa_plfa-part2-Substitution-16876" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-16877" href="../Untyped/#plfa_plfa-part2-Untyped-3550" class="InductiveConstructor Operator">S</a> <a id="plfa_plfa-part2-Substitution-16879" href="../Substitution/#plfa_plfa-part2-Substitution-16879" class="Bound">x</a><a id="plfa_plfa-part2-Substitution-16880" class="Symbol">)</a> <a id="plfa_plfa-part2-Substitution-16882" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-16884" href="https://agda.github.io/agda-stdlib/v1.3/Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a>
</pre><p>The proof of <code>⟪ ids ⟫ M ≡ M</code> now follows easily by induction on <code>M</code>, using <code>exts-ids</code> in the case for <code>M ≡ ƛ N</code>.</p><pre class="Agda"><a id="plfa_plfa-part2-Substitution-sub-id"></a><a id="plfa_plfa-part2-Substitution-17016" href="../Substitution/#plfa_plfa-part2-Substitution-17016" class="Function">sub-id</a> <a id="plfa_plfa-part2-Substitution-17023" class="Symbol">:</a> <a id="plfa_plfa-part2-Substitution-17025" class="Symbol">∀{</a><a id="plfa_plfa-part2-Substitution-17027" href="../Substitution/#plfa_plfa-part2-Substitution-17027" class="Bound">Γ</a><a id="plfa_plfa-part2-Substitution-17028" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-17030" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-17031" href="../Substitution/#plfa_plfa-part2-Substitution-17031" class="Bound">A</a><a id="plfa_plfa-part2-Substitution-17032" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-17034" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-17035" href="../Substitution/#plfa_plfa-part2-Substitution-17035" class="Bound">M</a> <a id="plfa_plfa-part2-Substitution-17037" class="Symbol">:</a> <a id="plfa_plfa-part2-Substitution-17039" href="../Substitution/#plfa_plfa-part2-Substitution-17027" class="Bound">Γ</a> <a id="plfa_plfa-part2-Substitution-17041" href="../Untyped/#plfa_plfa-part2-Untyped-4246" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Substitution-17043" href="../Substitution/#plfa_plfa-part2-Substitution-17031" class="Bound">A</a><a id="plfa_plfa-part2-Substitution-17044" class="Symbol">}</a>
         <a id="plfa_plfa-part2-Substitution-17055" class="Symbol">→</a> <a id="plfa_plfa-part2-Substitution-17057" href="../Substitution/#plfa_plfa-part2-Substitution-2490" class="Function Operator">⟪</a> <a id="plfa_plfa-part2-Substitution-17059" href="../Substitution/#plfa_plfa-part2-Substitution-2996" class="Function">ids</a> <a id="plfa_plfa-part2-Substitution-17063" href="../Substitution/#plfa_plfa-part2-Substitution-2490" class="Function Operator">⟫</a> <a id="plfa_plfa-part2-Substitution-17065" href="../Substitution/#plfa_plfa-part2-Substitution-17035" class="Bound">M</a> <a id="plfa_plfa-part2-Substitution-17067" href="https://agda.github.io/agda-stdlib/v1.3/Agda.Builtin.Equality.html#151" class="Datatype Operator">≡</a> <a id="plfa_plfa-part2-Substitution-17069" href="../Substitution/#plfa_plfa-part2-Substitution-17035" class="Bound">M</a>
<a id="plfa_plfa-part2-Substitution-17071" href="../Substitution/#plfa_plfa-part2-Substitution-17016" class="Function">sub-id</a> <a id="plfa_plfa-part2-Substitution-17078" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-17079" class="Argument">M</a> <a id="plfa_plfa-part2-Substitution-17081" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-17083" href="../Untyped/#plfa_plfa-part2-Untyped-4282" class="InductiveConstructor Operator">`</a> <a id="plfa_plfa-part2-Substitution-17085" href="../Substitution/#plfa_plfa-part2-Substitution-17085" class="Bound">x</a><a id="plfa_plfa-part2-Substitution-17086" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-17088" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-17090" href="https://agda.github.io/agda-stdlib/v1.3/Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a>
<a id="plfa_plfa-part2-Substitution-17095" href="../Substitution/#plfa_plfa-part2-Substitution-17016" class="Function">sub-id</a> <a id="plfa_plfa-part2-Substitution-17102" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-17103" class="Argument">M</a> <a id="plfa_plfa-part2-Substitution-17105" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-17107" href="../Untyped/#plfa_plfa-part2-Untyped-4334" class="InductiveConstructor Operator">ƛ</a> <a id="plfa_plfa-part2-Substitution-17109" href="../Substitution/#plfa_plfa-part2-Substitution-17109" class="Bound">N</a><a id="plfa_plfa-part2-Substitution-17110" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-17112" class="Symbol">=</a>
   <a id="plfa_plfa-part2-Substitution-17117" href="https://agda.github.io/agda-stdlib/v1.3/Relation.Binary.PropositionalEquality.Core.html#2517" class="Function Operator">begin</a>
     <a id="plfa_plfa-part2-Substitution-17128" href="../Substitution/#plfa_plfa-part2-Substitution-2490" class="Function Operator">⟪</a> <a id="plfa_plfa-part2-Substitution-17130" href="../Substitution/#plfa_plfa-part2-Substitution-2996" class="Function">ids</a> <a id="plfa_plfa-part2-Substitution-17134" href="../Substitution/#plfa_plfa-part2-Substitution-2490" class="Function Operator">⟫</a> <a id="plfa_plfa-part2-Substitution-17136" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-17137" href="../Untyped/#plfa_plfa-part2-Untyped-4334" class="InductiveConstructor Operator">ƛ</a> <a id="plfa_plfa-part2-Substitution-17139" href="../Substitution/#plfa_plfa-part2-Substitution-17109" class="Bound">N</a><a id="plfa_plfa-part2-Substitution-17140" class="Symbol">)</a>
   <a id="plfa_plfa-part2-Substitution-17145" href="https://agda.github.io/agda-stdlib/v1.3/Relation.Binary.PropositionalEquality.Core.html#2575" class="Function Operator">≡⟨⟩</a>
     <a id="plfa_plfa-part2-Substitution-17154" href="../Untyped/#plfa_plfa-part2-Untyped-4334" class="InductiveConstructor Operator">ƛ</a> <a id="plfa_plfa-part2-Substitution-17156" href="../Substitution/#plfa_plfa-part2-Substitution-2490" class="Function Operator">⟪</a> <a id="plfa_plfa-part2-Substitution-17158" href="../Untyped/#plfa_plfa-part2-Untyped-6647" class="Function">exts</a> <a id="plfa_plfa-part2-Substitution-17163" href="../Substitution/#plfa_plfa-part2-Substitution-2996" class="Function">ids</a> <a id="plfa_plfa-part2-Substitution-17167" href="../Substitution/#plfa_plfa-part2-Substitution-2490" class="Function Operator">⟫</a> <a id="plfa_plfa-part2-Substitution-17169" href="../Substitution/#plfa_plfa-part2-Substitution-17109" class="Bound">N</a>
   <a id="plfa_plfa-part2-Substitution-17174" href="https://agda.github.io/agda-stdlib/v1.3/Relation.Binary.PropositionalEquality.Core.html#2634" class="Function">≡⟨</a> <a id="plfa_plfa-part2-Substitution-17177" href="https://agda.github.io/agda-stdlib/v1.3/Relation.Binary.PropositionalEquality.Core.html#1131" class="Function">cong</a> <a id="plfa_plfa-part2-Substitution-17182" href="../Untyped/#plfa_plfa-part2-Untyped-4334" class="InductiveConstructor Operator">ƛ_</a> <a id="plfa_plfa-part2-Substitution-17185" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-17186" href="../Substitution/#plfa_plfa-part2-Substitution-11150" class="Function">cong-sub</a><a id="plfa_plfa-part2-Substitution-17194" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-17195" class="Argument">M</a> <a id="plfa_plfa-part2-Substitution-17197" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-17199" href="../Substitution/#plfa_plfa-part2-Substitution-17109" class="Bound">N</a><a id="plfa_plfa-part2-Substitution-17200" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-17202" href="../Substitution/#plfa_plfa-part2-Substitution-16685" class="Function">exts-ids</a> <a id="plfa_plfa-part2-Substitution-17211" href="https://agda.github.io/agda-stdlib/v1.3/Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a><a id="plfa_plfa-part2-Substitution-17215" class="Symbol">)</a>  <a id="plfa_plfa-part2-Substitution-17218" href="https://agda.github.io/agda-stdlib/v1.3/Relation.Binary.PropositionalEquality.Core.html#2634" class="Function">⟩</a>
     <a id="plfa_plfa-part2-Substitution-17225" href="../Untyped/#plfa_plfa-part2-Untyped-4334" class="InductiveConstructor Operator">ƛ</a> <a id="plfa_plfa-part2-Substitution-17227" href="../Substitution/#plfa_plfa-part2-Substitution-2490" class="Function Operator">⟪</a> <a id="plfa_plfa-part2-Substitution-17229" href="../Substitution/#plfa_plfa-part2-Substitution-2996" class="Function">ids</a> <a id="plfa_plfa-part2-Substitution-17233" href="../Substitution/#plfa_plfa-part2-Substitution-2490" class="Function Operator">⟫</a> <a id="plfa_plfa-part2-Substitution-17235" href="../Substitution/#plfa_plfa-part2-Substitution-17109" class="Bound">N</a>
   <a id="plfa_plfa-part2-Substitution-17240" href="https://agda.github.io/agda-stdlib/v1.3/Relation.Binary.PropositionalEquality.Core.html#2634" class="Function">≡⟨</a> <a id="plfa_plfa-part2-Substitution-17243" href="https://agda.github.io/agda-stdlib/v1.3/Relation.Binary.PropositionalEquality.Core.html#1131" class="Function">cong</a> <a id="plfa_plfa-part2-Substitution-17248" href="../Untyped/#plfa_plfa-part2-Untyped-4334" class="InductiveConstructor Operator">ƛ_</a> <a id="plfa_plfa-part2-Substitution-17251" href="../Substitution/#plfa_plfa-part2-Substitution-17016" class="Function">sub-id</a> <a id="plfa_plfa-part2-Substitution-17258" href="https://agda.github.io/agda-stdlib/v1.3/Relation.Binary.PropositionalEquality.Core.html#2634" class="Function">⟩</a>
     <a id="plfa_plfa-part2-Substitution-17265" href="../Untyped/#plfa_plfa-part2-Untyped-4334" class="InductiveConstructor Operator">ƛ</a> <a id="plfa_plfa-part2-Substitution-17267" href="../Substitution/#plfa_plfa-part2-Substitution-17109" class="Bound">N</a>
   <a id="plfa_plfa-part2-Substitution-17272" href="https://agda.github.io/agda-stdlib/v1.3/Relation.Binary.PropositionalEquality.Core.html#2816" class="Function Operator">∎</a>
<a id="plfa_plfa-part2-Substitution-17274" href="../Substitution/#plfa_plfa-part2-Substitution-17016" class="Function">sub-id</a> <a id="plfa_plfa-part2-Substitution-17281" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-17282" class="Argument">M</a> <a id="plfa_plfa-part2-Substitution-17284" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-17286" href="../Substitution/#plfa_plfa-part2-Substitution-17286" class="Bound">L</a> <a id="plfa_plfa-part2-Substitution-17288" href="../Untyped/#plfa_plfa-part2-Untyped-4394" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Substitution-17290" href="../Substitution/#plfa_plfa-part2-Substitution-17290" class="Bound">M</a><a id="plfa_plfa-part2-Substitution-17291" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-17293" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-17295" href="https://agda.github.io/agda-stdlib/v1.3/Relation.Binary.PropositionalEquality.html#1524" class="Function">cong₂</a> <a id="plfa_plfa-part2-Substitution-17301" href="../Untyped/#plfa_plfa-part2-Untyped-4394" class="InductiveConstructor Operator">_·_</a> <a id="plfa_plfa-part2-Substitution-17305" href="../Substitution/#plfa_plfa-part2-Substitution-17016" class="Function">sub-id</a> <a id="plfa_plfa-part2-Substitution-17312" href="../Substitution/#plfa_plfa-part2-Substitution-17016" class="Function">sub-id</a>
</pre><p>The <code>rename-id</code> equation is a corollary is <code>sub-id</code>.</p><pre class="Agda"><a id="plfa_plfa-part2-Substitution-rename-id"></a><a id="plfa_plfa-part2-Substitution-17386" href="../Substitution/#plfa_plfa-part2-Substitution-17386" class="Function">rename-id</a> <a id="plfa_plfa-part2-Substitution-17396" class="Symbol">:</a> <a id="plfa_plfa-part2-Substitution-17398" class="Symbol">∀</a> <a id="plfa_plfa-part2-Substitution-17400" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-17401" href="../Substitution/#plfa_plfa-part2-Substitution-17401" class="Bound">Γ</a><a id="plfa_plfa-part2-Substitution-17402" class="Symbol">}{</a><a id="plfa_plfa-part2-Substitution-17404" href="../Substitution/#plfa_plfa-part2-Substitution-17404" class="Bound">A</a><a id="plfa_plfa-part2-Substitution-17405" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-17407" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-17408" href="../Substitution/#plfa_plfa-part2-Substitution-17408" class="Bound">M</a> <a id="plfa_plfa-part2-Substitution-17410" class="Symbol">:</a> <a id="plfa_plfa-part2-Substitution-17412" href="../Substitution/#plfa_plfa-part2-Substitution-17401" class="Bound">Γ</a> <a id="plfa_plfa-part2-Substitution-17414" href="../Untyped/#plfa_plfa-part2-Untyped-4246" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Substitution-17416" href="../Substitution/#plfa_plfa-part2-Substitution-17404" class="Bound">A</a><a id="plfa_plfa-part2-Substitution-17417" class="Symbol">}</a>
  <a id="plfa_plfa-part2-Substitution-17421" class="Symbol">→</a> <a id="plfa_plfa-part2-Substitution-17423" href="../Untyped/#plfa_plfa-part2-Untyped-6207" class="Function">rename</a> <a id="plfa_plfa-part2-Substitution-17430" class="Symbol">(λ</a> <a id="plfa_plfa-part2-Substitution-17433" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-17434" href="../Substitution/#plfa_plfa-part2-Substitution-17434" class="Bound">A</a><a id="plfa_plfa-part2-Substitution-17435" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-17437" href="../Substitution/#plfa_plfa-part2-Substitution-17437" class="Bound">x</a> <a id="plfa_plfa-part2-Substitution-17439" class="Symbol">→</a> <a id="plfa_plfa-part2-Substitution-17441" href="../Substitution/#plfa_plfa-part2-Substitution-17437" class="Bound">x</a><a id="plfa_plfa-part2-Substitution-17442" class="Symbol">)</a> <a id="plfa_plfa-part2-Substitution-17444" href="../Substitution/#plfa_plfa-part2-Substitution-17408" class="Bound">M</a> <a id="plfa_plfa-part2-Substitution-17446" href="https://agda.github.io/agda-stdlib/v1.3/Agda.Builtin.Equality.html#151" class="Datatype Operator">≡</a> <a id="plfa_plfa-part2-Substitution-17448" href="../Substitution/#plfa_plfa-part2-Substitution-17408" class="Bound">M</a>
<a id="plfa_plfa-part2-Substitution-17450" href="../Substitution/#plfa_plfa-part2-Substitution-17386" class="Function">rename-id</a> <a id="plfa_plfa-part2-Substitution-17460" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-17461" class="Argument">M</a> <a id="plfa_plfa-part2-Substitution-17463" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-17465" href="../Substitution/#plfa_plfa-part2-Substitution-17465" class="Bound">M</a><a id="plfa_plfa-part2-Substitution-17466" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-17468" class="Symbol">=</a>
   <a id="plfa_plfa-part2-Substitution-17473" href="https://agda.github.io/agda-stdlib/v1.3/Relation.Binary.PropositionalEquality.Core.html#2517" class="Function Operator">begin</a>
     <a id="plfa_plfa-part2-Substitution-17484" href="../Untyped/#plfa_plfa-part2-Untyped-6207" class="Function">rename</a> <a id="plfa_plfa-part2-Substitution-17491" class="Symbol">(λ</a> <a id="plfa_plfa-part2-Substitution-17494" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-17495" href="../Substitution/#plfa_plfa-part2-Substitution-17495" class="Bound">A</a><a id="plfa_plfa-part2-Substitution-17496" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-17498" href="../Substitution/#plfa_plfa-part2-Substitution-17498" class="Bound">x</a> <a id="plfa_plfa-part2-Substitution-17500" class="Symbol">→</a> <a id="plfa_plfa-part2-Substitution-17502" href="../Substitution/#plfa_plfa-part2-Substitution-17498" class="Bound">x</a><a id="plfa_plfa-part2-Substitution-17503" class="Symbol">)</a> <a id="plfa_plfa-part2-Substitution-17505" href="../Substitution/#plfa_plfa-part2-Substitution-17465" class="Bound">M</a>
   <a id="plfa_plfa-part2-Substitution-17510" href="https://agda.github.io/agda-stdlib/v1.3/Relation.Binary.PropositionalEquality.Core.html#2634" class="Function">≡⟨</a> <a id="plfa_plfa-part2-Substitution-17513" href="../Substitution/#plfa_plfa-part2-Substitution-13652" class="Function">rename-subst-ren</a>  <a id="plfa_plfa-part2-Substitution-17531" href="https://agda.github.io/agda-stdlib/v1.3/Relation.Binary.PropositionalEquality.Core.html#2634" class="Function">⟩</a>
     <a id="plfa_plfa-part2-Substitution-17538" href="../Substitution/#plfa_plfa-part2-Substitution-2490" class="Function Operator">⟪</a> <a id="plfa_plfa-part2-Substitution-17540" href="../Substitution/#plfa_plfa-part2-Substitution-6482" class="Function">ren</a> <a id="plfa_plfa-part2-Substitution-17544" class="Symbol">(λ</a> <a id="plfa_plfa-part2-Substitution-17547" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-17548" href="../Substitution/#plfa_plfa-part2-Substitution-17548" class="Bound">A</a><a id="plfa_plfa-part2-Substitution-17549" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-17551" href="../Substitution/#plfa_plfa-part2-Substitution-17551" class="Bound">x</a> <a id="plfa_plfa-part2-Substitution-17553" class="Symbol">→</a> <a id="plfa_plfa-part2-Substitution-17555" href="../Substitution/#plfa_plfa-part2-Substitution-17551" class="Bound">x</a><a id="plfa_plfa-part2-Substitution-17556" class="Symbol">)</a> <a id="plfa_plfa-part2-Substitution-17558" href="../Substitution/#plfa_plfa-part2-Substitution-2490" class="Function Operator">⟫</a> <a id="plfa_plfa-part2-Substitution-17560" href="../Substitution/#plfa_plfa-part2-Substitution-17465" class="Bound">M</a>
   <a id="plfa_plfa-part2-Substitution-17565" href="https://agda.github.io/agda-stdlib/v1.3/Relation.Binary.PropositionalEquality.Core.html#2575" class="Function Operator">≡⟨⟩</a>
     <a id="plfa_plfa-part2-Substitution-17574" href="../Substitution/#plfa_plfa-part2-Substitution-2490" class="Function Operator">⟪</a> <a id="plfa_plfa-part2-Substitution-17576" href="../Substitution/#plfa_plfa-part2-Substitution-2996" class="Function">ids</a> <a id="plfa_plfa-part2-Substitution-17580" href="../Substitution/#plfa_plfa-part2-Substitution-2490" class="Function Operator">⟫</a> <a id="plfa_plfa-part2-Substitution-17582" href="../Substitution/#plfa_plfa-part2-Substitution-17465" class="Bound">M</a>
   <a id="plfa_plfa-part2-Substitution-17587" href="https://agda.github.io/agda-stdlib/v1.3/Relation.Binary.PropositionalEquality.Core.html#2634" class="Function">≡⟨</a> <a id="plfa_plfa-part2-Substitution-17590" href="../Substitution/#plfa_plfa-part2-Substitution-17016" class="Function">sub-id</a>  <a id="plfa_plfa-part2-Substitution-17598" href="https://agda.github.io/agda-stdlib/v1.3/Relation.Binary.PropositionalEquality.Core.html#2634" class="Function">⟩</a>
     <a id="plfa_plfa-part2-Substitution-17605" href="../Substitution/#plfa_plfa-part2-Substitution-17465" class="Bound">M</a>
   <a id="plfa_plfa-part2-Substitution-17610" href="https://agda.github.io/agda-stdlib/v1.3/Relation.Binary.PropositionalEquality.Core.html#2816" class="Function Operator">∎</a>
</pre><h2 id="proof-of-sub-idr">Proof of sub-idR</h2><p>The proof of <code>sub-idR</code> follows directly from <code>sub-id</code>.</p><pre class="Agda"><a id="plfa_plfa-part2-Substitution-sub-idR"></a><a id="plfa_plfa-part2-Substitution-17702" href="../Substitution/#plfa_plfa-part2-Substitution-17702" class="Function">sub-idR</a> <a id="plfa_plfa-part2-Substitution-17710" class="Symbol">:</a> <a id="plfa_plfa-part2-Substitution-17712" class="Symbol">∀{</a><a id="plfa_plfa-part2-Substitution-17714" href="../Substitution/#plfa_plfa-part2-Substitution-17714" class="Bound">Γ</a> <a id="plfa_plfa-part2-Substitution-17716" href="../Substitution/#plfa_plfa-part2-Substitution-17716" class="Bound">Δ</a><a id="plfa_plfa-part2-Substitution-17717" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-17719" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-17720" href="../Substitution/#plfa_plfa-part2-Substitution-17720" class="Bound">σ</a> <a id="plfa_plfa-part2-Substitution-17722" class="Symbol">:</a> <a id="plfa_plfa-part2-Substitution-17724" href="../Substitution/#plfa_plfa-part2-Substitution-2341" class="Function">Subst</a> <a id="plfa_plfa-part2-Substitution-17730" href="../Substitution/#plfa_plfa-part2-Substitution-17714" class="Bound">Γ</a> <a id="plfa_plfa-part2-Substitution-17732" href="../Substitution/#plfa_plfa-part2-Substitution-17716" class="Bound">Δ</a><a id="plfa_plfa-part2-Substitution-17733" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-17735" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-17736" href="../Substitution/#plfa_plfa-part2-Substitution-17736" class="Bound">A</a><a id="plfa_plfa-part2-Substitution-17737" class="Symbol">}</a>
       <a id="plfa_plfa-part2-Substitution-17746" class="Symbol">→</a> <a id="plfa_plfa-part2-Substitution-17748" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-17749" href="../Substitution/#plfa_plfa-part2-Substitution-17720" class="Bound">σ</a> <a id="plfa_plfa-part2-Substitution-17751" href="../Substitution/#plfa_plfa-part2-Substitution-3740" class="Function Operator">⨟</a> <a id="plfa_plfa-part2-Substitution-17753" href="../Substitution/#plfa_plfa-part2-Substitution-2996" class="Function">ids</a><a id="plfa_plfa-part2-Substitution-17756" class="Symbol">)</a> <a id="plfa_plfa-part2-Substitution-17758" href="https://agda.github.io/agda-stdlib/v1.3/Agda.Builtin.Equality.html#151" class="Datatype Operator">≡</a> <a id="plfa_plfa-part2-Substitution-17760" href="../Substitution/#plfa_plfa-part2-Substitution-17720" class="Bound">σ</a> <a id="plfa_plfa-part2-Substitution-17762" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-17763" href="../Substitution/#plfa_plfa-part2-Substitution-17736" class="Bound">A</a><a id="plfa_plfa-part2-Substitution-17764" class="Symbol">}</a>
<a id="plfa_plfa-part2-Substitution-17766" href="../Substitution/#plfa_plfa-part2-Substitution-17702" class="Function">sub-idR</a> <a id="plfa_plfa-part2-Substitution-17774" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-17775" href="../Substitution/#plfa_plfa-part2-Substitution-17775" class="Bound">Γ</a><a id="plfa_plfa-part2-Substitution-17776" class="Symbol">}{</a><a id="plfa_plfa-part2-Substitution-17778" class="Argument">σ</a> <a id="plfa_plfa-part2-Substitution-17780" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-17782" href="../Substitution/#plfa_plfa-part2-Substitution-17782" class="Bound">σ</a><a id="plfa_plfa-part2-Substitution-17783" class="Symbol">}{</a><a id="plfa_plfa-part2-Substitution-17785" href="../Substitution/#plfa_plfa-part2-Substitution-17785" class="Bound">A</a><a id="plfa_plfa-part2-Substitution-17786" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-17788" class="Symbol">=</a>
          <a id="plfa_plfa-part2-Substitution-17800" href="https://agda.github.io/agda-stdlib/v1.3/Relation.Binary.PropositionalEquality.Core.html#2517" class="Function Operator">begin</a>
            <a id="plfa_plfa-part2-Substitution-17818" href="../Substitution/#plfa_plfa-part2-Substitution-17782" class="Bound">σ</a> <a id="plfa_plfa-part2-Substitution-17820" href="../Substitution/#plfa_plfa-part2-Substitution-3740" class="Function Operator">⨟</a> <a id="plfa_plfa-part2-Substitution-17822" href="../Substitution/#plfa_plfa-part2-Substitution-2996" class="Function">ids</a>
          <a id="plfa_plfa-part2-Substitution-17836" href="https://agda.github.io/agda-stdlib/v1.3/Relation.Binary.PropositionalEquality.Core.html#2575" class="Function Operator">≡⟨⟩</a>
            <a id="plfa_plfa-part2-Substitution-17852" href="../Substitution/#plfa_plfa-part2-Substitution-2490" class="Function Operator">⟪</a> <a id="plfa_plfa-part2-Substitution-17854" href="../Substitution/#plfa_plfa-part2-Substitution-2996" class="Function">ids</a> <a id="plfa_plfa-part2-Substitution-17858" href="../Substitution/#plfa_plfa-part2-Substitution-2490" class="Function Operator">⟫</a> <a id="plfa_plfa-part2-Substitution-17860" href="https://agda.github.io/agda-stdlib/v1.3/Function.Base.html#992" class="Function Operator">∘</a> <a id="plfa_plfa-part2-Substitution-17862" href="../Substitution/#plfa_plfa-part2-Substitution-17782" class="Bound">σ</a>
          <a id="plfa_plfa-part2-Substitution-17874" href="https://agda.github.io/agda-stdlib/v1.3/Relation.Binary.PropositionalEquality.Core.html#2634" class="Function">≡⟨</a> <a id="plfa_plfa-part2-Substitution-17877" href="../Substitution/#plfa_plfa-part2-Substitution-1855" class="Postulate">extensionality</a> <a id="plfa_plfa-part2-Substitution-17892" class="Symbol">(λ</a> <a id="plfa_plfa-part2-Substitution-17895" href="../Substitution/#plfa_plfa-part2-Substitution-17895" class="Bound">x</a> <a id="plfa_plfa-part2-Substitution-17897" class="Symbol">→</a> <a id="plfa_plfa-part2-Substitution-17899" href="../Substitution/#plfa_plfa-part2-Substitution-17016" class="Function">sub-id</a><a id="plfa_plfa-part2-Substitution-17905" class="Symbol">)</a> <a id="plfa_plfa-part2-Substitution-17907" href="https://agda.github.io/agda-stdlib/v1.3/Relation.Binary.PropositionalEquality.Core.html#2634" class="Function">⟩</a>
            <a id="plfa_plfa-part2-Substitution-17921" href="../Substitution/#plfa_plfa-part2-Substitution-17782" class="Bound">σ</a>
          <a id="plfa_plfa-part2-Substitution-17933" href="https://agda.github.io/agda-stdlib/v1.3/Relation.Binary.PropositionalEquality.Core.html#2816" class="Function Operator">∎</a>
</pre><h2 id="proof-of-sub-sub">Proof of sub-sub</h2><p>The <code>sub-sub</code> equation states that sequenced substitutions <code>σ ⨟ τ</code> are equivalent to first applying <code>σ</code> then applying <code>τ</code>.</p><pre><code>⟪ τ ⟫ ⟪ σ ⟫ M  ≡ ⟪ σ ⨟ τ ⟫ M</code></pre><p>The proof requires several lemmas. First, we need to prove the specialization for renaming.</p><pre><code>rename ρ (rename ρ′ M) ≡ rename (ρ ∘ ρ′) M</code></pre><p>This in turn requires the following lemma about <code>ext</code>.</p><pre class="Agda"><a id="plfa_plfa-part2-Substitution-compose-ext"></a><a id="plfa_plfa-part2-Substitution-18325" href="../Substitution/#plfa_plfa-part2-Substitution-18325" class="Function">compose-ext</a> <a id="plfa_plfa-part2-Substitution-18337" class="Symbol">:</a> <a id="plfa_plfa-part2-Substitution-18339" class="Symbol">∀{</a><a id="plfa_plfa-part2-Substitution-18341" href="../Substitution/#plfa_plfa-part2-Substitution-18341" class="Bound">Γ</a> <a id="plfa_plfa-part2-Substitution-18343" href="../Substitution/#plfa_plfa-part2-Substitution-18343" class="Bound">Δ</a> <a id="plfa_plfa-part2-Substitution-18345" href="../Substitution/#plfa_plfa-part2-Substitution-18345" class="Bound">Σ</a><a id="plfa_plfa-part2-Substitution-18346" class="Symbol">}{</a><a id="plfa_plfa-part2-Substitution-18348" href="../Substitution/#plfa_plfa-part2-Substitution-18348" class="Bound">ρ</a> <a id="plfa_plfa-part2-Substitution-18350" class="Symbol">:</a> <a id="plfa_plfa-part2-Substitution-18352" href="../Substitution/#plfa_plfa-part2-Substitution-2124" class="Function">Rename</a> <a id="plfa_plfa-part2-Substitution-18359" href="../Substitution/#plfa_plfa-part2-Substitution-18343" class="Bound">Δ</a> <a id="plfa_plfa-part2-Substitution-18361" href="../Substitution/#plfa_plfa-part2-Substitution-18345" class="Bound">Σ</a><a id="plfa_plfa-part2-Substitution-18362" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-18364" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-18365" href="../Substitution/#plfa_plfa-part2-Substitution-18365" class="Bound">ρ′</a> <a id="plfa_plfa-part2-Substitution-18368" class="Symbol">:</a> <a id="plfa_plfa-part2-Substitution-18370" href="../Substitution/#plfa_plfa-part2-Substitution-2124" class="Function">Rename</a> <a id="plfa_plfa-part2-Substitution-18377" href="../Substitution/#plfa_plfa-part2-Substitution-18341" class="Bound">Γ</a> <a id="plfa_plfa-part2-Substitution-18379" href="../Substitution/#plfa_plfa-part2-Substitution-18343" class="Bound">Δ</a><a id="plfa_plfa-part2-Substitution-18380" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-18382" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-18383" href="../Substitution/#plfa_plfa-part2-Substitution-18383" class="Bound">A</a> <a id="plfa_plfa-part2-Substitution-18385" href="../Substitution/#plfa_plfa-part2-Substitution-18385" class="Bound">B</a><a id="plfa_plfa-part2-Substitution-18386" class="Symbol">}</a>
            <a id="plfa_plfa-part2-Substitution-18400" class="Symbol">→</a> <a id="plfa_plfa-part2-Substitution-18402" class="Symbol">((</a><a id="plfa_plfa-part2-Substitution-18404" href="../Untyped/#plfa_plfa-part2-Untyped-5893" class="Function">ext</a> <a id="plfa_plfa-part2-Substitution-18408" href="../Substitution/#plfa_plfa-part2-Substitution-18348" class="Bound">ρ</a><a id="plfa_plfa-part2-Substitution-18409" class="Symbol">)</a> <a id="plfa_plfa-part2-Substitution-18411" href="https://agda.github.io/agda-stdlib/v1.3/Function.Base.html#992" class="Function Operator">∘</a> <a id="plfa_plfa-part2-Substitution-18413" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-18414" href="../Untyped/#plfa_plfa-part2-Untyped-5893" class="Function">ext</a> <a id="plfa_plfa-part2-Substitution-18418" href="../Substitution/#plfa_plfa-part2-Substitution-18365" class="Bound">ρ′</a><a id="plfa_plfa-part2-Substitution-18420" class="Symbol">))</a> <a id="plfa_plfa-part2-Substitution-18423" href="https://agda.github.io/agda-stdlib/v1.3/Agda.Builtin.Equality.html#151" class="Datatype Operator">≡</a> <a id="plfa_plfa-part2-Substitution-18425" href="../Untyped/#plfa_plfa-part2-Untyped-5893" class="Function">ext</a> <a id="plfa_plfa-part2-Substitution-18429" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-18430" href="../Substitution/#plfa_plfa-part2-Substitution-18348" class="Bound">ρ</a> <a id="plfa_plfa-part2-Substitution-18432" href="https://agda.github.io/agda-stdlib/v1.3/Function.Base.html#992" class="Function Operator">∘</a> <a id="plfa_plfa-part2-Substitution-18434" href="../Substitution/#plfa_plfa-part2-Substitution-18365" class="Bound">ρ′</a><a id="plfa_plfa-part2-Substitution-18436" class="Symbol">)</a> <a id="plfa_plfa-part2-Substitution-18438" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-18439" href="../Substitution/#plfa_plfa-part2-Substitution-18385" class="Bound">B</a><a id="plfa_plfa-part2-Substitution-18440" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-18442" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-18443" href="../Substitution/#plfa_plfa-part2-Substitution-18383" class="Bound">A</a><a id="plfa_plfa-part2-Substitution-18444" class="Symbol">}</a>
<a id="plfa_plfa-part2-Substitution-18446" href="../Substitution/#plfa_plfa-part2-Substitution-18325" class="Function">compose-ext</a> <a id="plfa_plfa-part2-Substitution-18458" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-18460" href="../Substitution/#plfa_plfa-part2-Substitution-1855" class="Postulate">extensionality</a> <a id="plfa_plfa-part2-Substitution-18475" class="Symbol">λ</a> <a id="plfa_plfa-part2-Substitution-18477" href="../Substitution/#plfa_plfa-part2-Substitution-18477" class="Bound">x</a> <a id="plfa_plfa-part2-Substitution-18479" class="Symbol">→</a> <a id="plfa_plfa-part2-Substitution-18481" href="../Substitution/#plfa_plfa-part2-Substitution-18505" class="Function">lemma</a> <a id="plfa_plfa-part2-Substitution-18487" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-18488" class="Argument">x</a> <a id="plfa_plfa-part2-Substitution-18490" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-18492" href="../Substitution/#plfa_plfa-part2-Substitution-18477" class="Bound">x</a><a id="plfa_plfa-part2-Substitution-18493" class="Symbol">}</a>
  <a id="plfa_plfa-part2-Substitution-18497" class="Keyword">where</a>
  <a id="plfa_plfa-part2-Substitution-18505" href="../Substitution/#plfa_plfa-part2-Substitution-18505" class="Function">lemma</a> <a id="plfa_plfa-part2-Substitution-18511" class="Symbol">:</a> <a id="plfa_plfa-part2-Substitution-18513" class="Symbol">∀{</a><a id="plfa_plfa-part2-Substitution-18515" href="../Substitution/#plfa_plfa-part2-Substitution-18515" class="Bound">Γ</a> <a id="plfa_plfa-part2-Substitution-18517" href="../Substitution/#plfa_plfa-part2-Substitution-18517" class="Bound">Δ</a> <a id="plfa_plfa-part2-Substitution-18519" href="../Substitution/#plfa_plfa-part2-Substitution-18519" class="Bound">Σ</a><a id="plfa_plfa-part2-Substitution-18520" class="Symbol">}{</a><a id="plfa_plfa-part2-Substitution-18522" href="../Substitution/#plfa_plfa-part2-Substitution-18522" class="Bound">ρ</a> <a id="plfa_plfa-part2-Substitution-18524" class="Symbol">:</a> <a id="plfa_plfa-part2-Substitution-18526" href="../Substitution/#plfa_plfa-part2-Substitution-2124" class="Function">Rename</a> <a id="plfa_plfa-part2-Substitution-18533" href="../Substitution/#plfa_plfa-part2-Substitution-18517" class="Bound">Δ</a> <a id="plfa_plfa-part2-Substitution-18535" href="../Substitution/#plfa_plfa-part2-Substitution-18519" class="Bound">Σ</a><a id="plfa_plfa-part2-Substitution-18536" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-18538" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-18539" href="../Substitution/#plfa_plfa-part2-Substitution-18539" class="Bound">ρ′</a> <a id="plfa_plfa-part2-Substitution-18542" class="Symbol">:</a> <a id="plfa_plfa-part2-Substitution-18544" href="../Substitution/#plfa_plfa-part2-Substitution-2124" class="Function">Rename</a> <a id="plfa_plfa-part2-Substitution-18551" href="../Substitution/#plfa_plfa-part2-Substitution-18515" class="Bound">Γ</a> <a id="plfa_plfa-part2-Substitution-18553" href="../Substitution/#plfa_plfa-part2-Substitution-18517" class="Bound">Δ</a><a id="plfa_plfa-part2-Substitution-18554" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-18556" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-18557" href="../Substitution/#plfa_plfa-part2-Substitution-18557" class="Bound">A</a> <a id="plfa_plfa-part2-Substitution-18559" href="../Substitution/#plfa_plfa-part2-Substitution-18559" class="Bound">B</a><a id="plfa_plfa-part2-Substitution-18560" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-18562" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-18563" href="../Substitution/#plfa_plfa-part2-Substitution-18563" class="Bound">x</a> <a id="plfa_plfa-part2-Substitution-18565" class="Symbol">:</a> <a id="plfa_plfa-part2-Substitution-18567" href="../Substitution/#plfa_plfa-part2-Substitution-18515" class="Bound">Γ</a> <a id="plfa_plfa-part2-Substitution-18569" href="../Untyped/#plfa_plfa-part2-Untyped-3131" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part2-Substitution-18571" href="../Substitution/#plfa_plfa-part2-Substitution-18559" class="Bound">B</a> <a id="plfa_plfa-part2-Substitution-18573" href="../Untyped/#plfa_plfa-part2-Untyped-3469" class="Datatype Operator">∋</a> <a id="plfa_plfa-part2-Substitution-18575" href="../Substitution/#plfa_plfa-part2-Substitution-18557" class="Bound">A</a><a id="plfa_plfa-part2-Substitution-18576" class="Symbol">}</a>
              <a id="plfa_plfa-part2-Substitution-18592" class="Symbol">→</a> <a id="plfa_plfa-part2-Substitution-18594" class="Symbol">((</a><a id="plfa_plfa-part2-Substitution-18596" href="../Untyped/#plfa_plfa-part2-Untyped-5893" class="Function">ext</a> <a id="plfa_plfa-part2-Substitution-18600" href="../Substitution/#plfa_plfa-part2-Substitution-18522" class="Bound">ρ</a><a id="plfa_plfa-part2-Substitution-18601" class="Symbol">)</a> <a id="plfa_plfa-part2-Substitution-18603" href="https://agda.github.io/agda-stdlib/v1.3/Function.Base.html#992" class="Function Operator">∘</a> <a id="plfa_plfa-part2-Substitution-18605" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-18606" href="../Untyped/#plfa_plfa-part2-Untyped-5893" class="Function">ext</a> <a id="plfa_plfa-part2-Substitution-18610" href="../Substitution/#plfa_plfa-part2-Substitution-18539" class="Bound">ρ′</a><a id="plfa_plfa-part2-Substitution-18612" class="Symbol">))</a> <a id="plfa_plfa-part2-Substitution-18615" href="../Substitution/#plfa_plfa-part2-Substitution-18563" class="Bound">x</a> <a id="plfa_plfa-part2-Substitution-18617" href="https://agda.github.io/agda-stdlib/v1.3/Agda.Builtin.Equality.html#151" class="Datatype Operator">≡</a> <a id="plfa_plfa-part2-Substitution-18619" href="../Untyped/#plfa_plfa-part2-Untyped-5893" class="Function">ext</a> <a id="plfa_plfa-part2-Substitution-18623" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-18624" href="../Substitution/#plfa_plfa-part2-Substitution-18522" class="Bound">ρ</a> <a id="plfa_plfa-part2-Substitution-18626" href="https://agda.github.io/agda-stdlib/v1.3/Function.Base.html#992" class="Function Operator">∘</a> <a id="plfa_plfa-part2-Substitution-18628" href="../Substitution/#plfa_plfa-part2-Substitution-18539" class="Bound">ρ′</a><a id="plfa_plfa-part2-Substitution-18630" class="Symbol">)</a> <a id="plfa_plfa-part2-Substitution-18632" href="../Substitution/#plfa_plfa-part2-Substitution-18563" class="Bound">x</a>
  <a id="plfa_plfa-part2-Substitution-18636" href="../Substitution/#plfa_plfa-part2-Substitution-18505" class="Function">lemma</a> <a id="plfa_plfa-part2-Substitution-18642" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-18643" class="Argument">x</a> <a id="plfa_plfa-part2-Substitution-18645" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-18647" href="../Untyped/#plfa_plfa-part2-Untyped-3505" class="InductiveConstructor">Z</a><a id="plfa_plfa-part2-Substitution-18648" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-18650" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-18652" href="https://agda.github.io/agda-stdlib/v1.3/Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a>
  <a id="plfa_plfa-part2-Substitution-18659" href="../Substitution/#plfa_plfa-part2-Substitution-18505" class="Function">lemma</a> <a id="plfa_plfa-part2-Substitution-18665" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-18666" class="Argument">x</a> <a id="plfa_plfa-part2-Substitution-18668" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-18670" href="../Untyped/#plfa_plfa-part2-Untyped-3550" class="InductiveConstructor Operator">S</a> <a id="plfa_plfa-part2-Substitution-18672" href="../Substitution/#plfa_plfa-part2-Substitution-18672" class="Bound">x</a><a id="plfa_plfa-part2-Substitution-18673" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-18675" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-18677" href="https://agda.github.io/agda-stdlib/v1.3/Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a>
</pre><p>To prove that composing renamings is equivalent to applying one after the other using <code>rename</code>, we proceed by induction on the term <code>M</code>, using the <code>compose-ext</code> lemma in the case for <code>M ≡ ƛ N</code>.</p><pre class="Agda"><a id="plfa_plfa-part2-Substitution-compose-rename"></a><a id="plfa_plfa-part2-Substitution-18890" href="../Substitution/#plfa_plfa-part2-Substitution-18890" class="Function">compose-rename</a> <a id="plfa_plfa-part2-Substitution-18905" class="Symbol">:</a> <a id="plfa_plfa-part2-Substitution-18907" class="Symbol">∀{</a><a id="plfa_plfa-part2-Substitution-18909" href="../Substitution/#plfa_plfa-part2-Substitution-18909" class="Bound">Γ</a> <a id="plfa_plfa-part2-Substitution-18911" href="../Substitution/#plfa_plfa-part2-Substitution-18911" class="Bound">Δ</a> <a id="plfa_plfa-part2-Substitution-18913" href="../Substitution/#plfa_plfa-part2-Substitution-18913" class="Bound">Σ</a><a id="plfa_plfa-part2-Substitution-18914" class="Symbol">}{</a><a id="plfa_plfa-part2-Substitution-18916" href="../Substitution/#plfa_plfa-part2-Substitution-18916" class="Bound">A</a><a id="plfa_plfa-part2-Substitution-18917" class="Symbol">}{</a><a id="plfa_plfa-part2-Substitution-18919" href="../Substitution/#plfa_plfa-part2-Substitution-18919" class="Bound">M</a> <a id="plfa_plfa-part2-Substitution-18921" class="Symbol">:</a> <a id="plfa_plfa-part2-Substitution-18923" href="../Substitution/#plfa_plfa-part2-Substitution-18909" class="Bound">Γ</a> <a id="plfa_plfa-part2-Substitution-18925" href="../Untyped/#plfa_plfa-part2-Untyped-4246" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Substitution-18927" href="../Substitution/#plfa_plfa-part2-Substitution-18916" class="Bound">A</a><a id="plfa_plfa-part2-Substitution-18928" class="Symbol">}{</a><a id="plfa_plfa-part2-Substitution-18930" href="../Substitution/#plfa_plfa-part2-Substitution-18930" class="Bound">ρ</a> <a id="plfa_plfa-part2-Substitution-18932" class="Symbol">:</a> <a id="plfa_plfa-part2-Substitution-18934" href="../Substitution/#plfa_plfa-part2-Substitution-2124" class="Function">Rename</a> <a id="plfa_plfa-part2-Substitution-18941" href="../Substitution/#plfa_plfa-part2-Substitution-18911" class="Bound">Δ</a> <a id="plfa_plfa-part2-Substitution-18943" href="../Substitution/#plfa_plfa-part2-Substitution-18913" class="Bound">Σ</a><a id="plfa_plfa-part2-Substitution-18944" class="Symbol">}{</a><a id="plfa_plfa-part2-Substitution-18946" href="../Substitution/#plfa_plfa-part2-Substitution-18946" class="Bound">ρ′</a> <a id="plfa_plfa-part2-Substitution-18949" class="Symbol">:</a> <a id="plfa_plfa-part2-Substitution-18951" href="../Substitution/#plfa_plfa-part2-Substitution-2124" class="Function">Rename</a> <a id="plfa_plfa-part2-Substitution-18958" href="../Substitution/#plfa_plfa-part2-Substitution-18909" class="Bound">Γ</a> <a id="plfa_plfa-part2-Substitution-18960" href="../Substitution/#plfa_plfa-part2-Substitution-18911" class="Bound">Δ</a><a id="plfa_plfa-part2-Substitution-18961" class="Symbol">}</a>
  <a id="plfa_plfa-part2-Substitution-18965" class="Symbol">→</a> <a id="plfa_plfa-part2-Substitution-18967" href="../Untyped/#plfa_plfa-part2-Untyped-6207" class="Function">rename</a> <a id="plfa_plfa-part2-Substitution-18974" href="../Substitution/#plfa_plfa-part2-Substitution-18930" class="Bound">ρ</a> <a id="plfa_plfa-part2-Substitution-18976" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-18977" href="../Untyped/#plfa_plfa-part2-Untyped-6207" class="Function">rename</a> <a id="plfa_plfa-part2-Substitution-18984" href="../Substitution/#plfa_plfa-part2-Substitution-18946" class="Bound">ρ′</a> <a id="plfa_plfa-part2-Substitution-18987" href="../Substitution/#plfa_plfa-part2-Substitution-18919" class="Bound">M</a><a id="plfa_plfa-part2-Substitution-18988" class="Symbol">)</a> <a id="plfa_plfa-part2-Substitution-18990" href="https://agda.github.io/agda-stdlib/v1.3/Agda.Builtin.Equality.html#151" class="Datatype Operator">≡</a> <a id="plfa_plfa-part2-Substitution-18992" href="../Untyped/#plfa_plfa-part2-Untyped-6207" class="Function">rename</a> <a id="plfa_plfa-part2-Substitution-18999" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-19000" href="../Substitution/#plfa_plfa-part2-Substitution-18930" class="Bound">ρ</a> <a id="plfa_plfa-part2-Substitution-19002" href="https://agda.github.io/agda-stdlib/v1.3/Function.Base.html#992" class="Function Operator">∘</a> <a id="plfa_plfa-part2-Substitution-19004" href="../Substitution/#plfa_plfa-part2-Substitution-18946" class="Bound">ρ′</a><a id="plfa_plfa-part2-Substitution-19006" class="Symbol">)</a> <a id="plfa_plfa-part2-Substitution-19008" href="../Substitution/#plfa_plfa-part2-Substitution-18919" class="Bound">M</a>
<a id="plfa_plfa-part2-Substitution-19010" href="../Substitution/#plfa_plfa-part2-Substitution-18890" class="Function">compose-rename</a> <a id="plfa_plfa-part2-Substitution-19025" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-19026" class="Argument">M</a> <a id="plfa_plfa-part2-Substitution-19028" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-19030" href="../Untyped/#plfa_plfa-part2-Untyped-4282" class="InductiveConstructor Operator">`</a> <a id="plfa_plfa-part2-Substitution-19032" href="../Substitution/#plfa_plfa-part2-Substitution-19032" class="Bound">x</a><a id="plfa_plfa-part2-Substitution-19033" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-19035" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-19037" href="https://agda.github.io/agda-stdlib/v1.3/Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a>
<a id="plfa_plfa-part2-Substitution-19042" href="../Substitution/#plfa_plfa-part2-Substitution-18890" class="Function">compose-rename</a> <a id="plfa_plfa-part2-Substitution-19057" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-19058" href="../Substitution/#plfa_plfa-part2-Substitution-19058" class="Bound">Γ</a><a id="plfa_plfa-part2-Substitution-19059" class="Symbol">}{</a><a id="plfa_plfa-part2-Substitution-19061" href="../Substitution/#plfa_plfa-part2-Substitution-19061" class="Bound">Δ</a><a id="plfa_plfa-part2-Substitution-19062" class="Symbol">}{</a><a id="plfa_plfa-part2-Substitution-19064" href="../Substitution/#plfa_plfa-part2-Substitution-19064" class="Bound">Σ</a><a id="plfa_plfa-part2-Substitution-19065" class="Symbol">}{</a><a id="plfa_plfa-part2-Substitution-19067" href="../Substitution/#plfa_plfa-part2-Substitution-19067" class="Bound">A</a><a id="plfa_plfa-part2-Substitution-19068" class="Symbol">}{</a><a id="plfa_plfa-part2-Substitution-19070" href="../Untyped/#plfa_plfa-part2-Untyped-4334" class="InductiveConstructor Operator">ƛ</a> <a id="plfa_plfa-part2-Substitution-19072" href="../Substitution/#plfa_plfa-part2-Substitution-19072" class="Bound">N</a><a id="plfa_plfa-part2-Substitution-19073" class="Symbol">}{</a><a id="plfa_plfa-part2-Substitution-19075" href="../Substitution/#plfa_plfa-part2-Substitution-19075" class="Bound">ρ</a><a id="plfa_plfa-part2-Substitution-19076" class="Symbol">}{</a><a id="plfa_plfa-part2-Substitution-19078" href="../Substitution/#plfa_plfa-part2-Substitution-19078" class="Bound">ρ′</a><a id="plfa_plfa-part2-Substitution-19080" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-19082" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-19084" href="https://agda.github.io/agda-stdlib/v1.3/Relation.Binary.PropositionalEquality.Core.html#1131" class="Function">cong</a> <a id="plfa_plfa-part2-Substitution-19089" href="../Untyped/#plfa_plfa-part2-Untyped-4334" class="InductiveConstructor Operator">ƛ_</a> <a id="plfa_plfa-part2-Substitution-19092" href="../Substitution/#plfa_plfa-part2-Substitution-19104" class="Function">G</a>
  <a id="plfa_plfa-part2-Substitution-19096" class="Keyword">where</a>
  <a id="plfa_plfa-part2-Substitution-19104" href="../Substitution/#plfa_plfa-part2-Substitution-19104" class="Function">G</a> <a id="plfa_plfa-part2-Substitution-19106" class="Symbol">:</a> <a id="plfa_plfa-part2-Substitution-19108" href="../Untyped/#plfa_plfa-part2-Untyped-6207" class="Function">rename</a> <a id="plfa_plfa-part2-Substitution-19115" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-19116" href="../Untyped/#plfa_plfa-part2-Untyped-5893" class="Function">ext</a> <a id="plfa_plfa-part2-Substitution-19120" href="../Substitution/#plfa_plfa-part2-Substitution-19075" class="Bound">ρ</a><a id="plfa_plfa-part2-Substitution-19121" class="Symbol">)</a> <a id="plfa_plfa-part2-Substitution-19123" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-19124" href="../Untyped/#plfa_plfa-part2-Untyped-6207" class="Function">rename</a> <a id="plfa_plfa-part2-Substitution-19131" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-19132" href="../Untyped/#plfa_plfa-part2-Untyped-5893" class="Function">ext</a> <a id="plfa_plfa-part2-Substitution-19136" href="../Substitution/#plfa_plfa-part2-Substitution-19078" class="Bound">ρ′</a><a id="plfa_plfa-part2-Substitution-19138" class="Symbol">)</a> <a id="plfa_plfa-part2-Substitution-19140" href="../Substitution/#plfa_plfa-part2-Substitution-19072" class="Bound">N</a><a id="plfa_plfa-part2-Substitution-19141" class="Symbol">)</a> <a id="plfa_plfa-part2-Substitution-19143" href="https://agda.github.io/agda-stdlib/v1.3/Agda.Builtin.Equality.html#151" class="Datatype Operator">≡</a> <a id="plfa_plfa-part2-Substitution-19145" href="../Untyped/#plfa_plfa-part2-Untyped-6207" class="Function">rename</a> <a id="plfa_plfa-part2-Substitution-19152" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-19153" href="../Untyped/#plfa_plfa-part2-Untyped-5893" class="Function">ext</a> <a id="plfa_plfa-part2-Substitution-19157" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-19158" href="../Substitution/#plfa_plfa-part2-Substitution-19075" class="Bound">ρ</a> <a id="plfa_plfa-part2-Substitution-19160" href="https://agda.github.io/agda-stdlib/v1.3/Function.Base.html#992" class="Function Operator">∘</a> <a id="plfa_plfa-part2-Substitution-19162" href="../Substitution/#plfa_plfa-part2-Substitution-19078" class="Bound">ρ′</a><a id="plfa_plfa-part2-Substitution-19164" class="Symbol">))</a> <a id="plfa_plfa-part2-Substitution-19167" href="../Substitution/#plfa_plfa-part2-Substitution-19072" class="Bound">N</a>
  <a id="plfa_plfa-part2-Substitution-19171" href="../Substitution/#plfa_plfa-part2-Substitution-19104" class="Function">G</a> <a id="plfa_plfa-part2-Substitution-19173" class="Symbol">=</a>
      <a id="plfa_plfa-part2-Substitution-19181" href="https://agda.github.io/agda-stdlib/v1.3/Relation.Binary.PropositionalEquality.Core.html#2517" class="Function Operator">begin</a>
        <a id="plfa_plfa-part2-Substitution-19195" href="../Untyped/#plfa_plfa-part2-Untyped-6207" class="Function">rename</a> <a id="plfa_plfa-part2-Substitution-19202" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-19203" href="../Untyped/#plfa_plfa-part2-Untyped-5893" class="Function">ext</a> <a id="plfa_plfa-part2-Substitution-19207" href="../Substitution/#plfa_plfa-part2-Substitution-19075" class="Bound">ρ</a><a id="plfa_plfa-part2-Substitution-19208" class="Symbol">)</a> <a id="plfa_plfa-part2-Substitution-19210" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-19211" href="../Untyped/#plfa_plfa-part2-Untyped-6207" class="Function">rename</a> <a id="plfa_plfa-part2-Substitution-19218" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-19219" href="../Untyped/#plfa_plfa-part2-Untyped-5893" class="Function">ext</a> <a id="plfa_plfa-part2-Substitution-19223" href="../Substitution/#plfa_plfa-part2-Substitution-19078" class="Bound">ρ′</a><a id="plfa_plfa-part2-Substitution-19225" class="Symbol">)</a> <a id="plfa_plfa-part2-Substitution-19227" href="../Substitution/#plfa_plfa-part2-Substitution-19072" class="Bound">N</a><a id="plfa_plfa-part2-Substitution-19228" class="Symbol">)</a>
      <a id="plfa_plfa-part2-Substitution-19236" href="https://agda.github.io/agda-stdlib/v1.3/Relation.Binary.PropositionalEquality.Core.html#2634" class="Function">≡⟨</a> <a id="plfa_plfa-part2-Substitution-19239" href="../Substitution/#plfa_plfa-part2-Substitution-18890" class="Function">compose-rename</a><a id="plfa_plfa-part2-Substitution-19253" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-19254" class="Argument">ρ</a> <a id="plfa_plfa-part2-Substitution-19256" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-19258" href="../Untyped/#plfa_plfa-part2-Untyped-5893" class="Function">ext</a> <a id="plfa_plfa-part2-Substitution-19262" href="../Substitution/#plfa_plfa-part2-Substitution-19075" class="Bound">ρ</a><a id="plfa_plfa-part2-Substitution-19263" class="Symbol">}{</a><a id="plfa_plfa-part2-Substitution-19265" class="Argument">ρ′</a> <a id="plfa_plfa-part2-Substitution-19268" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-19270" href="../Untyped/#plfa_plfa-part2-Untyped-5893" class="Function">ext</a> <a id="plfa_plfa-part2-Substitution-19274" href="../Substitution/#plfa_plfa-part2-Substitution-19078" class="Bound">ρ′</a><a id="plfa_plfa-part2-Substitution-19276" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-19278" href="https://agda.github.io/agda-stdlib/v1.3/Relation.Binary.PropositionalEquality.Core.html#2634" class="Function">⟩</a>
        <a id="plfa_plfa-part2-Substitution-19288" href="../Untyped/#plfa_plfa-part2-Untyped-6207" class="Function">rename</a> <a id="plfa_plfa-part2-Substitution-19295" class="Symbol">((</a><a id="plfa_plfa-part2-Substitution-19297" href="../Untyped/#plfa_plfa-part2-Untyped-5893" class="Function">ext</a> <a id="plfa_plfa-part2-Substitution-19301" href="../Substitution/#plfa_plfa-part2-Substitution-19075" class="Bound">ρ</a><a id="plfa_plfa-part2-Substitution-19302" class="Symbol">)</a> <a id="plfa_plfa-part2-Substitution-19304" href="https://agda.github.io/agda-stdlib/v1.3/Function.Base.html#992" class="Function Operator">∘</a> <a id="plfa_plfa-part2-Substitution-19306" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-19307" href="../Untyped/#plfa_plfa-part2-Untyped-5893" class="Function">ext</a> <a id="plfa_plfa-part2-Substitution-19311" href="../Substitution/#plfa_plfa-part2-Substitution-19078" class="Bound">ρ′</a><a id="plfa_plfa-part2-Substitution-19313" class="Symbol">))</a> <a id="plfa_plfa-part2-Substitution-19316" href="../Substitution/#plfa_plfa-part2-Substitution-19072" class="Bound">N</a>
      <a id="plfa_plfa-part2-Substitution-19324" href="https://agda.github.io/agda-stdlib/v1.3/Relation.Binary.PropositionalEquality.Core.html#2634" class="Function">≡⟨</a> <a id="plfa_plfa-part2-Substitution-19327" href="../Substitution/#plfa_plfa-part2-Substitution-10390" class="Function">cong-rename</a> <a id="plfa_plfa-part2-Substitution-19339" href="../Substitution/#plfa_plfa-part2-Substitution-18325" class="Function">compose-ext</a> <a id="plfa_plfa-part2-Substitution-19351" href="https://agda.github.io/agda-stdlib/v1.3/Relation.Binary.PropositionalEquality.Core.html#2634" class="Function">⟩</a>
        <a id="plfa_plfa-part2-Substitution-19361" href="../Untyped/#plfa_plfa-part2-Untyped-6207" class="Function">rename</a> <a id="plfa_plfa-part2-Substitution-19368" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-19369" href="../Untyped/#plfa_plfa-part2-Untyped-5893" class="Function">ext</a> <a id="plfa_plfa-part2-Substitution-19373" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-19374" href="../Substitution/#plfa_plfa-part2-Substitution-19075" class="Bound">ρ</a> <a id="plfa_plfa-part2-Substitution-19376" href="https://agda.github.io/agda-stdlib/v1.3/Function.Base.html#992" class="Function Operator">∘</a> <a id="plfa_plfa-part2-Substitution-19378" href="../Substitution/#plfa_plfa-part2-Substitution-19078" class="Bound">ρ′</a><a id="plfa_plfa-part2-Substitution-19380" class="Symbol">))</a> <a id="plfa_plfa-part2-Substitution-19383" href="../Substitution/#plfa_plfa-part2-Substitution-19072" class="Bound">N</a>
      <a id="plfa_plfa-part2-Substitution-19391" href="https://agda.github.io/agda-stdlib/v1.3/Relation.Binary.PropositionalEquality.Core.html#2816" class="Function Operator">∎</a>
<a id="plfa_plfa-part2-Substitution-19393" href="../Substitution/#plfa_plfa-part2-Substitution-18890" class="Function">compose-rename</a> <a id="plfa_plfa-part2-Substitution-19408" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-19409" class="Argument">M</a> <a id="plfa_plfa-part2-Substitution-19411" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-19413" href="../Substitution/#plfa_plfa-part2-Substitution-19413" class="Bound">L</a> <a id="plfa_plfa-part2-Substitution-19415" href="../Untyped/#plfa_plfa-part2-Untyped-4394" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Substitution-19417" href="../Substitution/#plfa_plfa-part2-Substitution-19417" class="Bound">M</a><a id="plfa_plfa-part2-Substitution-19418" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-19420" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-19422" href="https://agda.github.io/agda-stdlib/v1.3/Relation.Binary.PropositionalEquality.html#1524" class="Function">cong₂</a> <a id="plfa_plfa-part2-Substitution-19428" href="../Untyped/#plfa_plfa-part2-Untyped-4394" class="InductiveConstructor Operator">_·_</a> <a id="plfa_plfa-part2-Substitution-19432" href="../Substitution/#plfa_plfa-part2-Substitution-18890" class="Function">compose-rename</a> <a id="plfa_plfa-part2-Substitution-19447" href="../Substitution/#plfa_plfa-part2-Substitution-18890" class="Function">compose-rename</a>
</pre><p>The next lemma states that if a renaming and substitution commute on variables, then they also commute on terms. We explain the proof in detail below.</p><pre class="Agda"><a id="plfa_plfa-part2-Substitution-commute-subst-rename"></a><a id="plfa_plfa-part2-Substitution-19627" href="../Substitution/#plfa_plfa-part2-Substitution-19627" class="Function">commute-subst-rename</a> <a id="plfa_plfa-part2-Substitution-19648" class="Symbol">:</a> <a id="plfa_plfa-part2-Substitution-19650" class="Symbol">∀{</a><a id="plfa_plfa-part2-Substitution-19652" href="../Substitution/#plfa_plfa-part2-Substitution-19652" class="Bound">Γ</a> <a id="plfa_plfa-part2-Substitution-19654" href="../Substitution/#plfa_plfa-part2-Substitution-19654" class="Bound">Δ</a><a id="plfa_plfa-part2-Substitution-19655" class="Symbol">}{</a><a id="plfa_plfa-part2-Substitution-19657" href="../Substitution/#plfa_plfa-part2-Substitution-19657" class="Bound">M</a> <a id="plfa_plfa-part2-Substitution-19659" class="Symbol">:</a> <a id="plfa_plfa-part2-Substitution-19661" href="../Substitution/#plfa_plfa-part2-Substitution-19652" class="Bound">Γ</a> <a id="plfa_plfa-part2-Substitution-19663" href="../Untyped/#plfa_plfa-part2-Untyped-4246" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Substitution-19665" href="../Untyped/#plfa_plfa-part2-Untyped-2820" class="InductiveConstructor">★</a><a id="plfa_plfa-part2-Substitution-19666" class="Symbol">}{</a><a id="plfa_plfa-part2-Substitution-19668" href="../Substitution/#plfa_plfa-part2-Substitution-19668" class="Bound">σ</a> <a id="plfa_plfa-part2-Substitution-19670" class="Symbol">:</a> <a id="plfa_plfa-part2-Substitution-19672" href="../Substitution/#plfa_plfa-part2-Substitution-2341" class="Function">Subst</a> <a id="plfa_plfa-part2-Substitution-19678" href="../Substitution/#plfa_plfa-part2-Substitution-19652" class="Bound">Γ</a> <a id="plfa_plfa-part2-Substitution-19680" href="../Substitution/#plfa_plfa-part2-Substitution-19654" class="Bound">Δ</a><a id="plfa_plfa-part2-Substitution-19681" class="Symbol">}</a>
                        <a id="plfa_plfa-part2-Substitution-19707" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-19708" href="../Substitution/#plfa_plfa-part2-Substitution-19708" class="Bound">ρ</a> <a id="plfa_plfa-part2-Substitution-19710" class="Symbol">:</a> <a id="plfa_plfa-part2-Substitution-19712" class="Symbol">∀{</a><a id="plfa_plfa-part2-Substitution-19714" href="../Substitution/#plfa_plfa-part2-Substitution-19714" class="Bound">Γ</a><a id="plfa_plfa-part2-Substitution-19715" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-19717" class="Symbol">→</a> <a id="plfa_plfa-part2-Substitution-19719" href="../Substitution/#plfa_plfa-part2-Substitution-2124" class="Function">Rename</a> <a id="plfa_plfa-part2-Substitution-19726" href="../Substitution/#plfa_plfa-part2-Substitution-19714" class="Bound">Γ</a> <a id="plfa_plfa-part2-Substitution-19728" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-19729" href="../Substitution/#plfa_plfa-part2-Substitution-19714" class="Bound">Γ</a> <a id="plfa_plfa-part2-Substitution-19731" href="../Untyped/#plfa_plfa-part2-Untyped-3131" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part2-Substitution-19733" href="../Untyped/#plfa_plfa-part2-Untyped-2820" class="InductiveConstructor">★</a><a id="plfa_plfa-part2-Substitution-19734" class="Symbol">)}</a>
     <a id="plfa_plfa-part2-Substitution-19742" class="Symbol">→</a> <a id="plfa_plfa-part2-Substitution-19744" class="Symbol">(∀{</a><a id="plfa_plfa-part2-Substitution-19747" href="../Substitution/#plfa_plfa-part2-Substitution-19747" class="Bound">x</a> <a id="plfa_plfa-part2-Substitution-19749" class="Symbol">:</a> <a id="plfa_plfa-part2-Substitution-19751" href="../Substitution/#plfa_plfa-part2-Substitution-19652" class="Bound">Γ</a> <a id="plfa_plfa-part2-Substitution-19753" href="../Untyped/#plfa_plfa-part2-Untyped-3469" class="Datatype Operator">∋</a> <a id="plfa_plfa-part2-Substitution-19755" href="../Untyped/#plfa_plfa-part2-Untyped-2820" class="InductiveConstructor">★</a><a id="plfa_plfa-part2-Substitution-19756" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-19758" class="Symbol">→</a> <a id="plfa_plfa-part2-Substitution-19760" href="../Untyped/#plfa_plfa-part2-Untyped-6647" class="Function">exts</a> <a id="plfa_plfa-part2-Substitution-19765" href="../Substitution/#plfa_plfa-part2-Substitution-19668" class="Bound">σ</a> <a id="plfa_plfa-part2-Substitution-19767" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-19768" class="Argument">B</a> <a id="plfa_plfa-part2-Substitution-19770" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-19772" href="../Untyped/#plfa_plfa-part2-Untyped-2820" class="InductiveConstructor">★</a><a id="plfa_plfa-part2-Substitution-19773" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-19775" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-19776" href="../Substitution/#plfa_plfa-part2-Substitution-19708" class="Bound">ρ</a> <a id="plfa_plfa-part2-Substitution-19778" href="../Substitution/#plfa_plfa-part2-Substitution-19747" class="Bound">x</a><a id="plfa_plfa-part2-Substitution-19779" class="Symbol">)</a> <a id="plfa_plfa-part2-Substitution-19781" href="https://agda.github.io/agda-stdlib/v1.3/Agda.Builtin.Equality.html#151" class="Datatype Operator">≡</a> <a id="plfa_plfa-part2-Substitution-19783" href="../Untyped/#plfa_plfa-part2-Untyped-6207" class="Function">rename</a> <a id="plfa_plfa-part2-Substitution-19790" href="../Substitution/#plfa_plfa-part2-Substitution-19708" class="Bound">ρ</a> <a id="plfa_plfa-part2-Substitution-19792" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-19793" href="../Substitution/#plfa_plfa-part2-Substitution-19668" class="Bound">σ</a> <a id="plfa_plfa-part2-Substitution-19795" href="../Substitution/#plfa_plfa-part2-Substitution-19747" class="Bound">x</a><a id="plfa_plfa-part2-Substitution-19796" class="Symbol">))</a>
     <a id="plfa_plfa-part2-Substitution-19804" class="Symbol">→</a> <a id="plfa_plfa-part2-Substitution-19806" href="../Untyped/#plfa_plfa-part2-Untyped-6943" class="Function">subst</a> <a id="plfa_plfa-part2-Substitution-19812" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-19813" href="../Untyped/#plfa_plfa-part2-Untyped-6647" class="Function">exts</a> <a id="plfa_plfa-part2-Substitution-19818" href="../Substitution/#plfa_plfa-part2-Substitution-19668" class="Bound">σ</a> <a id="plfa_plfa-part2-Substitution-19820" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-19821" class="Argument">B</a> <a id="plfa_plfa-part2-Substitution-19823" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-19825" href="../Untyped/#plfa_plfa-part2-Untyped-2820" class="InductiveConstructor">★</a><a id="plfa_plfa-part2-Substitution-19826" class="Symbol">})</a> <a id="plfa_plfa-part2-Substitution-19829" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-19830" href="../Untyped/#plfa_plfa-part2-Untyped-6207" class="Function">rename</a> <a id="plfa_plfa-part2-Substitution-19837" href="../Substitution/#plfa_plfa-part2-Substitution-19708" class="Bound">ρ</a> <a id="plfa_plfa-part2-Substitution-19839" href="../Substitution/#plfa_plfa-part2-Substitution-19657" class="Bound">M</a><a id="plfa_plfa-part2-Substitution-19840" class="Symbol">)</a> <a id="plfa_plfa-part2-Substitution-19842" href="https://agda.github.io/agda-stdlib/v1.3/Agda.Builtin.Equality.html#151" class="Datatype Operator">≡</a> <a id="plfa_plfa-part2-Substitution-19844" href="../Untyped/#plfa_plfa-part2-Untyped-6207" class="Function">rename</a> <a id="plfa_plfa-part2-Substitution-19851" href="../Substitution/#plfa_plfa-part2-Substitution-19708" class="Bound">ρ</a> <a id="plfa_plfa-part2-Substitution-19853" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-19854" href="../Untyped/#plfa_plfa-part2-Untyped-6943" class="Function">subst</a> <a id="plfa_plfa-part2-Substitution-19860" href="../Substitution/#plfa_plfa-part2-Substitution-19668" class="Bound">σ</a> <a id="plfa_plfa-part2-Substitution-19862" href="../Substitution/#plfa_plfa-part2-Substitution-19657" class="Bound">M</a><a id="plfa_plfa-part2-Substitution-19863" class="Symbol">)</a>
<a id="plfa_plfa-part2-Substitution-19865" href="../Substitution/#plfa_plfa-part2-Substitution-19627" class="Function">commute-subst-rename</a> <a id="plfa_plfa-part2-Substitution-19886" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-19887" class="Argument">M</a> <a id="plfa_plfa-part2-Substitution-19889" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-19891" href="../Untyped/#plfa_plfa-part2-Untyped-4282" class="InductiveConstructor Operator">`</a> <a id="plfa_plfa-part2-Substitution-19893" href="../Substitution/#plfa_plfa-part2-Substitution-19893" class="Bound">x</a><a id="plfa_plfa-part2-Substitution-19894" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-19896" href="../Substitution/#plfa_plfa-part2-Substitution-19896" class="Bound">r</a> <a id="plfa_plfa-part2-Substitution-19898" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-19900" href="../Substitution/#plfa_plfa-part2-Substitution-19896" class="Bound">r</a>
<a id="plfa_plfa-part2-Substitution-19902" href="../Substitution/#plfa_plfa-part2-Substitution-19627" class="Function">commute-subst-rename</a><a id="plfa_plfa-part2-Substitution-19922" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-19923" href="../Substitution/#plfa_plfa-part2-Substitution-19923" class="Bound">Γ</a><a id="plfa_plfa-part2-Substitution-19924" class="Symbol">}{</a><a id="plfa_plfa-part2-Substitution-19926" href="../Substitution/#plfa_plfa-part2-Substitution-19926" class="Bound">Δ</a><a id="plfa_plfa-part2-Substitution-19927" class="Symbol">}{</a><a id="plfa_plfa-part2-Substitution-19929" href="../Untyped/#plfa_plfa-part2-Untyped-4334" class="InductiveConstructor Operator">ƛ</a> <a id="plfa_plfa-part2-Substitution-19931" href="../Substitution/#plfa_plfa-part2-Substitution-19931" class="Bound">N</a><a id="plfa_plfa-part2-Substitution-19932" class="Symbol">}{</a><a id="plfa_plfa-part2-Substitution-19934" href="../Substitution/#plfa_plfa-part2-Substitution-19934" class="Bound">σ</a><a id="plfa_plfa-part2-Substitution-19935" class="Symbol">}{</a><a id="plfa_plfa-part2-Substitution-19937" href="../Substitution/#plfa_plfa-part2-Substitution-19937" class="Bound">ρ</a><a id="plfa_plfa-part2-Substitution-19938" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-19940" href="../Substitution/#plfa_plfa-part2-Substitution-19940" class="Bound">r</a> <a id="plfa_plfa-part2-Substitution-19942" class="Symbol">=</a>
   <a id="plfa_plfa-part2-Substitution-19947" href="https://agda.github.io/agda-stdlib/v1.3/Relation.Binary.PropositionalEquality.Core.html#1131" class="Function">cong</a> <a id="plfa_plfa-part2-Substitution-19952" href="../Untyped/#plfa_plfa-part2-Untyped-4334" class="InductiveConstructor Operator">ƛ_</a> <a id="plfa_plfa-part2-Substitution-19955" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-19956" href="../Substitution/#plfa_plfa-part2-Substitution-19627" class="Function">commute-subst-rename</a><a id="plfa_plfa-part2-Substitution-19976" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-19977" href="../Substitution/#plfa_plfa-part2-Substitution-19923" class="Bound">Γ</a> <a id="plfa_plfa-part2-Substitution-19979" href="../Untyped/#plfa_plfa-part2-Untyped-3131" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part2-Substitution-19981" href="../Untyped/#plfa_plfa-part2-Untyped-2820" class="InductiveConstructor">★</a><a id="plfa_plfa-part2-Substitution-19982" class="Symbol">}{</a><a id="plfa_plfa-part2-Substitution-19984" href="../Substitution/#plfa_plfa-part2-Substitution-19926" class="Bound">Δ</a> <a id="plfa_plfa-part2-Substitution-19986" href="../Untyped/#plfa_plfa-part2-Untyped-3131" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part2-Substitution-19988" href="../Untyped/#plfa_plfa-part2-Untyped-2820" class="InductiveConstructor">★</a><a id="plfa_plfa-part2-Substitution-19989" class="Symbol">}{</a><a id="plfa_plfa-part2-Substitution-19991" href="../Substitution/#plfa_plfa-part2-Substitution-19931" class="Bound">N</a><a id="plfa_plfa-part2-Substitution-19992" class="Symbol">}</a>
               <a id="plfa_plfa-part2-Substitution-20009" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-20010" href="../Untyped/#plfa_plfa-part2-Untyped-6647" class="Function">exts</a> <a id="plfa_plfa-part2-Substitution-20015" href="../Substitution/#plfa_plfa-part2-Substitution-19934" class="Bound">σ</a><a id="plfa_plfa-part2-Substitution-20016" class="Symbol">}{</a><a id="plfa_plfa-part2-Substitution-20018" class="Argument">ρ</a> <a id="plfa_plfa-part2-Substitution-20020" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-20022" href="../Substitution/#plfa_plfa-part2-Substitution-20055" class="Function">ρ′</a><a id="plfa_plfa-part2-Substitution-20024" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-20026" class="Symbol">(λ</a> <a id="plfa_plfa-part2-Substitution-20029" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-20030" href="../Substitution/#plfa_plfa-part2-Substitution-20030" class="Bound">x</a><a id="plfa_plfa-part2-Substitution-20031" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-20033" class="Symbol">→</a> <a id="plfa_plfa-part2-Substitution-20035" href="../Substitution/#plfa_plfa-part2-Substitution-20128" class="Function">H</a> <a id="plfa_plfa-part2-Substitution-20037" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-20038" href="../Substitution/#plfa_plfa-part2-Substitution-20030" class="Bound">x</a><a id="plfa_plfa-part2-Substitution-20039" class="Symbol">}))</a>
   <a id="plfa_plfa-part2-Substitution-20046" class="Keyword">where</a>
   <a id="plfa_plfa-part2-Substitution-20055" href="../Substitution/#plfa_plfa-part2-Substitution-20055" class="Function">ρ′</a> <a id="plfa_plfa-part2-Substitution-20058" class="Symbol">:</a> <a id="plfa_plfa-part2-Substitution-20060" class="Symbol">∀</a> <a id="plfa_plfa-part2-Substitution-20062" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-20063" href="../Substitution/#plfa_plfa-part2-Substitution-20063" class="Bound">Γ</a><a id="plfa_plfa-part2-Substitution-20064" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-20066" class="Symbol">→</a> <a id="plfa_plfa-part2-Substitution-20068" href="../Substitution/#plfa_plfa-part2-Substitution-2124" class="Function">Rename</a> <a id="plfa_plfa-part2-Substitution-20075" href="../Substitution/#plfa_plfa-part2-Substitution-20063" class="Bound">Γ</a> <a id="plfa_plfa-part2-Substitution-20077" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-20078" href="../Substitution/#plfa_plfa-part2-Substitution-20063" class="Bound">Γ</a> <a id="plfa_plfa-part2-Substitution-20080" href="../Untyped/#plfa_plfa-part2-Untyped-3131" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part2-Substitution-20082" href="../Untyped/#plfa_plfa-part2-Untyped-2820" class="InductiveConstructor">★</a><a id="plfa_plfa-part2-Substitution-20083" class="Symbol">)</a>
   <a id="plfa_plfa-part2-Substitution-20088" href="../Substitution/#plfa_plfa-part2-Substitution-20055" class="Function">ρ′</a> <a id="plfa_plfa-part2-Substitution-20091" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-20092" href="../Untyped/#plfa_plfa-part2-Untyped-3115" class="InductiveConstructor">∅</a><a id="plfa_plfa-part2-Substitution-20093" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-20095" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-20097" class="Symbol">λ</a> <a id="plfa_plfa-part2-Substitution-20099" class="Symbol">()</a>
   <a id="plfa_plfa-part2-Substitution-20105" href="../Substitution/#plfa_plfa-part2-Substitution-20055" class="Function">ρ′</a> <a id="plfa_plfa-part2-Substitution-20108" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-20109" href="../Substitution/#plfa_plfa-part2-Substitution-20109" class="Bound">Γ</a> <a id="plfa_plfa-part2-Substitution-20111" href="../Untyped/#plfa_plfa-part2-Untyped-3131" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part2-Substitution-20113" href="../Untyped/#plfa_plfa-part2-Untyped-2820" class="InductiveConstructor">★</a><a id="plfa_plfa-part2-Substitution-20114" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-20116" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-20118" href="../Untyped/#plfa_plfa-part2-Untyped-5893" class="Function">ext</a> <a id="plfa_plfa-part2-Substitution-20122" href="../Substitution/#plfa_plfa-part2-Substitution-19937" class="Bound">ρ</a>

   <a id="plfa_plfa-part2-Substitution-20128" href="../Substitution/#plfa_plfa-part2-Substitution-20128" class="Function">H</a> <a id="plfa_plfa-part2-Substitution-20130" class="Symbol">:</a> <a id="plfa_plfa-part2-Substitution-20132" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-20133" href="../Substitution/#plfa_plfa-part2-Substitution-20133" class="Bound">x</a> <a id="plfa_plfa-part2-Substitution-20135" class="Symbol">:</a> <a id="plfa_plfa-part2-Substitution-20137" href="../Substitution/#plfa_plfa-part2-Substitution-19923" class="Bound">Γ</a> <a id="plfa_plfa-part2-Substitution-20139" href="../Untyped/#plfa_plfa-part2-Untyped-3131" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part2-Substitution-20141" href="../Untyped/#plfa_plfa-part2-Untyped-2820" class="InductiveConstructor">★</a> <a id="plfa_plfa-part2-Substitution-20143" href="../Untyped/#plfa_plfa-part2-Untyped-3469" class="Datatype Operator">∋</a> <a id="plfa_plfa-part2-Substitution-20145" href="../Untyped/#plfa_plfa-part2-Untyped-2820" class="InductiveConstructor">★</a><a id="plfa_plfa-part2-Substitution-20146" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-20148" class="Symbol">→</a> <a id="plfa_plfa-part2-Substitution-20150" href="../Untyped/#plfa_plfa-part2-Untyped-6647" class="Function">exts</a> <a id="plfa_plfa-part2-Substitution-20155" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-20156" href="../Untyped/#plfa_plfa-part2-Untyped-6647" class="Function">exts</a> <a id="plfa_plfa-part2-Substitution-20161" href="../Substitution/#plfa_plfa-part2-Substitution-19934" class="Bound">σ</a><a id="plfa_plfa-part2-Substitution-20162" class="Symbol">)</a> <a id="plfa_plfa-part2-Substitution-20164" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-20165" href="../Untyped/#plfa_plfa-part2-Untyped-5893" class="Function">ext</a> <a id="plfa_plfa-part2-Substitution-20169" href="../Substitution/#plfa_plfa-part2-Substitution-19937" class="Bound">ρ</a> <a id="plfa_plfa-part2-Substitution-20171" href="../Substitution/#plfa_plfa-part2-Substitution-20133" class="Bound">x</a><a id="plfa_plfa-part2-Substitution-20172" class="Symbol">)</a> <a id="plfa_plfa-part2-Substitution-20174" href="https://agda.github.io/agda-stdlib/v1.3/Agda.Builtin.Equality.html#151" class="Datatype Operator">≡</a> <a id="plfa_plfa-part2-Substitution-20176" href="../Untyped/#plfa_plfa-part2-Untyped-6207" class="Function">rename</a> <a id="plfa_plfa-part2-Substitution-20183" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-20184" href="../Untyped/#plfa_plfa-part2-Untyped-5893" class="Function">ext</a> <a id="plfa_plfa-part2-Substitution-20188" href="../Substitution/#plfa_plfa-part2-Substitution-19937" class="Bound">ρ</a><a id="plfa_plfa-part2-Substitution-20189" class="Symbol">)</a> <a id="plfa_plfa-part2-Substitution-20191" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-20192" href="../Untyped/#plfa_plfa-part2-Untyped-6647" class="Function">exts</a> <a id="plfa_plfa-part2-Substitution-20197" href="../Substitution/#plfa_plfa-part2-Substitution-19934" class="Bound">σ</a> <a id="plfa_plfa-part2-Substitution-20199" href="../Substitution/#plfa_plfa-part2-Substitution-20133" class="Bound">x</a><a id="plfa_plfa-part2-Substitution-20200" class="Symbol">)</a>
   <a id="plfa_plfa-part2-Substitution-20205" href="../Substitution/#plfa_plfa-part2-Substitution-20128" class="Function">H</a> <a id="plfa_plfa-part2-Substitution-20207" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-20208" href="../Untyped/#plfa_plfa-part2-Untyped-3505" class="InductiveConstructor">Z</a><a id="plfa_plfa-part2-Substitution-20209" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-20211" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-20213" href="https://agda.github.io/agda-stdlib/v1.3/Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a>
   <a id="plfa_plfa-part2-Substitution-20221" href="../Substitution/#plfa_plfa-part2-Substitution-20128" class="Function">H</a> <a id="plfa_plfa-part2-Substitution-20223" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-20224" href="../Untyped/#plfa_plfa-part2-Untyped-3550" class="InductiveConstructor Operator">S</a> <a id="plfa_plfa-part2-Substitution-20226" href="../Substitution/#plfa_plfa-part2-Substitution-20226" class="Bound">y</a><a id="plfa_plfa-part2-Substitution-20227" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-20229" class="Symbol">=</a>
     <a id="plfa_plfa-part2-Substitution-20236" href="https://agda.github.io/agda-stdlib/v1.3/Relation.Binary.PropositionalEquality.Core.html#2517" class="Function Operator">begin</a>
       <a id="plfa_plfa-part2-Substitution-20249" href="../Untyped/#plfa_plfa-part2-Untyped-6647" class="Function">exts</a> <a id="plfa_plfa-part2-Substitution-20254" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-20255" href="../Untyped/#plfa_plfa-part2-Untyped-6647" class="Function">exts</a> <a id="plfa_plfa-part2-Substitution-20260" href="../Substitution/#plfa_plfa-part2-Substitution-19934" class="Bound">σ</a><a id="plfa_plfa-part2-Substitution-20261" class="Symbol">)</a> <a id="plfa_plfa-part2-Substitution-20263" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-20264" href="../Untyped/#plfa_plfa-part2-Untyped-5893" class="Function">ext</a> <a id="plfa_plfa-part2-Substitution-20268" href="../Substitution/#plfa_plfa-part2-Substitution-19937" class="Bound">ρ</a> <a id="plfa_plfa-part2-Substitution-20270" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-20271" href="../Untyped/#plfa_plfa-part2-Untyped-3550" class="InductiveConstructor Operator">S</a> <a id="plfa_plfa-part2-Substitution-20273" href="../Substitution/#plfa_plfa-part2-Substitution-20226" class="Bound">y</a><a id="plfa_plfa-part2-Substitution-20274" class="Symbol">))</a>
     <a id="plfa_plfa-part2-Substitution-20282" href="https://agda.github.io/agda-stdlib/v1.3/Relation.Binary.PropositionalEquality.Core.html#2575" class="Function Operator">≡⟨⟩</a>
       <a id="plfa_plfa-part2-Substitution-20293" href="../Untyped/#plfa_plfa-part2-Untyped-6207" class="Function">rename</a> <a id="plfa_plfa-part2-Substitution-20300" href="../Untyped/#plfa_plfa-part2-Untyped-3550" class="InductiveConstructor Operator">S_</a> <a id="plfa_plfa-part2-Substitution-20303" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-20304" href="../Untyped/#plfa_plfa-part2-Untyped-6647" class="Function">exts</a> <a id="plfa_plfa-part2-Substitution-20309" href="../Substitution/#plfa_plfa-part2-Substitution-19934" class="Bound">σ</a> <a id="plfa_plfa-part2-Substitution-20311" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-20312" href="../Substitution/#plfa_plfa-part2-Substitution-19937" class="Bound">ρ</a> <a id="plfa_plfa-part2-Substitution-20314" href="../Substitution/#plfa_plfa-part2-Substitution-20226" class="Bound">y</a><a id="plfa_plfa-part2-Substitution-20315" class="Symbol">))</a>
     <a id="plfa_plfa-part2-Substitution-20323" href="https://agda.github.io/agda-stdlib/v1.3/Relation.Binary.PropositionalEquality.Core.html#2634" class="Function">≡⟨</a> <a id="plfa_plfa-part2-Substitution-20326" href="https://agda.github.io/agda-stdlib/v1.3/Relation.Binary.PropositionalEquality.Core.html#1131" class="Function">cong</a> <a id="plfa_plfa-part2-Substitution-20331" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-20332" href="../Untyped/#plfa_plfa-part2-Untyped-6207" class="Function">rename</a> <a id="plfa_plfa-part2-Substitution-20339" href="../Untyped/#plfa_plfa-part2-Untyped-3550" class="InductiveConstructor Operator">S_</a><a id="plfa_plfa-part2-Substitution-20341" class="Symbol">)</a> <a id="plfa_plfa-part2-Substitution-20343" href="../Substitution/#plfa_plfa-part2-Substitution-19940" class="Bound">r</a> <a id="plfa_plfa-part2-Substitution-20345" href="https://agda.github.io/agda-stdlib/v1.3/Relation.Binary.PropositionalEquality.Core.html#2634" class="Function">⟩</a>
       <a id="plfa_plfa-part2-Substitution-20354" href="../Untyped/#plfa_plfa-part2-Untyped-6207" class="Function">rename</a> <a id="plfa_plfa-part2-Substitution-20361" href="../Untyped/#plfa_plfa-part2-Untyped-3550" class="InductiveConstructor Operator">S_</a> <a id="plfa_plfa-part2-Substitution-20364" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-20365" href="../Untyped/#plfa_plfa-part2-Untyped-6207" class="Function">rename</a> <a id="plfa_plfa-part2-Substitution-20372" href="../Substitution/#plfa_plfa-part2-Substitution-19937" class="Bound">ρ</a> <a id="plfa_plfa-part2-Substitution-20374" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-20375" href="../Substitution/#plfa_plfa-part2-Substitution-19934" class="Bound">σ</a> <a id="plfa_plfa-part2-Substitution-20377" href="../Substitution/#plfa_plfa-part2-Substitution-20226" class="Bound">y</a><a id="plfa_plfa-part2-Substitution-20378" class="Symbol">))</a>
     <a id="plfa_plfa-part2-Substitution-20386" href="https://agda.github.io/agda-stdlib/v1.3/Relation.Binary.PropositionalEquality.Core.html#2634" class="Function">≡⟨</a> <a id="plfa_plfa-part2-Substitution-20389" href="../Substitution/#plfa_plfa-part2-Substitution-18890" class="Function">compose-rename</a> <a id="plfa_plfa-part2-Substitution-20404" href="https://agda.github.io/agda-stdlib/v1.3/Relation.Binary.PropositionalEquality.Core.html#2634" class="Function">⟩</a>
       <a id="plfa_plfa-part2-Substitution-20413" href="../Untyped/#plfa_plfa-part2-Untyped-6207" class="Function">rename</a> <a id="plfa_plfa-part2-Substitution-20420" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-20421" href="../Untyped/#plfa_plfa-part2-Untyped-3550" class="InductiveConstructor Operator">S_</a> <a id="plfa_plfa-part2-Substitution-20424" href="https://agda.github.io/agda-stdlib/v1.3/Function.Base.html#992" class="Function Operator">∘</a> <a id="plfa_plfa-part2-Substitution-20426" href="../Substitution/#plfa_plfa-part2-Substitution-19937" class="Bound">ρ</a><a id="plfa_plfa-part2-Substitution-20427" class="Symbol">)</a> <a id="plfa_plfa-part2-Substitution-20429" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-20430" href="../Substitution/#plfa_plfa-part2-Substitution-19934" class="Bound">σ</a> <a id="plfa_plfa-part2-Substitution-20432" href="../Substitution/#plfa_plfa-part2-Substitution-20226" class="Bound">y</a><a id="plfa_plfa-part2-Substitution-20433" class="Symbol">)</a>
     <a id="plfa_plfa-part2-Substitution-20440" href="https://agda.github.io/agda-stdlib/v1.3/Relation.Binary.PropositionalEquality.Core.html#2634" class="Function">≡⟨</a> <a id="plfa_plfa-part2-Substitution-20443" href="../Substitution/#plfa_plfa-part2-Substitution-10390" class="Function">cong-rename</a> <a id="plfa_plfa-part2-Substitution-20455" href="https://agda.github.io/agda-stdlib/v1.3/Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a> <a id="plfa_plfa-part2-Substitution-20460" href="https://agda.github.io/agda-stdlib/v1.3/Relation.Binary.PropositionalEquality.Core.html#2634" class="Function">⟩</a>
       <a id="plfa_plfa-part2-Substitution-20469" href="../Untyped/#plfa_plfa-part2-Untyped-6207" class="Function">rename</a> <a id="plfa_plfa-part2-Substitution-20476" class="Symbol">((</a><a id="plfa_plfa-part2-Substitution-20478" href="../Untyped/#plfa_plfa-part2-Untyped-5893" class="Function">ext</a> <a id="plfa_plfa-part2-Substitution-20482" href="../Substitution/#plfa_plfa-part2-Substitution-19937" class="Bound">ρ</a><a id="plfa_plfa-part2-Substitution-20483" class="Symbol">)</a> <a id="plfa_plfa-part2-Substitution-20485" href="https://agda.github.io/agda-stdlib/v1.3/Function.Base.html#992" class="Function Operator">∘</a> <a id="plfa_plfa-part2-Substitution-20487" href="../Untyped/#plfa_plfa-part2-Untyped-3550" class="InductiveConstructor Operator">S_</a><a id="plfa_plfa-part2-Substitution-20489" class="Symbol">)</a> <a id="plfa_plfa-part2-Substitution-20491" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-20492" href="../Substitution/#plfa_plfa-part2-Substitution-19934" class="Bound">σ</a> <a id="plfa_plfa-part2-Substitution-20494" href="../Substitution/#plfa_plfa-part2-Substitution-20226" class="Bound">y</a><a id="plfa_plfa-part2-Substitution-20495" class="Symbol">)</a>
     <a id="plfa_plfa-part2-Substitution-20502" href="https://agda.github.io/agda-stdlib/v1.3/Relation.Binary.PropositionalEquality.Core.html#2634" class="Function">≡⟨</a> <a id="plfa_plfa-part2-Substitution-20505" href="https://agda.github.io/agda-stdlib/v1.3/Relation.Binary.PropositionalEquality.Core.html#980" class="Function">sym</a> <a id="plfa_plfa-part2-Substitution-20509" href="../Substitution/#plfa_plfa-part2-Substitution-18890" class="Function">compose-rename</a> <a id="plfa_plfa-part2-Substitution-20524" href="https://agda.github.io/agda-stdlib/v1.3/Relation.Binary.PropositionalEquality.Core.html#2634" class="Function">⟩</a>
       <a id="plfa_plfa-part2-Substitution-20533" href="../Untyped/#plfa_plfa-part2-Untyped-6207" class="Function">rename</a> <a id="plfa_plfa-part2-Substitution-20540" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-20541" href="../Untyped/#plfa_plfa-part2-Untyped-5893" class="Function">ext</a> <a id="plfa_plfa-part2-Substitution-20545" href="../Substitution/#plfa_plfa-part2-Substitution-19937" class="Bound">ρ</a><a id="plfa_plfa-part2-Substitution-20546" class="Symbol">)</a> <a id="plfa_plfa-part2-Substitution-20548" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-20549" href="../Untyped/#plfa_plfa-part2-Untyped-6207" class="Function">rename</a> <a id="plfa_plfa-part2-Substitution-20556" href="../Untyped/#plfa_plfa-part2-Untyped-3550" class="InductiveConstructor Operator">S_</a> <a id="plfa_plfa-part2-Substitution-20559" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-20560" href="../Substitution/#plfa_plfa-part2-Substitution-19934" class="Bound">σ</a> <a id="plfa_plfa-part2-Substitution-20562" href="../Substitution/#plfa_plfa-part2-Substitution-20226" class="Bound">y</a><a id="plfa_plfa-part2-Substitution-20563" class="Symbol">))</a>
     <a id="plfa_plfa-part2-Substitution-20571" href="https://agda.github.io/agda-stdlib/v1.3/Relation.Binary.PropositionalEquality.Core.html#2575" class="Function Operator">≡⟨⟩</a>
       <a id="plfa_plfa-part2-Substitution-20582" href="../Untyped/#plfa_plfa-part2-Untyped-6207" class="Function">rename</a> <a id="plfa_plfa-part2-Substitution-20589" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-20590" href="../Untyped/#plfa_plfa-part2-Untyped-5893" class="Function">ext</a> <a id="plfa_plfa-part2-Substitution-20594" href="../Substitution/#plfa_plfa-part2-Substitution-19937" class="Bound">ρ</a><a id="plfa_plfa-part2-Substitution-20595" class="Symbol">)</a> <a id="plfa_plfa-part2-Substitution-20597" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-20598" href="../Untyped/#plfa_plfa-part2-Untyped-6647" class="Function">exts</a> <a id="plfa_plfa-part2-Substitution-20603" href="../Substitution/#plfa_plfa-part2-Substitution-19934" class="Bound">σ</a> <a id="plfa_plfa-part2-Substitution-20605" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-20606" href="../Untyped/#plfa_plfa-part2-Untyped-3550" class="InductiveConstructor Operator">S</a> <a id="plfa_plfa-part2-Substitution-20608" href="../Substitution/#plfa_plfa-part2-Substitution-20226" class="Bound">y</a><a id="plfa_plfa-part2-Substitution-20609" class="Symbol">))</a>
     <a id="plfa_plfa-part2-Substitution-20617" href="https://agda.github.io/agda-stdlib/v1.3/Relation.Binary.PropositionalEquality.Core.html#2816" class="Function Operator">∎</a>
<a id="plfa_plfa-part2-Substitution-20619" href="../Substitution/#plfa_plfa-part2-Substitution-19627" class="Function">commute-subst-rename</a> <a id="plfa_plfa-part2-Substitution-20640" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-20641" class="Argument">M</a> <a id="plfa_plfa-part2-Substitution-20643" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-20645" href="../Substitution/#plfa_plfa-part2-Substitution-20645" class="Bound">L</a> <a id="plfa_plfa-part2-Substitution-20647" href="../Untyped/#plfa_plfa-part2-Untyped-4394" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Substitution-20649" href="../Substitution/#plfa_plfa-part2-Substitution-20649" class="Bound">M</a><a id="plfa_plfa-part2-Substitution-20650" class="Symbol">}{</a><a id="plfa_plfa-part2-Substitution-20652" class="Argument">ρ</a> <a id="plfa_plfa-part2-Substitution-20654" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-20656" href="../Substitution/#plfa_plfa-part2-Substitution-20656" class="Bound">ρ</a><a id="plfa_plfa-part2-Substitution-20657" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-20659" href="../Substitution/#plfa_plfa-part2-Substitution-20659" class="Bound">r</a> <a id="plfa_plfa-part2-Substitution-20661" class="Symbol">=</a>
   <a id="plfa_plfa-part2-Substitution-20666" href="https://agda.github.io/agda-stdlib/v1.3/Relation.Binary.PropositionalEquality.html#1524" class="Function">cong₂</a> <a id="plfa_plfa-part2-Substitution-20672" href="../Untyped/#plfa_plfa-part2-Untyped-4394" class="InductiveConstructor Operator">_·_</a> <a id="plfa_plfa-part2-Substitution-20676" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-20677" href="../Substitution/#plfa_plfa-part2-Substitution-19627" class="Function">commute-subst-rename</a><a id="plfa_plfa-part2-Substitution-20697" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-20698" class="Argument">M</a> <a id="plfa_plfa-part2-Substitution-20700" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-20702" href="../Substitution/#plfa_plfa-part2-Substitution-20645" class="Bound">L</a><a id="plfa_plfa-part2-Substitution-20703" class="Symbol">}{</a><a id="plfa_plfa-part2-Substitution-20705" class="Argument">ρ</a> <a id="plfa_plfa-part2-Substitution-20707" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-20709" href="../Substitution/#plfa_plfa-part2-Substitution-20656" class="Bound">ρ</a><a id="plfa_plfa-part2-Substitution-20710" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-20712" href="../Substitution/#plfa_plfa-part2-Substitution-20659" class="Bound">r</a><a id="plfa_plfa-part2-Substitution-20713" class="Symbol">)</a>
             <a id="plfa_plfa-part2-Substitution-20728" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-20729" href="../Substitution/#plfa_plfa-part2-Substitution-19627" class="Function">commute-subst-rename</a><a id="plfa_plfa-part2-Substitution-20749" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-20750" class="Argument">M</a> <a id="plfa_plfa-part2-Substitution-20752" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-20754" href="../Substitution/#plfa_plfa-part2-Substitution-20649" class="Bound">M</a><a id="plfa_plfa-part2-Substitution-20755" class="Symbol">}{</a><a id="plfa_plfa-part2-Substitution-20757" class="Argument">ρ</a> <a id="plfa_plfa-part2-Substitution-20759" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-20761" href="../Substitution/#plfa_plfa-part2-Substitution-20656" class="Bound">ρ</a><a id="plfa_plfa-part2-Substitution-20762" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-20764" href="../Substitution/#plfa_plfa-part2-Substitution-20659" class="Bound">r</a><a id="plfa_plfa-part2-Substitution-20765" class="Symbol">)</a>
</pre><p>The proof is by induction on the term <code>M</code>.</p><ul><li><p>If <code>M</code> is a variable, then we use the premise to conclude.</p></li><li><p>If <code>M ≡ ƛ N</code>, we conclude using the induction hypothesis for <code>N</code>. However, to use the induction hypothesis, we must show that</p><pre><code>  exts (exts σ) (ext ρ x) ≡ rename (ext ρ) (exts σ x)</code></pre><p>We prove this equation by cases on x.</p><ul><li><p>If <code>x = Z</code>, the two sides are equal by definition.</p></li><li><p>If <code>x = S y</code>, we obtain the goal by the following equational reasoning.</p><pre><code>  exts (exts σ) (ext ρ (S y))
≡ rename S_ (exts σ (ρ y))
≡ rename S_ (rename S_ (σ (ρ y)      (by the premise)
≡ rename (ext ρ) (exts σ (S y))      (by compose-rename)
≡ rename ((ext ρ) ∘ S_) (σ y)
≡ rename (ext ρ) (rename S_ (σ y))   (by compose-rename)
≡ rename (ext ρ) (exts σ (S y))</code></pre></li></ul></li><li><p>If <code>M</code> is an application, we obtain the goal using the induction hypothesis for each subterm.</p></li></ul><p>The last lemma needed to prove <code>sub-sub</code> states that the <code>exts</code> function distributes with sequencing. It is a corollary of <code>commute-subst-rename</code> as described below. (It would have been nicer to prove this directly by equational reasoning in the σ algebra, but that would require the <code>sub-assoc</code> equation, whose proof depends on <code>sub-sub</code>, which in turn depends on this lemma.)</p><pre class="Agda"><a id="plfa_plfa-part2-Substitution-exts-seq"></a><a id="plfa_plfa-part2-Substitution-22096" href="../Substitution/#plfa_plfa-part2-Substitution-22096" class="Function">exts-seq</a> <a id="plfa_plfa-part2-Substitution-22105" class="Symbol">:</a> <a id="plfa_plfa-part2-Substitution-22107" class="Symbol">∀{</a><a id="plfa_plfa-part2-Substitution-22109" href="../Substitution/#plfa_plfa-part2-Substitution-22109" class="Bound">Γ</a> <a id="plfa_plfa-part2-Substitution-22111" href="../Substitution/#plfa_plfa-part2-Substitution-22111" class="Bound">Δ</a> <a id="plfa_plfa-part2-Substitution-22113" href="../Substitution/#plfa_plfa-part2-Substitution-22113" class="Bound">Δ′</a><a id="plfa_plfa-part2-Substitution-22115" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-22117" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-22118" href="../Substitution/#plfa_plfa-part2-Substitution-22118" class="Bound">σ₁</a> <a id="plfa_plfa-part2-Substitution-22121" class="Symbol">:</a> <a id="plfa_plfa-part2-Substitution-22123" href="../Substitution/#plfa_plfa-part2-Substitution-2341" class="Function">Subst</a> <a id="plfa_plfa-part2-Substitution-22129" href="../Substitution/#plfa_plfa-part2-Substitution-22109" class="Bound">Γ</a> <a id="plfa_plfa-part2-Substitution-22131" href="../Substitution/#plfa_plfa-part2-Substitution-22111" class="Bound">Δ</a><a id="plfa_plfa-part2-Substitution-22132" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-22134" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-22135" href="../Substitution/#plfa_plfa-part2-Substitution-22135" class="Bound">σ₂</a> <a id="plfa_plfa-part2-Substitution-22138" class="Symbol">:</a> <a id="plfa_plfa-part2-Substitution-22140" href="../Substitution/#plfa_plfa-part2-Substitution-2341" class="Function">Subst</a> <a id="plfa_plfa-part2-Substitution-22146" href="../Substitution/#plfa_plfa-part2-Substitution-22111" class="Bound">Δ</a> <a id="plfa_plfa-part2-Substitution-22148" href="../Substitution/#plfa_plfa-part2-Substitution-22113" class="Bound">Δ′</a><a id="plfa_plfa-part2-Substitution-22150" class="Symbol">}</a>
         <a id="plfa_plfa-part2-Substitution-22161" class="Symbol">→</a> <a id="plfa_plfa-part2-Substitution-22163" class="Symbol">∀</a> <a id="plfa_plfa-part2-Substitution-22165" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-22166" href="../Substitution/#plfa_plfa-part2-Substitution-22166" class="Bound">A</a><a id="plfa_plfa-part2-Substitution-22167" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-22169" class="Symbol">→</a> <a id="plfa_plfa-part2-Substitution-22171" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-22172" href="../Untyped/#plfa_plfa-part2-Untyped-6647" class="Function">exts</a> <a id="plfa_plfa-part2-Substitution-22177" href="../Substitution/#plfa_plfa-part2-Substitution-22118" class="Bound">σ₁</a> <a id="plfa_plfa-part2-Substitution-22180" href="../Substitution/#plfa_plfa-part2-Substitution-3740" class="Function Operator">⨟</a> <a id="plfa_plfa-part2-Substitution-22182" href="../Untyped/#plfa_plfa-part2-Untyped-6647" class="Function">exts</a> <a id="plfa_plfa-part2-Substitution-22187" href="../Substitution/#plfa_plfa-part2-Substitution-22135" class="Bound">σ₂</a><a id="plfa_plfa-part2-Substitution-22189" class="Symbol">)</a> <a id="plfa_plfa-part2-Substitution-22191" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-22192" href="../Substitution/#plfa_plfa-part2-Substitution-22166" class="Bound">A</a><a id="plfa_plfa-part2-Substitution-22193" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-22195" href="https://agda.github.io/agda-stdlib/v1.3/Agda.Builtin.Equality.html#151" class="Datatype Operator">≡</a> <a id="plfa_plfa-part2-Substitution-22197" href="../Untyped/#plfa_plfa-part2-Untyped-6647" class="Function">exts</a> <a id="plfa_plfa-part2-Substitution-22202" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-22203" href="../Substitution/#plfa_plfa-part2-Substitution-22118" class="Bound">σ₁</a> <a id="plfa_plfa-part2-Substitution-22206" href="../Substitution/#plfa_plfa-part2-Substitution-3740" class="Function Operator">⨟</a> <a id="plfa_plfa-part2-Substitution-22208" href="../Substitution/#plfa_plfa-part2-Substitution-22135" class="Bound">σ₂</a><a id="plfa_plfa-part2-Substitution-22210" class="Symbol">)</a>
<a id="plfa_plfa-part2-Substitution-22212" href="../Substitution/#plfa_plfa-part2-Substitution-22096" class="Function">exts-seq</a> <a id="plfa_plfa-part2-Substitution-22221" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-22223" href="../Substitution/#plfa_plfa-part2-Substitution-1855" class="Postulate">extensionality</a> <a id="plfa_plfa-part2-Substitution-22238" class="Symbol">λ</a> <a id="plfa_plfa-part2-Substitution-22240" href="../Substitution/#plfa_plfa-part2-Substitution-22240" class="Bound">x</a> <a id="plfa_plfa-part2-Substitution-22242" class="Symbol">→</a> <a id="plfa_plfa-part2-Substitution-22244" href="../Substitution/#plfa_plfa-part2-Substitution-22268" class="Function">lemma</a> <a id="plfa_plfa-part2-Substitution-22250" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-22251" class="Argument">x</a> <a id="plfa_plfa-part2-Substitution-22253" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-22255" href="../Substitution/#plfa_plfa-part2-Substitution-22240" class="Bound">x</a><a id="plfa_plfa-part2-Substitution-22256" class="Symbol">}</a>
  <a id="plfa_plfa-part2-Substitution-22260" class="Keyword">where</a>
  <a id="plfa_plfa-part2-Substitution-22268" href="../Substitution/#plfa_plfa-part2-Substitution-22268" class="Function">lemma</a> <a id="plfa_plfa-part2-Substitution-22274" class="Symbol">:</a> <a id="plfa_plfa-part2-Substitution-22276" class="Symbol">∀{</a><a id="plfa_plfa-part2-Substitution-22278" href="../Substitution/#plfa_plfa-part2-Substitution-22278" class="Bound">Γ</a> <a id="plfa_plfa-part2-Substitution-22280" href="../Substitution/#plfa_plfa-part2-Substitution-22280" class="Bound">Δ</a> <a id="plfa_plfa-part2-Substitution-22282" href="../Substitution/#plfa_plfa-part2-Substitution-22282" class="Bound">Δ′</a><a id="plfa_plfa-part2-Substitution-22284" class="Symbol">}{</a><a id="plfa_plfa-part2-Substitution-22286" href="../Substitution/#plfa_plfa-part2-Substitution-22286" class="Bound">A</a><a id="plfa_plfa-part2-Substitution-22287" class="Symbol">}{</a><a id="plfa_plfa-part2-Substitution-22289" href="../Substitution/#plfa_plfa-part2-Substitution-22289" class="Bound">x</a> <a id="plfa_plfa-part2-Substitution-22291" class="Symbol">:</a> <a id="plfa_plfa-part2-Substitution-22293" href="../Substitution/#plfa_plfa-part2-Substitution-22278" class="Bound">Γ</a> <a id="plfa_plfa-part2-Substitution-22295" href="../Untyped/#plfa_plfa-part2-Untyped-3131" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part2-Substitution-22297" href="../Untyped/#plfa_plfa-part2-Untyped-2820" class="InductiveConstructor">★</a> <a id="plfa_plfa-part2-Substitution-22299" href="../Untyped/#plfa_plfa-part2-Untyped-3469" class="Datatype Operator">∋</a> <a id="plfa_plfa-part2-Substitution-22301" href="../Substitution/#plfa_plfa-part2-Substitution-22286" class="Bound">A</a><a id="plfa_plfa-part2-Substitution-22302" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-22304" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-22305" href="../Substitution/#plfa_plfa-part2-Substitution-22305" class="Bound">σ₁</a> <a id="plfa_plfa-part2-Substitution-22308" class="Symbol">:</a> <a id="plfa_plfa-part2-Substitution-22310" href="../Substitution/#plfa_plfa-part2-Substitution-2341" class="Function">Subst</a> <a id="plfa_plfa-part2-Substitution-22316" href="../Substitution/#plfa_plfa-part2-Substitution-22278" class="Bound">Γ</a> <a id="plfa_plfa-part2-Substitution-22318" href="../Substitution/#plfa_plfa-part2-Substitution-22280" class="Bound">Δ</a><a id="plfa_plfa-part2-Substitution-22319" class="Symbol">}{</a><a id="plfa_plfa-part2-Substitution-22321" href="../Substitution/#plfa_plfa-part2-Substitution-22321" class="Bound">σ₂</a> <a id="plfa_plfa-part2-Substitution-22324" class="Symbol">:</a> <a id="plfa_plfa-part2-Substitution-22326" href="../Substitution/#plfa_plfa-part2-Substitution-2341" class="Function">Subst</a> <a id="plfa_plfa-part2-Substitution-22332" href="../Substitution/#plfa_plfa-part2-Substitution-22280" class="Bound">Δ</a> <a id="plfa_plfa-part2-Substitution-22334" href="../Substitution/#plfa_plfa-part2-Substitution-22282" class="Bound">Δ′</a><a id="plfa_plfa-part2-Substitution-22336" class="Symbol">}</a>
     <a id="plfa_plfa-part2-Substitution-22343" class="Symbol">→</a> <a id="plfa_plfa-part2-Substitution-22345" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-22346" href="../Untyped/#plfa_plfa-part2-Untyped-6647" class="Function">exts</a> <a id="plfa_plfa-part2-Substitution-22351" href="../Substitution/#plfa_plfa-part2-Substitution-22305" class="Bound">σ₁</a> <a id="plfa_plfa-part2-Substitution-22354" href="../Substitution/#plfa_plfa-part2-Substitution-3740" class="Function Operator">⨟</a> <a id="plfa_plfa-part2-Substitution-22356" href="../Untyped/#plfa_plfa-part2-Untyped-6647" class="Function">exts</a> <a id="plfa_plfa-part2-Substitution-22361" href="../Substitution/#plfa_plfa-part2-Substitution-22321" class="Bound">σ₂</a><a id="plfa_plfa-part2-Substitution-22363" class="Symbol">)</a> <a id="plfa_plfa-part2-Substitution-22365" href="../Substitution/#plfa_plfa-part2-Substitution-22289" class="Bound">x</a> <a id="plfa_plfa-part2-Substitution-22367" href="https://agda.github.io/agda-stdlib/v1.3/Agda.Builtin.Equality.html#151" class="Datatype Operator">≡</a> <a id="plfa_plfa-part2-Substitution-22369" href="../Untyped/#plfa_plfa-part2-Untyped-6647" class="Function">exts</a> <a id="plfa_plfa-part2-Substitution-22374" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-22375" href="../Substitution/#plfa_plfa-part2-Substitution-22305" class="Bound">σ₁</a> <a id="plfa_plfa-part2-Substitution-22378" href="../Substitution/#plfa_plfa-part2-Substitution-3740" class="Function Operator">⨟</a> <a id="plfa_plfa-part2-Substitution-22380" href="../Substitution/#plfa_plfa-part2-Substitution-22321" class="Bound">σ₂</a><a id="plfa_plfa-part2-Substitution-22382" class="Symbol">)</a> <a id="plfa_plfa-part2-Substitution-22384" href="../Substitution/#plfa_plfa-part2-Substitution-22289" class="Bound">x</a>
  <a id="plfa_plfa-part2-Substitution-22388" href="../Substitution/#plfa_plfa-part2-Substitution-22268" class="Function">lemma</a> <a id="plfa_plfa-part2-Substitution-22394" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-22395" class="Argument">x</a> <a id="plfa_plfa-part2-Substitution-22397" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-22399" href="../Untyped/#plfa_plfa-part2-Untyped-3505" class="InductiveConstructor">Z</a><a id="plfa_plfa-part2-Substitution-22400" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-22402" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-22404" href="https://agda.github.io/agda-stdlib/v1.3/Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a>
  <a id="plfa_plfa-part2-Substitution-22411" href="../Substitution/#plfa_plfa-part2-Substitution-22268" class="Function">lemma</a> <a id="plfa_plfa-part2-Substitution-22417" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-22418" class="Argument">A</a> <a id="plfa_plfa-part2-Substitution-22420" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-22422" href="../Untyped/#plfa_plfa-part2-Untyped-2820" class="InductiveConstructor">★</a><a id="plfa_plfa-part2-Substitution-22423" class="Symbol">}{</a><a id="plfa_plfa-part2-Substitution-22425" class="Argument">x</a> <a id="plfa_plfa-part2-Substitution-22427" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-22429" href="../Untyped/#plfa_plfa-part2-Untyped-3550" class="InductiveConstructor Operator">S</a> <a id="plfa_plfa-part2-Substitution-22431" href="../Substitution/#plfa_plfa-part2-Substitution-22431" class="Bound">x</a><a id="plfa_plfa-part2-Substitution-22432" class="Symbol">}{</a><a id="plfa_plfa-part2-Substitution-22434" href="../Substitution/#plfa_plfa-part2-Substitution-22434" class="Bound">σ₁</a><a id="plfa_plfa-part2-Substitution-22436" class="Symbol">}{</a><a id="plfa_plfa-part2-Substitution-22438" href="../Substitution/#plfa_plfa-part2-Substitution-22438" class="Bound">σ₂</a><a id="plfa_plfa-part2-Substitution-22440" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-22442" class="Symbol">=</a>
     <a id="plfa_plfa-part2-Substitution-22449" href="https://agda.github.io/agda-stdlib/v1.3/Relation.Binary.PropositionalEquality.Core.html#2517" class="Function Operator">begin</a>
       <a id="plfa_plfa-part2-Substitution-22462" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-22463" href="../Untyped/#plfa_plfa-part2-Untyped-6647" class="Function">exts</a> <a id="plfa_plfa-part2-Substitution-22468" href="../Substitution/#plfa_plfa-part2-Substitution-22434" class="Bound">σ₁</a> <a id="plfa_plfa-part2-Substitution-22471" href="../Substitution/#plfa_plfa-part2-Substitution-3740" class="Function Operator">⨟</a> <a id="plfa_plfa-part2-Substitution-22473" href="../Untyped/#plfa_plfa-part2-Untyped-6647" class="Function">exts</a> <a id="plfa_plfa-part2-Substitution-22478" href="../Substitution/#plfa_plfa-part2-Substitution-22438" class="Bound">σ₂</a><a id="plfa_plfa-part2-Substitution-22480" class="Symbol">)</a> <a id="plfa_plfa-part2-Substitution-22482" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-22483" href="../Untyped/#plfa_plfa-part2-Untyped-3550" class="InductiveConstructor Operator">S</a> <a id="plfa_plfa-part2-Substitution-22485" href="../Substitution/#plfa_plfa-part2-Substitution-22431" class="Bound">x</a><a id="plfa_plfa-part2-Substitution-22486" class="Symbol">)</a>
     <a id="plfa_plfa-part2-Substitution-22493" href="https://agda.github.io/agda-stdlib/v1.3/Relation.Binary.PropositionalEquality.Core.html#2575" class="Function Operator">≡⟨⟩</a>
       <a id="plfa_plfa-part2-Substitution-22504" href="../Substitution/#plfa_plfa-part2-Substitution-2490" class="Function Operator">⟪</a> <a id="plfa_plfa-part2-Substitution-22506" href="../Untyped/#plfa_plfa-part2-Untyped-6647" class="Function">exts</a> <a id="plfa_plfa-part2-Substitution-22511" href="../Substitution/#plfa_plfa-part2-Substitution-22438" class="Bound">σ₂</a> <a id="plfa_plfa-part2-Substitution-22514" href="../Substitution/#plfa_plfa-part2-Substitution-2490" class="Function Operator">⟫</a> <a id="plfa_plfa-part2-Substitution-22516" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-22517" href="../Untyped/#plfa_plfa-part2-Untyped-6207" class="Function">rename</a> <a id="plfa_plfa-part2-Substitution-22524" href="../Untyped/#plfa_plfa-part2-Untyped-3550" class="InductiveConstructor Operator">S_</a> <a id="plfa_plfa-part2-Substitution-22527" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-22528" href="../Substitution/#plfa_plfa-part2-Substitution-22434" class="Bound">σ₁</a> <a id="plfa_plfa-part2-Substitution-22531" href="../Substitution/#plfa_plfa-part2-Substitution-22431" class="Bound">x</a><a id="plfa_plfa-part2-Substitution-22532" class="Symbol">))</a>
     <a id="plfa_plfa-part2-Substitution-22540" href="https://agda.github.io/agda-stdlib/v1.3/Relation.Binary.PropositionalEquality.Core.html#2634" class="Function">≡⟨</a> <a id="plfa_plfa-part2-Substitution-22543" href="../Substitution/#plfa_plfa-part2-Substitution-19627" class="Function">commute-subst-rename</a><a id="plfa_plfa-part2-Substitution-22563" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-22564" class="Argument">M</a> <a id="plfa_plfa-part2-Substitution-22566" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-22568" href="../Substitution/#plfa_plfa-part2-Substitution-22434" class="Bound">σ₁</a> <a id="plfa_plfa-part2-Substitution-22571" href="../Substitution/#plfa_plfa-part2-Substitution-22431" class="Bound">x</a><a id="plfa_plfa-part2-Substitution-22572" class="Symbol">}{</a><a id="plfa_plfa-part2-Substitution-22574" class="Argument">σ</a> <a id="plfa_plfa-part2-Substitution-22576" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-22578" href="../Substitution/#plfa_plfa-part2-Substitution-22438" class="Bound">σ₂</a><a id="plfa_plfa-part2-Substitution-22580" class="Symbol">}{</a><a id="plfa_plfa-part2-Substitution-22582" class="Argument">ρ</a> <a id="plfa_plfa-part2-Substitution-22584" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-22586" href="../Untyped/#plfa_plfa-part2-Untyped-3550" class="InductiveConstructor Operator">S_</a><a id="plfa_plfa-part2-Substitution-22588" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-22590" href="https://agda.github.io/agda-stdlib/v1.3/Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a> <a id="plfa_plfa-part2-Substitution-22595" href="https://agda.github.io/agda-stdlib/v1.3/Relation.Binary.PropositionalEquality.Core.html#2634" class="Function">⟩</a>
       <a id="plfa_plfa-part2-Substitution-22604" href="../Untyped/#plfa_plfa-part2-Untyped-6207" class="Function">rename</a> <a id="plfa_plfa-part2-Substitution-22611" href="../Untyped/#plfa_plfa-part2-Untyped-3550" class="InductiveConstructor Operator">S_</a> <a id="plfa_plfa-part2-Substitution-22614" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-22615" href="../Substitution/#plfa_plfa-part2-Substitution-2490" class="Function Operator">⟪</a> <a id="plfa_plfa-part2-Substitution-22617" href="../Substitution/#plfa_plfa-part2-Substitution-22438" class="Bound">σ₂</a> <a id="plfa_plfa-part2-Substitution-22620" href="../Substitution/#plfa_plfa-part2-Substitution-2490" class="Function Operator">⟫</a> <a id="plfa_plfa-part2-Substitution-22622" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-22623" href="../Substitution/#plfa_plfa-part2-Substitution-22434" class="Bound">σ₁</a> <a id="plfa_plfa-part2-Substitution-22626" href="../Substitution/#plfa_plfa-part2-Substitution-22431" class="Bound">x</a><a id="plfa_plfa-part2-Substitution-22627" class="Symbol">))</a>
     <a id="plfa_plfa-part2-Substitution-22635" href="https://agda.github.io/agda-stdlib/v1.3/Relation.Binary.PropositionalEquality.Core.html#2575" class="Function Operator">≡⟨⟩</a>
       <a id="plfa_plfa-part2-Substitution-22646" href="../Untyped/#plfa_plfa-part2-Untyped-6207" class="Function">rename</a> <a id="plfa_plfa-part2-Substitution-22653" href="../Untyped/#plfa_plfa-part2-Untyped-3550" class="InductiveConstructor Operator">S_</a> <a id="plfa_plfa-part2-Substitution-22656" class="Symbol">((</a><a id="plfa_plfa-part2-Substitution-22658" href="../Substitution/#plfa_plfa-part2-Substitution-22434" class="Bound">σ₁</a> <a id="plfa_plfa-part2-Substitution-22661" href="../Substitution/#plfa_plfa-part2-Substitution-3740" class="Function Operator">⨟</a> <a id="plfa_plfa-part2-Substitution-22663" href="../Substitution/#plfa_plfa-part2-Substitution-22438" class="Bound">σ₂</a><a id="plfa_plfa-part2-Substitution-22665" class="Symbol">)</a> <a id="plfa_plfa-part2-Substitution-22667" href="../Substitution/#plfa_plfa-part2-Substitution-22431" class="Bound">x</a><a id="plfa_plfa-part2-Substitution-22668" class="Symbol">)</a>
     <a id="plfa_plfa-part2-Substitution-22675" href="https://agda.github.io/agda-stdlib/v1.3/Relation.Binary.PropositionalEquality.Core.html#2816" class="Function Operator">∎</a>
</pre><p>The proof proceed by cases on <code>x</code>.</p><ul><li><p>If <code>x = Z</code>, the two sides are equal by the definition of <code>exts</code> and sequencing.</p></li><li><p>If <code>x = S x</code>, we unfold the first use of <code>exts</code> and sequencing, then apply the lemma <code>commute-subst-rename</code>. We conclude by the definition of sequencing.</p></li></ul><p>Now we come to the proof of <code>sub-sub</code>, which we explain below.</p><pre class="Agda"><a id="plfa_plfa-part2-Substitution-sub-sub"></a><a id="plfa_plfa-part2-Substitution-23037" href="../Substitution/#plfa_plfa-part2-Substitution-23037" class="Function">sub-sub</a> <a id="plfa_plfa-part2-Substitution-23045" class="Symbol">:</a> <a id="plfa_plfa-part2-Substitution-23047" class="Symbol">∀{</a><a id="plfa_plfa-part2-Substitution-23049" href="../Substitution/#plfa_plfa-part2-Substitution-23049" class="Bound">Γ</a> <a id="plfa_plfa-part2-Substitution-23051" href="../Substitution/#plfa_plfa-part2-Substitution-23051" class="Bound">Δ</a> <a id="plfa_plfa-part2-Substitution-23053" href="../Substitution/#plfa_plfa-part2-Substitution-23053" class="Bound">Σ</a><a id="plfa_plfa-part2-Substitution-23054" class="Symbol">}{</a><a id="plfa_plfa-part2-Substitution-23056" href="../Substitution/#plfa_plfa-part2-Substitution-23056" class="Bound">A</a><a id="plfa_plfa-part2-Substitution-23057" class="Symbol">}{</a><a id="plfa_plfa-part2-Substitution-23059" href="../Substitution/#plfa_plfa-part2-Substitution-23059" class="Bound">M</a> <a id="plfa_plfa-part2-Substitution-23061" class="Symbol">:</a> <a id="plfa_plfa-part2-Substitution-23063" href="../Substitution/#plfa_plfa-part2-Substitution-23049" class="Bound">Γ</a> <a id="plfa_plfa-part2-Substitution-23065" href="../Untyped/#plfa_plfa-part2-Untyped-4246" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Substitution-23067" href="../Substitution/#plfa_plfa-part2-Substitution-23056" class="Bound">A</a><a id="plfa_plfa-part2-Substitution-23068" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-23070" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-23071" href="../Substitution/#plfa_plfa-part2-Substitution-23071" class="Bound">σ₁</a> <a id="plfa_plfa-part2-Substitution-23074" class="Symbol">:</a> <a id="plfa_plfa-part2-Substitution-23076" href="../Substitution/#plfa_plfa-part2-Substitution-2341" class="Function">Subst</a> <a id="plfa_plfa-part2-Substitution-23082" href="../Substitution/#plfa_plfa-part2-Substitution-23049" class="Bound">Γ</a> <a id="plfa_plfa-part2-Substitution-23084" href="../Substitution/#plfa_plfa-part2-Substitution-23051" class="Bound">Δ</a><a id="plfa_plfa-part2-Substitution-23085" class="Symbol">}{</a><a id="plfa_plfa-part2-Substitution-23087" href="../Substitution/#plfa_plfa-part2-Substitution-23087" class="Bound">σ₂</a> <a id="plfa_plfa-part2-Substitution-23090" class="Symbol">:</a> <a id="plfa_plfa-part2-Substitution-23092" href="../Substitution/#plfa_plfa-part2-Substitution-2341" class="Function">Subst</a> <a id="plfa_plfa-part2-Substitution-23098" href="../Substitution/#plfa_plfa-part2-Substitution-23051" class="Bound">Δ</a> <a id="plfa_plfa-part2-Substitution-23100" href="../Substitution/#plfa_plfa-part2-Substitution-23053" class="Bound">Σ</a><a id="plfa_plfa-part2-Substitution-23101" class="Symbol">}</a>
            <a id="plfa_plfa-part2-Substitution-23115" class="Symbol">→</a> <a id="plfa_plfa-part2-Substitution-23117" href="../Substitution/#plfa_plfa-part2-Substitution-2490" class="Function Operator">⟪</a> <a id="plfa_plfa-part2-Substitution-23119" href="../Substitution/#plfa_plfa-part2-Substitution-23087" class="Bound">σ₂</a> <a id="plfa_plfa-part2-Substitution-23122" href="../Substitution/#plfa_plfa-part2-Substitution-2490" class="Function Operator">⟫</a> <a id="plfa_plfa-part2-Substitution-23124" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-23125" href="../Substitution/#plfa_plfa-part2-Substitution-2490" class="Function Operator">⟪</a> <a id="plfa_plfa-part2-Substitution-23127" href="../Substitution/#plfa_plfa-part2-Substitution-23071" class="Bound">σ₁</a> <a id="plfa_plfa-part2-Substitution-23130" href="../Substitution/#plfa_plfa-part2-Substitution-2490" class="Function Operator">⟫</a> <a id="plfa_plfa-part2-Substitution-23132" href="../Substitution/#plfa_plfa-part2-Substitution-23059" class="Bound">M</a><a id="plfa_plfa-part2-Substitution-23133" class="Symbol">)</a> <a id="plfa_plfa-part2-Substitution-23135" href="https://agda.github.io/agda-stdlib/v1.3/Agda.Builtin.Equality.html#151" class="Datatype Operator">≡</a> <a id="plfa_plfa-part2-Substitution-23137" href="../Substitution/#plfa_plfa-part2-Substitution-2490" class="Function Operator">⟪</a> <a id="plfa_plfa-part2-Substitution-23139" href="../Substitution/#plfa_plfa-part2-Substitution-23071" class="Bound">σ₁</a> <a id="plfa_plfa-part2-Substitution-23142" href="../Substitution/#plfa_plfa-part2-Substitution-3740" class="Function Operator">⨟</a> <a id="plfa_plfa-part2-Substitution-23144" href="../Substitution/#plfa_plfa-part2-Substitution-23087" class="Bound">σ₂</a> <a id="plfa_plfa-part2-Substitution-23147" href="../Substitution/#plfa_plfa-part2-Substitution-2490" class="Function Operator">⟫</a> <a id="plfa_plfa-part2-Substitution-23149" href="../Substitution/#plfa_plfa-part2-Substitution-23059" class="Bound">M</a>
<a id="plfa_plfa-part2-Substitution-23151" href="../Substitution/#plfa_plfa-part2-Substitution-23037" class="Function">sub-sub</a> <a id="plfa_plfa-part2-Substitution-23159" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-23160" class="Argument">M</a> <a id="plfa_plfa-part2-Substitution-23162" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-23164" href="../Untyped/#plfa_plfa-part2-Untyped-4282" class="InductiveConstructor Operator">`</a> <a id="plfa_plfa-part2-Substitution-23166" href="../Substitution/#plfa_plfa-part2-Substitution-23166" class="Bound">x</a><a id="plfa_plfa-part2-Substitution-23167" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-23169" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-23171" href="https://agda.github.io/agda-stdlib/v1.3/Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a>
<a id="plfa_plfa-part2-Substitution-23176" href="../Substitution/#plfa_plfa-part2-Substitution-23037" class="Function">sub-sub</a> <a id="plfa_plfa-part2-Substitution-23184" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-23185" href="../Substitution/#plfa_plfa-part2-Substitution-23185" class="Bound">Γ</a><a id="plfa_plfa-part2-Substitution-23186" class="Symbol">}{</a><a id="plfa_plfa-part2-Substitution-23188" href="../Substitution/#plfa_plfa-part2-Substitution-23188" class="Bound">Δ</a><a id="plfa_plfa-part2-Substitution-23189" class="Symbol">}{</a><a id="plfa_plfa-part2-Substitution-23191" href="../Substitution/#plfa_plfa-part2-Substitution-23191" class="Bound">Σ</a><a id="plfa_plfa-part2-Substitution-23192" class="Symbol">}{</a><a id="plfa_plfa-part2-Substitution-23194" href="../Substitution/#plfa_plfa-part2-Substitution-23194" class="Bound">A</a><a id="plfa_plfa-part2-Substitution-23195" class="Symbol">}{</a><a id="plfa_plfa-part2-Substitution-23197" href="../Untyped/#plfa_plfa-part2-Untyped-4334" class="InductiveConstructor Operator">ƛ</a> <a id="plfa_plfa-part2-Substitution-23199" href="../Substitution/#plfa_plfa-part2-Substitution-23199" class="Bound">N</a><a id="plfa_plfa-part2-Substitution-23200" class="Symbol">}{</a><a id="plfa_plfa-part2-Substitution-23202" href="../Substitution/#plfa_plfa-part2-Substitution-23202" class="Bound">σ₁</a><a id="plfa_plfa-part2-Substitution-23204" class="Symbol">}{</a><a id="plfa_plfa-part2-Substitution-23206" href="../Substitution/#plfa_plfa-part2-Substitution-23206" class="Bound">σ₂</a><a id="plfa_plfa-part2-Substitution-23208" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-23210" class="Symbol">=</a>
   <a id="plfa_plfa-part2-Substitution-23215" href="https://agda.github.io/agda-stdlib/v1.3/Relation.Binary.PropositionalEquality.Core.html#2517" class="Function Operator">begin</a>
     <a id="plfa_plfa-part2-Substitution-23226" href="../Substitution/#plfa_plfa-part2-Substitution-2490" class="Function Operator">⟪</a> <a id="plfa_plfa-part2-Substitution-23228" href="../Substitution/#plfa_plfa-part2-Substitution-23206" class="Bound">σ₂</a> <a id="plfa_plfa-part2-Substitution-23231" href="../Substitution/#plfa_plfa-part2-Substitution-2490" class="Function Operator">⟫</a> <a id="plfa_plfa-part2-Substitution-23233" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-23234" href="../Substitution/#plfa_plfa-part2-Substitution-2490" class="Function Operator">⟪</a> <a id="plfa_plfa-part2-Substitution-23236" href="../Substitution/#plfa_plfa-part2-Substitution-23202" class="Bound">σ₁</a> <a id="plfa_plfa-part2-Substitution-23239" href="../Substitution/#plfa_plfa-part2-Substitution-2490" class="Function Operator">⟫</a> <a id="plfa_plfa-part2-Substitution-23241" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-23242" href="../Untyped/#plfa_plfa-part2-Untyped-4334" class="InductiveConstructor Operator">ƛ</a> <a id="plfa_plfa-part2-Substitution-23244" href="../Substitution/#plfa_plfa-part2-Substitution-23199" class="Bound">N</a><a id="plfa_plfa-part2-Substitution-23245" class="Symbol">))</a>
   <a id="plfa_plfa-part2-Substitution-23251" href="https://agda.github.io/agda-stdlib/v1.3/Relation.Binary.PropositionalEquality.Core.html#2575" class="Function Operator">≡⟨⟩</a>
     <a id="plfa_plfa-part2-Substitution-23260" href="../Untyped/#plfa_plfa-part2-Untyped-4334" class="InductiveConstructor Operator">ƛ</a> <a id="plfa_plfa-part2-Substitution-23262" href="../Substitution/#plfa_plfa-part2-Substitution-2490" class="Function Operator">⟪</a> <a id="plfa_plfa-part2-Substitution-23264" href="../Untyped/#plfa_plfa-part2-Untyped-6647" class="Function">exts</a> <a id="plfa_plfa-part2-Substitution-23269" href="../Substitution/#plfa_plfa-part2-Substitution-23206" class="Bound">σ₂</a> <a id="plfa_plfa-part2-Substitution-23272" href="../Substitution/#plfa_plfa-part2-Substitution-2490" class="Function Operator">⟫</a> <a id="plfa_plfa-part2-Substitution-23274" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-23275" href="../Substitution/#plfa_plfa-part2-Substitution-2490" class="Function Operator">⟪</a> <a id="plfa_plfa-part2-Substitution-23277" href="../Untyped/#plfa_plfa-part2-Untyped-6647" class="Function">exts</a> <a id="plfa_plfa-part2-Substitution-23282" href="../Substitution/#plfa_plfa-part2-Substitution-23202" class="Bound">σ₁</a> <a id="plfa_plfa-part2-Substitution-23285" href="../Substitution/#plfa_plfa-part2-Substitution-2490" class="Function Operator">⟫</a> <a id="plfa_plfa-part2-Substitution-23287" href="../Substitution/#plfa_plfa-part2-Substitution-23199" class="Bound">N</a><a id="plfa_plfa-part2-Substitution-23288" class="Symbol">)</a>
   <a id="plfa_plfa-part2-Substitution-23293" href="https://agda.github.io/agda-stdlib/v1.3/Relation.Binary.PropositionalEquality.Core.html#2634" class="Function">≡⟨</a> <a id="plfa_plfa-part2-Substitution-23296" href="https://agda.github.io/agda-stdlib/v1.3/Relation.Binary.PropositionalEquality.Core.html#1131" class="Function">cong</a> <a id="plfa_plfa-part2-Substitution-23301" href="../Untyped/#plfa_plfa-part2-Untyped-4334" class="InductiveConstructor Operator">ƛ_</a> <a id="plfa_plfa-part2-Substitution-23304" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-23305" href="../Substitution/#plfa_plfa-part2-Substitution-23037" class="Function">sub-sub</a><a id="plfa_plfa-part2-Substitution-23312" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-23313" class="Argument">M</a> <a id="plfa_plfa-part2-Substitution-23315" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-23317" href="../Substitution/#plfa_plfa-part2-Substitution-23199" class="Bound">N</a><a id="plfa_plfa-part2-Substitution-23318" class="Symbol">}{</a><a id="plfa_plfa-part2-Substitution-23320" class="Argument">σ₁</a> <a id="plfa_plfa-part2-Substitution-23323" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-23325" href="../Untyped/#plfa_plfa-part2-Untyped-6647" class="Function">exts</a> <a id="plfa_plfa-part2-Substitution-23330" href="../Substitution/#plfa_plfa-part2-Substitution-23202" class="Bound">σ₁</a><a id="plfa_plfa-part2-Substitution-23332" class="Symbol">}{</a><a id="plfa_plfa-part2-Substitution-23334" class="Argument">σ₂</a> <a id="plfa_plfa-part2-Substitution-23337" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-23339" href="../Untyped/#plfa_plfa-part2-Untyped-6647" class="Function">exts</a> <a id="plfa_plfa-part2-Substitution-23344" href="../Substitution/#plfa_plfa-part2-Substitution-23206" class="Bound">σ₂</a><a id="plfa_plfa-part2-Substitution-23346" class="Symbol">})</a> <a id="plfa_plfa-part2-Substitution-23349" href="https://agda.github.io/agda-stdlib/v1.3/Relation.Binary.PropositionalEquality.Core.html#2634" class="Function">⟩</a>
     <a id="plfa_plfa-part2-Substitution-23356" href="../Untyped/#plfa_plfa-part2-Untyped-4334" class="InductiveConstructor Operator">ƛ</a> <a id="plfa_plfa-part2-Substitution-23358" href="../Substitution/#plfa_plfa-part2-Substitution-2490" class="Function Operator">⟪</a> <a id="plfa_plfa-part2-Substitution-23360" href="../Untyped/#plfa_plfa-part2-Untyped-6647" class="Function">exts</a> <a id="plfa_plfa-part2-Substitution-23365" href="../Substitution/#plfa_plfa-part2-Substitution-23202" class="Bound">σ₁</a> <a id="plfa_plfa-part2-Substitution-23368" href="../Substitution/#plfa_plfa-part2-Substitution-3740" class="Function Operator">⨟</a> <a id="plfa_plfa-part2-Substitution-23370" href="../Untyped/#plfa_plfa-part2-Untyped-6647" class="Function">exts</a> <a id="plfa_plfa-part2-Substitution-23375" href="../Substitution/#plfa_plfa-part2-Substitution-23206" class="Bound">σ₂</a> <a id="plfa_plfa-part2-Substitution-23378" href="../Substitution/#plfa_plfa-part2-Substitution-2490" class="Function Operator">⟫</a> <a id="plfa_plfa-part2-Substitution-23380" href="../Substitution/#plfa_plfa-part2-Substitution-23199" class="Bound">N</a>
   <a id="plfa_plfa-part2-Substitution-23385" href="https://agda.github.io/agda-stdlib/v1.3/Relation.Binary.PropositionalEquality.Core.html#2634" class="Function">≡⟨</a> <a id="plfa_plfa-part2-Substitution-23388" href="https://agda.github.io/agda-stdlib/v1.3/Relation.Binary.PropositionalEquality.Core.html#1131" class="Function">cong</a> <a id="plfa_plfa-part2-Substitution-23393" href="../Untyped/#plfa_plfa-part2-Untyped-4334" class="InductiveConstructor Operator">ƛ_</a> <a id="plfa_plfa-part2-Substitution-23396" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-23397" href="../Substitution/#plfa_plfa-part2-Substitution-11150" class="Function">cong-sub</a><a id="plfa_plfa-part2-Substitution-23405" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-23406" class="Argument">M</a> <a id="plfa_plfa-part2-Substitution-23408" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-23410" href="../Substitution/#plfa_plfa-part2-Substitution-23199" class="Bound">N</a><a id="plfa_plfa-part2-Substitution-23411" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-23413" class="Symbol">(λ</a> <a id="plfa_plfa-part2-Substitution-23416" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-23417" href="../Substitution/#plfa_plfa-part2-Substitution-23417" class="Bound">A</a><a id="plfa_plfa-part2-Substitution-23418" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-23420" class="Symbol">→</a> <a id="plfa_plfa-part2-Substitution-23422" href="../Substitution/#plfa_plfa-part2-Substitution-22096" class="Function">exts-seq</a><a id="plfa_plfa-part2-Substitution-23430" class="Symbol">)</a> <a id="plfa_plfa-part2-Substitution-23432" href="https://agda.github.io/agda-stdlib/v1.3/Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a><a id="plfa_plfa-part2-Substitution-23436" class="Symbol">)</a> <a id="plfa_plfa-part2-Substitution-23438" href="https://agda.github.io/agda-stdlib/v1.3/Relation.Binary.PropositionalEquality.Core.html#2634" class="Function">⟩</a>
     <a id="plfa_plfa-part2-Substitution-23445" href="../Untyped/#plfa_plfa-part2-Untyped-4334" class="InductiveConstructor Operator">ƛ</a> <a id="plfa_plfa-part2-Substitution-23447" href="../Substitution/#plfa_plfa-part2-Substitution-2490" class="Function Operator">⟪</a> <a id="plfa_plfa-part2-Substitution-23449" href="../Untyped/#plfa_plfa-part2-Untyped-6647" class="Function">exts</a> <a id="plfa_plfa-part2-Substitution-23454" class="Symbol">(</a> <a id="plfa_plfa-part2-Substitution-23456" href="../Substitution/#plfa_plfa-part2-Substitution-23202" class="Bound">σ₁</a> <a id="plfa_plfa-part2-Substitution-23459" href="../Substitution/#plfa_plfa-part2-Substitution-3740" class="Function Operator">⨟</a> <a id="plfa_plfa-part2-Substitution-23461" href="../Substitution/#plfa_plfa-part2-Substitution-23206" class="Bound">σ₂</a><a id="plfa_plfa-part2-Substitution-23463" class="Symbol">)</a> <a id="plfa_plfa-part2-Substitution-23465" href="../Substitution/#plfa_plfa-part2-Substitution-2490" class="Function Operator">⟫</a> <a id="plfa_plfa-part2-Substitution-23467" href="../Substitution/#plfa_plfa-part2-Substitution-23199" class="Bound">N</a>
   <a id="plfa_plfa-part2-Substitution-23472" href="https://agda.github.io/agda-stdlib/v1.3/Relation.Binary.PropositionalEquality.Core.html#2816" class="Function Operator">∎</a>
<a id="plfa_plfa-part2-Substitution-23474" href="../Substitution/#plfa_plfa-part2-Substitution-23037" class="Function">sub-sub</a> <a id="plfa_plfa-part2-Substitution-23482" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-23483" class="Argument">M</a> <a id="plfa_plfa-part2-Substitution-23485" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-23487" href="../Substitution/#plfa_plfa-part2-Substitution-23487" class="Bound">L</a> <a id="plfa_plfa-part2-Substitution-23489" href="../Untyped/#plfa_plfa-part2-Untyped-4394" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Substitution-23491" href="../Substitution/#plfa_plfa-part2-Substitution-23491" class="Bound">M</a><a id="plfa_plfa-part2-Substitution-23492" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-23494" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-23496" href="https://agda.github.io/agda-stdlib/v1.3/Relation.Binary.PropositionalEquality.html#1524" class="Function">cong₂</a> <a id="plfa_plfa-part2-Substitution-23502" href="../Untyped/#plfa_plfa-part2-Untyped-4394" class="InductiveConstructor Operator">_·_</a> <a id="plfa_plfa-part2-Substitution-23506" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-23507" href="../Substitution/#plfa_plfa-part2-Substitution-23037" class="Function">sub-sub</a><a id="plfa_plfa-part2-Substitution-23514" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-23515" class="Argument">M</a> <a id="plfa_plfa-part2-Substitution-23517" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-23519" href="../Substitution/#plfa_plfa-part2-Substitution-23487" class="Bound">L</a><a id="plfa_plfa-part2-Substitution-23520" class="Symbol">})</a> <a id="plfa_plfa-part2-Substitution-23523" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-23524" href="../Substitution/#plfa_plfa-part2-Substitution-23037" class="Function">sub-sub</a><a id="plfa_plfa-part2-Substitution-23531" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-23532" class="Argument">M</a> <a id="plfa_plfa-part2-Substitution-23534" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-23536" href="../Substitution/#plfa_plfa-part2-Substitution-23491" class="Bound">M</a><a id="plfa_plfa-part2-Substitution-23537" class="Symbol">})</a>
</pre><p>We proceed by induction on the term <code>M</code>.</p><ul><li><p>If <code>M = x</code>, then both sides are equal to <code>σ₂ (σ₁ x)</code>.</p></li><li><p>If <code>M = ƛ N</code>, we first use the induction hypothesis to show that</p><pre><code>  ƛ ⟪ exts σ₂ ⟫ (⟪ exts σ₁ ⟫ N) ≡ ƛ ⟪ exts σ₁ ⨟ exts σ₂ ⟫ N</code></pre><p>and then use the lemma <code>exts-seq</code> to show</p><pre><code>  ƛ ⟪ exts σ₁ ⨟ exts σ₂ ⟫ N ≡ ƛ ⟪ exts ( σ₁ ⨟ σ₂) ⟫ N</code></pre></li><li><p>If <code>M</code> is an application, we use the induction hypothesis for both subterms.</p></li></ul><p>The following corollary of <code>sub-sub</code> specializes the first substitution to a renaming.</p><pre class="Agda"><a id="plfa_plfa-part2-Substitution-rename-subst"></a><a id="plfa_plfa-part2-Substitution-24064" href="../Substitution/#plfa_plfa-part2-Substitution-24064" class="Function">rename-subst</a> <a id="plfa_plfa-part2-Substitution-24077" class="Symbol">:</a> <a id="plfa_plfa-part2-Substitution-24079" class="Symbol">∀{</a><a id="plfa_plfa-part2-Substitution-24081" href="../Substitution/#plfa_plfa-part2-Substitution-24081" class="Bound">Γ</a> <a id="plfa_plfa-part2-Substitution-24083" href="../Substitution/#plfa_plfa-part2-Substitution-24083" class="Bound">Δ</a> <a id="plfa_plfa-part2-Substitution-24085" href="../Substitution/#plfa_plfa-part2-Substitution-24085" class="Bound">Δ′</a><a id="plfa_plfa-part2-Substitution-24087" class="Symbol">}{</a><a id="plfa_plfa-part2-Substitution-24089" href="../Substitution/#plfa_plfa-part2-Substitution-24089" class="Bound">M</a> <a id="plfa_plfa-part2-Substitution-24091" class="Symbol">:</a> <a id="plfa_plfa-part2-Substitution-24093" href="../Substitution/#plfa_plfa-part2-Substitution-24081" class="Bound">Γ</a> <a id="plfa_plfa-part2-Substitution-24095" href="../Untyped/#plfa_plfa-part2-Untyped-4246" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Substitution-24097" href="../Untyped/#plfa_plfa-part2-Untyped-2820" class="InductiveConstructor">★</a><a id="plfa_plfa-part2-Substitution-24098" class="Symbol">}{</a><a id="plfa_plfa-part2-Substitution-24100" href="../Substitution/#plfa_plfa-part2-Substitution-24100" class="Bound">ρ</a> <a id="plfa_plfa-part2-Substitution-24102" class="Symbol">:</a> <a id="plfa_plfa-part2-Substitution-24104" href="../Substitution/#plfa_plfa-part2-Substitution-2124" class="Function">Rename</a> <a id="plfa_plfa-part2-Substitution-24111" href="../Substitution/#plfa_plfa-part2-Substitution-24081" class="Bound">Γ</a> <a id="plfa_plfa-part2-Substitution-24113" href="../Substitution/#plfa_plfa-part2-Substitution-24083" class="Bound">Δ</a><a id="plfa_plfa-part2-Substitution-24114" class="Symbol">}{</a><a id="plfa_plfa-part2-Substitution-24116" href="../Substitution/#plfa_plfa-part2-Substitution-24116" class="Bound">σ</a> <a id="plfa_plfa-part2-Substitution-24118" class="Symbol">:</a> <a id="plfa_plfa-part2-Substitution-24120" href="../Substitution/#plfa_plfa-part2-Substitution-2341" class="Function">Subst</a> <a id="plfa_plfa-part2-Substitution-24126" href="../Substitution/#plfa_plfa-part2-Substitution-24083" class="Bound">Δ</a> <a id="plfa_plfa-part2-Substitution-24128" href="../Substitution/#plfa_plfa-part2-Substitution-24085" class="Bound">Δ′</a><a id="plfa_plfa-part2-Substitution-24130" class="Symbol">}</a>
             <a id="plfa_plfa-part2-Substitution-24145" class="Symbol">→</a> <a id="plfa_plfa-part2-Substitution-24147" href="../Substitution/#plfa_plfa-part2-Substitution-2490" class="Function Operator">⟪</a> <a id="plfa_plfa-part2-Substitution-24149" href="../Substitution/#plfa_plfa-part2-Substitution-24116" class="Bound">σ</a> <a id="plfa_plfa-part2-Substitution-24151" href="../Substitution/#plfa_plfa-part2-Substitution-2490" class="Function Operator">⟫</a> <a id="plfa_plfa-part2-Substitution-24153" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-24154" href="../Untyped/#plfa_plfa-part2-Untyped-6207" class="Function">rename</a> <a id="plfa_plfa-part2-Substitution-24161" href="../Substitution/#plfa_plfa-part2-Substitution-24100" class="Bound">ρ</a> <a id="plfa_plfa-part2-Substitution-24163" href="../Substitution/#plfa_plfa-part2-Substitution-24089" class="Bound">M</a><a id="plfa_plfa-part2-Substitution-24164" class="Symbol">)</a> <a id="plfa_plfa-part2-Substitution-24166" href="https://agda.github.io/agda-stdlib/v1.3/Agda.Builtin.Equality.html#151" class="Datatype Operator">≡</a> <a id="plfa_plfa-part2-Substitution-24168" href="../Substitution/#plfa_plfa-part2-Substitution-2490" class="Function Operator">⟪</a> <a id="plfa_plfa-part2-Substitution-24170" href="../Substitution/#plfa_plfa-part2-Substitution-24116" class="Bound">σ</a> <a id="plfa_plfa-part2-Substitution-24172" href="https://agda.github.io/agda-stdlib/v1.3/Function.Base.html#992" class="Function Operator">∘</a> <a id="plfa_plfa-part2-Substitution-24174" href="../Substitution/#plfa_plfa-part2-Substitution-24100" class="Bound">ρ</a> <a id="plfa_plfa-part2-Substitution-24176" href="../Substitution/#plfa_plfa-part2-Substitution-2490" class="Function Operator">⟫</a> <a id="plfa_plfa-part2-Substitution-24178" href="../Substitution/#plfa_plfa-part2-Substitution-24089" class="Bound">M</a>
<a id="plfa_plfa-part2-Substitution-24180" href="../Substitution/#plfa_plfa-part2-Substitution-24064" class="Function">rename-subst</a> <a id="plfa_plfa-part2-Substitution-24193" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-24194" href="../Substitution/#plfa_plfa-part2-Substitution-24194" class="Bound">Γ</a><a id="plfa_plfa-part2-Substitution-24195" class="Symbol">}{</a><a id="plfa_plfa-part2-Substitution-24197" href="../Substitution/#plfa_plfa-part2-Substitution-24197" class="Bound">Δ</a><a id="plfa_plfa-part2-Substitution-24198" class="Symbol">}{</a><a id="plfa_plfa-part2-Substitution-24200" href="../Substitution/#plfa_plfa-part2-Substitution-24200" class="Bound">Δ′</a><a id="plfa_plfa-part2-Substitution-24202" class="Symbol">}{</a><a id="plfa_plfa-part2-Substitution-24204" href="../Substitution/#plfa_plfa-part2-Substitution-24204" class="Bound">M</a><a id="plfa_plfa-part2-Substitution-24205" class="Symbol">}{</a><a id="plfa_plfa-part2-Substitution-24207" href="../Substitution/#plfa_plfa-part2-Substitution-24207" class="Bound">ρ</a><a id="plfa_plfa-part2-Substitution-24208" class="Symbol">}{</a><a id="plfa_plfa-part2-Substitution-24210" href="../Substitution/#plfa_plfa-part2-Substitution-24210" class="Bound">σ</a><a id="plfa_plfa-part2-Substitution-24211" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-24213" class="Symbol">=</a>
   <a id="plfa_plfa-part2-Substitution-24218" href="https://agda.github.io/agda-stdlib/v1.3/Relation.Binary.PropositionalEquality.Core.html#2517" class="Function Operator">begin</a>
     <a id="plfa_plfa-part2-Substitution-24229" href="../Substitution/#plfa_plfa-part2-Substitution-2490" class="Function Operator">⟪</a> <a id="plfa_plfa-part2-Substitution-24231" href="../Substitution/#plfa_plfa-part2-Substitution-24210" class="Bound">σ</a> <a id="plfa_plfa-part2-Substitution-24233" href="../Substitution/#plfa_plfa-part2-Substitution-2490" class="Function Operator">⟫</a> <a id="plfa_plfa-part2-Substitution-24235" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-24236" href="../Untyped/#plfa_plfa-part2-Untyped-6207" class="Function">rename</a> <a id="plfa_plfa-part2-Substitution-24243" href="../Substitution/#plfa_plfa-part2-Substitution-24207" class="Bound">ρ</a> <a id="plfa_plfa-part2-Substitution-24245" href="../Substitution/#plfa_plfa-part2-Substitution-24204" class="Bound">M</a><a id="plfa_plfa-part2-Substitution-24246" class="Symbol">)</a>
   <a id="plfa_plfa-part2-Substitution-24251" href="https://agda.github.io/agda-stdlib/v1.3/Relation.Binary.PropositionalEquality.Core.html#2634" class="Function">≡⟨</a> <a id="plfa_plfa-part2-Substitution-24254" href="https://agda.github.io/agda-stdlib/v1.3/Relation.Binary.PropositionalEquality.Core.html#1131" class="Function">cong</a> <a id="plfa_plfa-part2-Substitution-24259" href="../Substitution/#plfa_plfa-part2-Substitution-2490" class="Function Operator">⟪</a> <a id="plfa_plfa-part2-Substitution-24261" href="../Substitution/#plfa_plfa-part2-Substitution-24210" class="Bound">σ</a> <a id="plfa_plfa-part2-Substitution-24263" href="../Substitution/#plfa_plfa-part2-Substitution-2490" class="Function Operator">⟫</a> <a id="plfa_plfa-part2-Substitution-24265" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-24266" href="../Substitution/#plfa_plfa-part2-Substitution-13652" class="Function">rename-subst-ren</a><a id="plfa_plfa-part2-Substitution-24282" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-24283" class="Argument">M</a> <a id="plfa_plfa-part2-Substitution-24285" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-24287" href="../Substitution/#plfa_plfa-part2-Substitution-24204" class="Bound">M</a><a id="plfa_plfa-part2-Substitution-24288" class="Symbol">})</a> <a id="plfa_plfa-part2-Substitution-24291" href="https://agda.github.io/agda-stdlib/v1.3/Relation.Binary.PropositionalEquality.Core.html#2634" class="Function">⟩</a>
     <a id="plfa_plfa-part2-Substitution-24298" href="../Substitution/#plfa_plfa-part2-Substitution-2490" class="Function Operator">⟪</a> <a id="plfa_plfa-part2-Substitution-24300" href="../Substitution/#plfa_plfa-part2-Substitution-24210" class="Bound">σ</a> <a id="plfa_plfa-part2-Substitution-24302" href="../Substitution/#plfa_plfa-part2-Substitution-2490" class="Function Operator">⟫</a> <a id="plfa_plfa-part2-Substitution-24304" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-24305" href="../Substitution/#plfa_plfa-part2-Substitution-2490" class="Function Operator">⟪</a> <a id="plfa_plfa-part2-Substitution-24307" href="../Substitution/#plfa_plfa-part2-Substitution-6482" class="Function">ren</a> <a id="plfa_plfa-part2-Substitution-24311" href="../Substitution/#plfa_plfa-part2-Substitution-24207" class="Bound">ρ</a> <a id="plfa_plfa-part2-Substitution-24313" href="../Substitution/#plfa_plfa-part2-Substitution-2490" class="Function Operator">⟫</a> <a id="plfa_plfa-part2-Substitution-24315" href="../Substitution/#plfa_plfa-part2-Substitution-24204" class="Bound">M</a><a id="plfa_plfa-part2-Substitution-24316" class="Symbol">)</a>
   <a id="plfa_plfa-part2-Substitution-24321" href="https://agda.github.io/agda-stdlib/v1.3/Relation.Binary.PropositionalEquality.Core.html#2634" class="Function">≡⟨</a> <a id="plfa_plfa-part2-Substitution-24324" href="../Substitution/#plfa_plfa-part2-Substitution-23037" class="Function">sub-sub</a><a id="plfa_plfa-part2-Substitution-24331" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-24332" class="Argument">M</a> <a id="plfa_plfa-part2-Substitution-24334" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-24336" href="../Substitution/#plfa_plfa-part2-Substitution-24204" class="Bound">M</a><a id="plfa_plfa-part2-Substitution-24337" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-24339" href="https://agda.github.io/agda-stdlib/v1.3/Relation.Binary.PropositionalEquality.Core.html#2634" class="Function">⟩</a>
     <a id="plfa_plfa-part2-Substitution-24346" href="../Substitution/#plfa_plfa-part2-Substitution-2490" class="Function Operator">⟪</a> <a id="plfa_plfa-part2-Substitution-24348" href="../Substitution/#plfa_plfa-part2-Substitution-6482" class="Function">ren</a> <a id="plfa_plfa-part2-Substitution-24352" href="../Substitution/#plfa_plfa-part2-Substitution-24207" class="Bound">ρ</a> <a id="plfa_plfa-part2-Substitution-24354" href="../Substitution/#plfa_plfa-part2-Substitution-3740" class="Function Operator">⨟</a> <a id="plfa_plfa-part2-Substitution-24356" href="../Substitution/#plfa_plfa-part2-Substitution-24210" class="Bound">σ</a> <a id="plfa_plfa-part2-Substitution-24358" href="../Substitution/#plfa_plfa-part2-Substitution-2490" class="Function Operator">⟫</a> <a id="plfa_plfa-part2-Substitution-24360" href="../Substitution/#plfa_plfa-part2-Substitution-24204" class="Bound">M</a>
   <a id="plfa_plfa-part2-Substitution-24365" href="https://agda.github.io/agda-stdlib/v1.3/Relation.Binary.PropositionalEquality.Core.html#2575" class="Function Operator">≡⟨⟩</a>
     <a id="plfa_plfa-part2-Substitution-24374" href="../Substitution/#plfa_plfa-part2-Substitution-2490" class="Function Operator">⟪</a> <a id="plfa_plfa-part2-Substitution-24376" href="../Substitution/#plfa_plfa-part2-Substitution-24210" class="Bound">σ</a> <a id="plfa_plfa-part2-Substitution-24378" href="https://agda.github.io/agda-stdlib/v1.3/Function.Base.html#992" class="Function Operator">∘</a> <a id="plfa_plfa-part2-Substitution-24380" href="../Substitution/#plfa_plfa-part2-Substitution-24207" class="Bound">ρ</a> <a id="plfa_plfa-part2-Substitution-24382" href="../Substitution/#plfa_plfa-part2-Substitution-2490" class="Function Operator">⟫</a> <a id="plfa_plfa-part2-Substitution-24384" href="../Substitution/#plfa_plfa-part2-Substitution-24204" class="Bound">M</a>
   <a id="plfa_plfa-part2-Substitution-24389" href="https://agda.github.io/agda-stdlib/v1.3/Relation.Binary.PropositionalEquality.Core.html#2816" class="Function Operator">∎</a>
</pre><h2 id="proof-of-sub-assoc">Proof of sub-assoc</h2><p>The proof of <code>sub-assoc</code> follows directly from <code>sub-sub</code> and the definition of sequencing.</p><pre class="Agda"><a id="plfa_plfa-part2-Substitution-sub-assoc"></a><a id="plfa_plfa-part2-Substitution-24520" href="../Substitution/#plfa_plfa-part2-Substitution-24520" class="Function">sub-assoc</a> <a id="plfa_plfa-part2-Substitution-24530" class="Symbol">:</a> <a id="plfa_plfa-part2-Substitution-24532" class="Symbol">∀{</a><a id="plfa_plfa-part2-Substitution-24534" href="../Substitution/#plfa_plfa-part2-Substitution-24534" class="Bound">Γ</a> <a id="plfa_plfa-part2-Substitution-24536" href="../Substitution/#plfa_plfa-part2-Substitution-24536" class="Bound">Δ</a> <a id="plfa_plfa-part2-Substitution-24538" href="../Substitution/#plfa_plfa-part2-Substitution-24538" class="Bound">Σ</a> <a id="plfa_plfa-part2-Substitution-24540" href="../Substitution/#plfa_plfa-part2-Substitution-24540" class="Bound">Ψ</a> <a id="plfa_plfa-part2-Substitution-24542" class="Symbol">:</a> <a id="plfa_plfa-part2-Substitution-24544" href="../Untyped/#plfa_plfa-part2-Untyped-3093" class="Datatype">Context</a><a id="plfa_plfa-part2-Substitution-24551" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-24553" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-24554" href="../Substitution/#plfa_plfa-part2-Substitution-24554" class="Bound">σ</a> <a id="plfa_plfa-part2-Substitution-24556" class="Symbol">:</a> <a id="plfa_plfa-part2-Substitution-24558" href="../Substitution/#plfa_plfa-part2-Substitution-2341" class="Function">Subst</a> <a id="plfa_plfa-part2-Substitution-24564" href="../Substitution/#plfa_plfa-part2-Substitution-24534" class="Bound">Γ</a> <a id="plfa_plfa-part2-Substitution-24566" href="../Substitution/#plfa_plfa-part2-Substitution-24536" class="Bound">Δ</a><a id="plfa_plfa-part2-Substitution-24567" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-24569" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-24570" href="../Substitution/#plfa_plfa-part2-Substitution-24570" class="Bound">τ</a> <a id="plfa_plfa-part2-Substitution-24572" class="Symbol">:</a> <a id="plfa_plfa-part2-Substitution-24574" href="../Substitution/#plfa_plfa-part2-Substitution-2341" class="Function">Subst</a> <a id="plfa_plfa-part2-Substitution-24580" href="../Substitution/#plfa_plfa-part2-Substitution-24536" class="Bound">Δ</a> <a id="plfa_plfa-part2-Substitution-24582" href="../Substitution/#plfa_plfa-part2-Substitution-24538" class="Bound">Σ</a><a id="plfa_plfa-part2-Substitution-24583" class="Symbol">}</a>
             <a id="plfa_plfa-part2-Substitution-24598" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-24599" href="../Substitution/#plfa_plfa-part2-Substitution-24599" class="Bound">θ</a> <a id="plfa_plfa-part2-Substitution-24601" class="Symbol">:</a> <a id="plfa_plfa-part2-Substitution-24603" href="../Substitution/#plfa_plfa-part2-Substitution-2341" class="Function">Subst</a> <a id="plfa_plfa-part2-Substitution-24609" href="../Substitution/#plfa_plfa-part2-Substitution-24538" class="Bound">Σ</a> <a id="plfa_plfa-part2-Substitution-24611" href="../Substitution/#plfa_plfa-part2-Substitution-24540" class="Bound">Ψ</a><a id="plfa_plfa-part2-Substitution-24612" class="Symbol">}</a>
          <a id="plfa_plfa-part2-Substitution-24624" class="Symbol">→</a> <a id="plfa_plfa-part2-Substitution-24626" class="Symbol">∀{</a><a id="plfa_plfa-part2-Substitution-24628" href="../Substitution/#plfa_plfa-part2-Substitution-24628" class="Bound">A</a><a id="plfa_plfa-part2-Substitution-24629" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-24631" class="Symbol">→</a> <a id="plfa_plfa-part2-Substitution-24633" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-24634" href="../Substitution/#plfa_plfa-part2-Substitution-24554" class="Bound">σ</a> <a id="plfa_plfa-part2-Substitution-24636" href="../Substitution/#plfa_plfa-part2-Substitution-3740" class="Function Operator">⨟</a> <a id="plfa_plfa-part2-Substitution-24638" href="../Substitution/#plfa_plfa-part2-Substitution-24570" class="Bound">τ</a><a id="plfa_plfa-part2-Substitution-24639" class="Symbol">)</a> <a id="plfa_plfa-part2-Substitution-24641" href="../Substitution/#plfa_plfa-part2-Substitution-3740" class="Function Operator">⨟</a> <a id="plfa_plfa-part2-Substitution-24643" href="../Substitution/#plfa_plfa-part2-Substitution-24599" class="Bound">θ</a> <a id="plfa_plfa-part2-Substitution-24645" href="https://agda.github.io/agda-stdlib/v1.3/Agda.Builtin.Equality.html#151" class="Datatype Operator">≡</a> <a id="plfa_plfa-part2-Substitution-24647" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-24648" href="../Substitution/#plfa_plfa-part2-Substitution-24554" class="Bound">σ</a> <a id="plfa_plfa-part2-Substitution-24650" href="../Substitution/#plfa_plfa-part2-Substitution-3740" class="Function Operator">⨟</a> <a id="plfa_plfa-part2-Substitution-24652" href="../Substitution/#plfa_plfa-part2-Substitution-24570" class="Bound">τ</a> <a id="plfa_plfa-part2-Substitution-24654" href="../Substitution/#plfa_plfa-part2-Substitution-3740" class="Function Operator">⨟</a> <a id="plfa_plfa-part2-Substitution-24656" href="../Substitution/#plfa_plfa-part2-Substitution-24599" class="Bound">θ</a><a id="plfa_plfa-part2-Substitution-24657" class="Symbol">)</a> <a id="plfa_plfa-part2-Substitution-24659" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-24660" href="../Substitution/#plfa_plfa-part2-Substitution-24628" class="Bound">A</a><a id="plfa_plfa-part2-Substitution-24661" class="Symbol">}</a>
<a id="plfa_plfa-part2-Substitution-24663" href="../Substitution/#plfa_plfa-part2-Substitution-24520" class="Function">sub-assoc</a> <a id="plfa_plfa-part2-Substitution-24673" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-24674" href="../Substitution/#plfa_plfa-part2-Substitution-24674" class="Bound">Γ</a><a id="plfa_plfa-part2-Substitution-24675" class="Symbol">}{</a><a id="plfa_plfa-part2-Substitution-24677" href="../Substitution/#plfa_plfa-part2-Substitution-24677" class="Bound">Δ</a><a id="plfa_plfa-part2-Substitution-24678" class="Symbol">}{</a><a id="plfa_plfa-part2-Substitution-24680" href="../Substitution/#plfa_plfa-part2-Substitution-24680" class="Bound">Σ</a><a id="plfa_plfa-part2-Substitution-24681" class="Symbol">}{</a><a id="plfa_plfa-part2-Substitution-24683" href="../Substitution/#plfa_plfa-part2-Substitution-24683" class="Bound">Ψ</a><a id="plfa_plfa-part2-Substitution-24684" class="Symbol">}{</a><a id="plfa_plfa-part2-Substitution-24686" href="../Substitution/#plfa_plfa-part2-Substitution-24686" class="Bound">σ</a><a id="plfa_plfa-part2-Substitution-24687" class="Symbol">}{</a><a id="plfa_plfa-part2-Substitution-24689" href="../Substitution/#plfa_plfa-part2-Substitution-24689" class="Bound">τ</a><a id="plfa_plfa-part2-Substitution-24690" class="Symbol">}{</a><a id="plfa_plfa-part2-Substitution-24692" href="../Substitution/#plfa_plfa-part2-Substitution-24692" class="Bound">θ</a><a id="plfa_plfa-part2-Substitution-24693" class="Symbol">}{</a><a id="plfa_plfa-part2-Substitution-24695" href="../Substitution/#plfa_plfa-part2-Substitution-24695" class="Bound">A</a><a id="plfa_plfa-part2-Substitution-24696" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-24698" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-24700" href="../Substitution/#plfa_plfa-part2-Substitution-1855" class="Postulate">extensionality</a> <a id="plfa_plfa-part2-Substitution-24715" class="Symbol">λ</a> <a id="plfa_plfa-part2-Substitution-24717" href="../Substitution/#plfa_plfa-part2-Substitution-24717" class="Bound">x</a> <a id="plfa_plfa-part2-Substitution-24719" class="Symbol">→</a> <a id="plfa_plfa-part2-Substitution-24721" href="../Substitution/#plfa_plfa-part2-Substitution-24744" class="Function">lemma</a><a id="plfa_plfa-part2-Substitution-24726" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-24727" class="Argument">x</a> <a id="plfa_plfa-part2-Substitution-24729" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-24731" href="../Substitution/#plfa_plfa-part2-Substitution-24717" class="Bound">x</a><a id="plfa_plfa-part2-Substitution-24732" class="Symbol">}</a>
  <a id="plfa_plfa-part2-Substitution-24736" class="Keyword">where</a>
  <a id="plfa_plfa-part2-Substitution-24744" href="../Substitution/#plfa_plfa-part2-Substitution-24744" class="Function">lemma</a> <a id="plfa_plfa-part2-Substitution-24750" class="Symbol">:</a> <a id="plfa_plfa-part2-Substitution-24752" class="Symbol">∀</a> <a id="plfa_plfa-part2-Substitution-24754" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-24755" href="../Substitution/#plfa_plfa-part2-Substitution-24755" class="Bound">x</a> <a id="plfa_plfa-part2-Substitution-24757" class="Symbol">:</a> <a id="plfa_plfa-part2-Substitution-24759" href="../Substitution/#plfa_plfa-part2-Substitution-24674" class="Bound">Γ</a> <a id="plfa_plfa-part2-Substitution-24761" href="../Untyped/#plfa_plfa-part2-Untyped-3469" class="Datatype Operator">∋</a> <a id="plfa_plfa-part2-Substitution-24763" href="../Substitution/#plfa_plfa-part2-Substitution-24695" class="Bound">A</a><a id="plfa_plfa-part2-Substitution-24764" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-24766" class="Symbol">→</a> <a id="plfa_plfa-part2-Substitution-24768" class="Symbol">((</a><a id="plfa_plfa-part2-Substitution-24770" href="../Substitution/#plfa_plfa-part2-Substitution-24686" class="Bound">σ</a> <a id="plfa_plfa-part2-Substitution-24772" href="../Substitution/#plfa_plfa-part2-Substitution-3740" class="Function Operator">⨟</a> <a id="plfa_plfa-part2-Substitution-24774" href="../Substitution/#plfa_plfa-part2-Substitution-24689" class="Bound">τ</a><a id="plfa_plfa-part2-Substitution-24775" class="Symbol">)</a> <a id="plfa_plfa-part2-Substitution-24777" href="../Substitution/#plfa_plfa-part2-Substitution-3740" class="Function Operator">⨟</a> <a id="plfa_plfa-part2-Substitution-24779" href="../Substitution/#plfa_plfa-part2-Substitution-24692" class="Bound">θ</a><a id="plfa_plfa-part2-Substitution-24780" class="Symbol">)</a> <a id="plfa_plfa-part2-Substitution-24782" href="../Substitution/#plfa_plfa-part2-Substitution-24755" class="Bound">x</a> <a id="plfa_plfa-part2-Substitution-24784" href="https://agda.github.io/agda-stdlib/v1.3/Agda.Builtin.Equality.html#151" class="Datatype Operator">≡</a> <a id="plfa_plfa-part2-Substitution-24786" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-24787" href="../Substitution/#plfa_plfa-part2-Substitution-24686" class="Bound">σ</a> <a id="plfa_plfa-part2-Substitution-24789" href="../Substitution/#plfa_plfa-part2-Substitution-3740" class="Function Operator">⨟</a> <a id="plfa_plfa-part2-Substitution-24791" href="../Substitution/#plfa_plfa-part2-Substitution-24689" class="Bound">τ</a> <a id="plfa_plfa-part2-Substitution-24793" href="../Substitution/#plfa_plfa-part2-Substitution-3740" class="Function Operator">⨟</a> <a id="plfa_plfa-part2-Substitution-24795" href="../Substitution/#plfa_plfa-part2-Substitution-24692" class="Bound">θ</a><a id="plfa_plfa-part2-Substitution-24796" class="Symbol">)</a> <a id="plfa_plfa-part2-Substitution-24798" href="../Substitution/#plfa_plfa-part2-Substitution-24755" class="Bound">x</a>
  <a id="plfa_plfa-part2-Substitution-24802" href="../Substitution/#plfa_plfa-part2-Substitution-24744" class="Function">lemma</a> <a id="plfa_plfa-part2-Substitution-24808" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-24809" href="../Substitution/#plfa_plfa-part2-Substitution-24809" class="Bound">x</a><a id="plfa_plfa-part2-Substitution-24810" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-24812" class="Symbol">=</a>
      <a id="plfa_plfa-part2-Substitution-24820" href="https://agda.github.io/agda-stdlib/v1.3/Relation.Binary.PropositionalEquality.Core.html#2517" class="Function Operator">begin</a>
        <a id="plfa_plfa-part2-Substitution-24834" class="Symbol">((</a><a id="plfa_plfa-part2-Substitution-24836" href="../Substitution/#plfa_plfa-part2-Substitution-24686" class="Bound">σ</a> <a id="plfa_plfa-part2-Substitution-24838" href="../Substitution/#plfa_plfa-part2-Substitution-3740" class="Function Operator">⨟</a> <a id="plfa_plfa-part2-Substitution-24840" href="../Substitution/#plfa_plfa-part2-Substitution-24689" class="Bound">τ</a><a id="plfa_plfa-part2-Substitution-24841" class="Symbol">)</a> <a id="plfa_plfa-part2-Substitution-24843" href="../Substitution/#plfa_plfa-part2-Substitution-3740" class="Function Operator">⨟</a> <a id="plfa_plfa-part2-Substitution-24845" href="../Substitution/#plfa_plfa-part2-Substitution-24692" class="Bound">θ</a><a id="plfa_plfa-part2-Substitution-24846" class="Symbol">)</a> <a id="plfa_plfa-part2-Substitution-24848" href="../Substitution/#plfa_plfa-part2-Substitution-24809" class="Bound">x</a>
      <a id="plfa_plfa-part2-Substitution-24856" href="https://agda.github.io/agda-stdlib/v1.3/Relation.Binary.PropositionalEquality.Core.html#2575" class="Function Operator">≡⟨⟩</a>
        <a id="plfa_plfa-part2-Substitution-24868" href="../Substitution/#plfa_plfa-part2-Substitution-2490" class="Function Operator">⟪</a> <a id="plfa_plfa-part2-Substitution-24870" href="../Substitution/#plfa_plfa-part2-Substitution-24692" class="Bound">θ</a> <a id="plfa_plfa-part2-Substitution-24872" href="../Substitution/#plfa_plfa-part2-Substitution-2490" class="Function Operator">⟫</a> <a id="plfa_plfa-part2-Substitution-24874" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-24875" href="../Substitution/#plfa_plfa-part2-Substitution-2490" class="Function Operator">⟪</a> <a id="plfa_plfa-part2-Substitution-24877" href="../Substitution/#plfa_plfa-part2-Substitution-24689" class="Bound">τ</a> <a id="plfa_plfa-part2-Substitution-24879" href="../Substitution/#plfa_plfa-part2-Substitution-2490" class="Function Operator">⟫</a> <a id="plfa_plfa-part2-Substitution-24881" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-24882" href="../Substitution/#plfa_plfa-part2-Substitution-24686" class="Bound">σ</a> <a id="plfa_plfa-part2-Substitution-24884" href="../Substitution/#plfa_plfa-part2-Substitution-24809" class="Bound">x</a><a id="plfa_plfa-part2-Substitution-24885" class="Symbol">))</a>
      <a id="plfa_plfa-part2-Substitution-24894" href="https://agda.github.io/agda-stdlib/v1.3/Relation.Binary.PropositionalEquality.Core.html#2634" class="Function">≡⟨</a> <a id="plfa_plfa-part2-Substitution-24897" href="../Substitution/#plfa_plfa-part2-Substitution-23037" class="Function">sub-sub</a><a id="plfa_plfa-part2-Substitution-24904" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-24905" class="Argument">M</a> <a id="plfa_plfa-part2-Substitution-24907" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-24909" href="../Substitution/#plfa_plfa-part2-Substitution-24686" class="Bound">σ</a> <a id="plfa_plfa-part2-Substitution-24911" href="../Substitution/#plfa_plfa-part2-Substitution-24809" class="Bound">x</a><a id="plfa_plfa-part2-Substitution-24912" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-24914" href="https://agda.github.io/agda-stdlib/v1.3/Relation.Binary.PropositionalEquality.Core.html#2634" class="Function">⟩</a>
        <a id="plfa_plfa-part2-Substitution-24924" href="../Substitution/#plfa_plfa-part2-Substitution-2490" class="Function Operator">⟪</a> <a id="plfa_plfa-part2-Substitution-24926" href="../Substitution/#plfa_plfa-part2-Substitution-24689" class="Bound">τ</a> <a id="plfa_plfa-part2-Substitution-24928" href="../Substitution/#plfa_plfa-part2-Substitution-3740" class="Function Operator">⨟</a> <a id="plfa_plfa-part2-Substitution-24930" href="../Substitution/#plfa_plfa-part2-Substitution-24692" class="Bound">θ</a> <a id="plfa_plfa-part2-Substitution-24932" href="../Substitution/#plfa_plfa-part2-Substitution-2490" class="Function Operator">⟫</a> <a id="plfa_plfa-part2-Substitution-24934" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-24935" href="../Substitution/#plfa_plfa-part2-Substitution-24686" class="Bound">σ</a> <a id="plfa_plfa-part2-Substitution-24937" href="../Substitution/#plfa_plfa-part2-Substitution-24809" class="Bound">x</a><a id="plfa_plfa-part2-Substitution-24938" class="Symbol">)</a>
      <a id="plfa_plfa-part2-Substitution-24946" href="https://agda.github.io/agda-stdlib/v1.3/Relation.Binary.PropositionalEquality.Core.html#2575" class="Function Operator">≡⟨⟩</a>
        <a id="plfa_plfa-part2-Substitution-24958" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-24959" href="../Substitution/#plfa_plfa-part2-Substitution-24686" class="Bound">σ</a> <a id="plfa_plfa-part2-Substitution-24961" href="../Substitution/#plfa_plfa-part2-Substitution-3740" class="Function Operator">⨟</a> <a id="plfa_plfa-part2-Substitution-24963" href="../Substitution/#plfa_plfa-part2-Substitution-24689" class="Bound">τ</a> <a id="plfa_plfa-part2-Substitution-24965" href="../Substitution/#plfa_plfa-part2-Substitution-3740" class="Function Operator">⨟</a> <a id="plfa_plfa-part2-Substitution-24967" href="../Substitution/#plfa_plfa-part2-Substitution-24692" class="Bound">θ</a><a id="plfa_plfa-part2-Substitution-24968" class="Symbol">)</a> <a id="plfa_plfa-part2-Substitution-24970" href="../Substitution/#plfa_plfa-part2-Substitution-24809" class="Bound">x</a>
      <a id="plfa_plfa-part2-Substitution-24978" href="https://agda.github.io/agda-stdlib/v1.3/Relation.Binary.PropositionalEquality.Core.html#2816" class="Function Operator">∎</a>
</pre><h2 id="proof-of-subst-zero-exts-cons">Proof of subst-zero-exts-cons</h2><p>The last equation we needed to prove <code>subst-zero-exts-cons</code> was <code>sub-assoc</code>, so we can now go ahead with its proof. We simply apply the equations for <code>exts</code> and <code>subst-zero</code> and then apply the σ algebra equation to arrive at the normal form <code>M • σ</code>.</p><pre class="Agda"><a id="plfa_plfa-part2-Substitution-subst-zero-exts-cons"></a><a id="plfa_plfa-part2-Substitution-25279" href="../Substitution/#plfa_plfa-part2-Substitution-25279" class="Function">subst-zero-exts-cons</a> <a id="plfa_plfa-part2-Substitution-25300" class="Symbol">:</a> <a id="plfa_plfa-part2-Substitution-25302" class="Symbol">∀{</a><a id="plfa_plfa-part2-Substitution-25304" href="../Substitution/#plfa_plfa-part2-Substitution-25304" class="Bound">Γ</a> <a id="plfa_plfa-part2-Substitution-25306" href="../Substitution/#plfa_plfa-part2-Substitution-25306" class="Bound">Δ</a><a id="plfa_plfa-part2-Substitution-25307" class="Symbol">}{</a><a id="plfa_plfa-part2-Substitution-25309" href="../Substitution/#plfa_plfa-part2-Substitution-25309" class="Bound">σ</a> <a id="plfa_plfa-part2-Substitution-25311" class="Symbol">:</a> <a id="plfa_plfa-part2-Substitution-25313" href="../Substitution/#plfa_plfa-part2-Substitution-2341" class="Function">Subst</a> <a id="plfa_plfa-part2-Substitution-25319" href="../Substitution/#plfa_plfa-part2-Substitution-25304" class="Bound">Γ</a> <a id="plfa_plfa-part2-Substitution-25321" href="../Substitution/#plfa_plfa-part2-Substitution-25306" class="Bound">Δ</a><a id="plfa_plfa-part2-Substitution-25322" class="Symbol">}{</a><a id="plfa_plfa-part2-Substitution-25324" href="../Substitution/#plfa_plfa-part2-Substitution-25324" class="Bound">B</a><a id="plfa_plfa-part2-Substitution-25325" class="Symbol">}{</a><a id="plfa_plfa-part2-Substitution-25327" href="../Substitution/#plfa_plfa-part2-Substitution-25327" class="Bound">M</a> <a id="plfa_plfa-part2-Substitution-25329" class="Symbol">:</a> <a id="plfa_plfa-part2-Substitution-25331" href="../Substitution/#plfa_plfa-part2-Substitution-25306" class="Bound">Δ</a> <a id="plfa_plfa-part2-Substitution-25333" href="../Untyped/#plfa_plfa-part2-Untyped-4246" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Substitution-25335" href="../Substitution/#plfa_plfa-part2-Substitution-25324" class="Bound">B</a><a id="plfa_plfa-part2-Substitution-25336" class="Symbol">}{</a><a id="plfa_plfa-part2-Substitution-25338" href="../Substitution/#plfa_plfa-part2-Substitution-25338" class="Bound">A</a><a id="plfa_plfa-part2-Substitution-25339" class="Symbol">}</a>
                     <a id="plfa_plfa-part2-Substitution-25362" class="Symbol">→</a> <a id="plfa_plfa-part2-Substitution-25364" href="../Untyped/#plfa_plfa-part2-Untyped-6647" class="Function">exts</a> <a id="plfa_plfa-part2-Substitution-25369" href="../Substitution/#plfa_plfa-part2-Substitution-25309" class="Bound">σ</a> <a id="plfa_plfa-part2-Substitution-25371" href="../Substitution/#plfa_plfa-part2-Substitution-3740" class="Function Operator">⨟</a> <a id="plfa_plfa-part2-Substitution-25373" href="../Untyped/#plfa_plfa-part2-Untyped-7359" class="Function">subst-zero</a> <a id="plfa_plfa-part2-Substitution-25384" href="../Substitution/#plfa_plfa-part2-Substitution-25327" class="Bound">M</a> <a id="plfa_plfa-part2-Substitution-25386" href="https://agda.github.io/agda-stdlib/v1.3/Agda.Builtin.Equality.html#151" class="Datatype Operator">≡</a> <a id="plfa_plfa-part2-Substitution-25388" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-25389" href="../Substitution/#plfa_plfa-part2-Substitution-25327" class="Bound">M</a> <a id="plfa_plfa-part2-Substitution-25391" href="../Substitution/#plfa_plfa-part2-Substitution-3385" class="Function Operator">•</a> <a id="plfa_plfa-part2-Substitution-25393" href="../Substitution/#plfa_plfa-part2-Substitution-25309" class="Bound">σ</a><a id="plfa_plfa-part2-Substitution-25394" class="Symbol">)</a> <a id="plfa_plfa-part2-Substitution-25396" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-25397" href="../Substitution/#plfa_plfa-part2-Substitution-25338" class="Bound">A</a><a id="plfa_plfa-part2-Substitution-25398" class="Symbol">}</a>
<a id="plfa_plfa-part2-Substitution-25400" href="../Substitution/#plfa_plfa-part2-Substitution-25279" class="Function">subst-zero-exts-cons</a> <a id="plfa_plfa-part2-Substitution-25421" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-25422" href="../Substitution/#plfa_plfa-part2-Substitution-25422" class="Bound">Γ</a><a id="plfa_plfa-part2-Substitution-25423" class="Symbol">}{</a><a id="plfa_plfa-part2-Substitution-25425" href="../Substitution/#plfa_plfa-part2-Substitution-25425" class="Bound">Δ</a><a id="plfa_plfa-part2-Substitution-25426" class="Symbol">}{</a><a id="plfa_plfa-part2-Substitution-25428" href="../Substitution/#plfa_plfa-part2-Substitution-25428" class="Bound">σ</a><a id="plfa_plfa-part2-Substitution-25429" class="Symbol">}{</a><a id="plfa_plfa-part2-Substitution-25431" href="../Substitution/#plfa_plfa-part2-Substitution-25431" class="Bound">B</a><a id="plfa_plfa-part2-Substitution-25432" class="Symbol">}{</a><a id="plfa_plfa-part2-Substitution-25434" href="../Substitution/#plfa_plfa-part2-Substitution-25434" class="Bound">M</a><a id="plfa_plfa-part2-Substitution-25435" class="Symbol">}{</a><a id="plfa_plfa-part2-Substitution-25437" href="../Substitution/#plfa_plfa-part2-Substitution-25437" class="Bound">A</a><a id="plfa_plfa-part2-Substitution-25438" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-25440" class="Symbol">=</a>
    <a id="plfa_plfa-part2-Substitution-25446" href="https://agda.github.io/agda-stdlib/v1.3/Relation.Binary.PropositionalEquality.Core.html#2517" class="Function Operator">begin</a>
      <a id="plfa_plfa-part2-Substitution-25458" href="../Untyped/#plfa_plfa-part2-Untyped-6647" class="Function">exts</a> <a id="plfa_plfa-part2-Substitution-25463" href="../Substitution/#plfa_plfa-part2-Substitution-25428" class="Bound">σ</a> <a id="plfa_plfa-part2-Substitution-25465" href="../Substitution/#plfa_plfa-part2-Substitution-3740" class="Function Operator">⨟</a> <a id="plfa_plfa-part2-Substitution-25467" href="../Untyped/#plfa_plfa-part2-Untyped-7359" class="Function">subst-zero</a> <a id="plfa_plfa-part2-Substitution-25478" href="../Substitution/#plfa_plfa-part2-Substitution-25434" class="Bound">M</a>
    <a id="plfa_plfa-part2-Substitution-25484" href="https://agda.github.io/agda-stdlib/v1.3/Relation.Binary.PropositionalEquality.Core.html#2634" class="Function">≡⟨</a> <a id="plfa_plfa-part2-Substitution-25487" href="../Substitution/#plfa_plfa-part2-Substitution-12246" class="Function">cong-seq</a> <a id="plfa_plfa-part2-Substitution-25496" href="../Substitution/#plfa_plfa-part2-Substitution-15028" class="Function">exts-cons-shift</a> <a id="plfa_plfa-part2-Substitution-25512" href="../Substitution/#plfa_plfa-part2-Substitution-15817" class="Function">subst-Z-cons-ids</a> <a id="plfa_plfa-part2-Substitution-25529" href="https://agda.github.io/agda-stdlib/v1.3/Relation.Binary.PropositionalEquality.Core.html#2634" class="Function">⟩</a>
      <a id="plfa_plfa-part2-Substitution-25537" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-25538" href="../Untyped/#plfa_plfa-part2-Untyped-4282" class="InductiveConstructor Operator">`</a> <a id="plfa_plfa-part2-Substitution-25540" href="../Untyped/#plfa_plfa-part2-Untyped-3505" class="InductiveConstructor">Z</a> <a id="plfa_plfa-part2-Substitution-25542" href="../Substitution/#plfa_plfa-part2-Substitution-3385" class="Function Operator">•</a> <a id="plfa_plfa-part2-Substitution-25544" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-25545" href="../Substitution/#plfa_plfa-part2-Substitution-25428" class="Bound">σ</a> <a id="plfa_plfa-part2-Substitution-25547" href="../Substitution/#plfa_plfa-part2-Substitution-3740" class="Function Operator">⨟</a> <a id="plfa_plfa-part2-Substitution-25549" href="../Substitution/#plfa_plfa-part2-Substitution-3139" class="Function">↑</a><a id="plfa_plfa-part2-Substitution-25550" class="Symbol">))</a> <a id="plfa_plfa-part2-Substitution-25553" href="../Substitution/#plfa_plfa-part2-Substitution-3740" class="Function Operator">⨟</a> <a id="plfa_plfa-part2-Substitution-25555" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-25556" href="../Substitution/#plfa_plfa-part2-Substitution-25434" class="Bound">M</a> <a id="plfa_plfa-part2-Substitution-25558" href="../Substitution/#plfa_plfa-part2-Substitution-3385" class="Function Operator">•</a> <a id="plfa_plfa-part2-Substitution-25560" href="../Substitution/#plfa_plfa-part2-Substitution-2996" class="Function">ids</a><a id="plfa_plfa-part2-Substitution-25563" class="Symbol">)</a>
    <a id="plfa_plfa-part2-Substitution-25569" href="https://agda.github.io/agda-stdlib/v1.3/Relation.Binary.PropositionalEquality.Core.html#2634" class="Function">≡⟨</a> <a id="plfa_plfa-part2-Substitution-25572" href="../Substitution/#plfa_plfa-part2-Substitution-9082" class="Function">sub-dist</a> <a id="plfa_plfa-part2-Substitution-25581" href="https://agda.github.io/agda-stdlib/v1.3/Relation.Binary.PropositionalEquality.Core.html#2634" class="Function">⟩</a>
      <a id="plfa_plfa-part2-Substitution-25589" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-25590" href="../Substitution/#plfa_plfa-part2-Substitution-2490" class="Function Operator">⟪</a> <a id="plfa_plfa-part2-Substitution-25592" href="../Substitution/#plfa_plfa-part2-Substitution-25434" class="Bound">M</a> <a id="plfa_plfa-part2-Substitution-25594" href="../Substitution/#plfa_plfa-part2-Substitution-3385" class="Function Operator">•</a> <a id="plfa_plfa-part2-Substitution-25596" href="../Substitution/#plfa_plfa-part2-Substitution-2996" class="Function">ids</a> <a id="plfa_plfa-part2-Substitution-25600" href="../Substitution/#plfa_plfa-part2-Substitution-2490" class="Function Operator">⟫</a> <a id="plfa_plfa-part2-Substitution-25602" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-25603" href="../Untyped/#plfa_plfa-part2-Untyped-4282" class="InductiveConstructor Operator">`</a> <a id="plfa_plfa-part2-Substitution-25605" href="../Untyped/#plfa_plfa-part2-Untyped-3505" class="InductiveConstructor">Z</a><a id="plfa_plfa-part2-Substitution-25606" class="Symbol">))</a> <a id="plfa_plfa-part2-Substitution-25609" href="../Substitution/#plfa_plfa-part2-Substitution-3385" class="Function Operator">•</a> <a id="plfa_plfa-part2-Substitution-25611" class="Symbol">((</a><a id="plfa_plfa-part2-Substitution-25613" href="../Substitution/#plfa_plfa-part2-Substitution-25428" class="Bound">σ</a> <a id="plfa_plfa-part2-Substitution-25615" href="../Substitution/#plfa_plfa-part2-Substitution-3740" class="Function Operator">⨟</a> <a id="plfa_plfa-part2-Substitution-25617" href="../Substitution/#plfa_plfa-part2-Substitution-3139" class="Function">↑</a><a id="plfa_plfa-part2-Substitution-25618" class="Symbol">)</a> <a id="plfa_plfa-part2-Substitution-25620" href="../Substitution/#plfa_plfa-part2-Substitution-3740" class="Function Operator">⨟</a> <a id="plfa_plfa-part2-Substitution-25622" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-25623" href="../Substitution/#plfa_plfa-part2-Substitution-25434" class="Bound">M</a> <a id="plfa_plfa-part2-Substitution-25625" href="../Substitution/#plfa_plfa-part2-Substitution-3385" class="Function Operator">•</a> <a id="plfa_plfa-part2-Substitution-25627" href="../Substitution/#plfa_plfa-part2-Substitution-2996" class="Function">ids</a><a id="plfa_plfa-part2-Substitution-25630" class="Symbol">))</a>
    <a id="plfa_plfa-part2-Substitution-25637" href="https://agda.github.io/agda-stdlib/v1.3/Relation.Binary.PropositionalEquality.Core.html#2634" class="Function">≡⟨</a> <a id="plfa_plfa-part2-Substitution-25640" href="../Substitution/#plfa_plfa-part2-Substitution-11897" class="Function">cong-cons</a> <a id="plfa_plfa-part2-Substitution-25650" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-25651" href="../Substitution/#plfa_plfa-part2-Substitution-8247" class="Function">sub-head</a><a id="plfa_plfa-part2-Substitution-25659" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-25660" class="Argument">σ</a> <a id="plfa_plfa-part2-Substitution-25662" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-25664" href="../Substitution/#plfa_plfa-part2-Substitution-2996" class="Function">ids</a><a id="plfa_plfa-part2-Substitution-25667" class="Symbol">})</a> <a id="plfa_plfa-part2-Substitution-25670" href="https://agda.github.io/agda-stdlib/v1.3/Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a> <a id="plfa_plfa-part2-Substitution-25675" href="https://agda.github.io/agda-stdlib/v1.3/Relation.Binary.PropositionalEquality.Core.html#2634" class="Function">⟩</a>
      <a id="plfa_plfa-part2-Substitution-25683" href="../Substitution/#plfa_plfa-part2-Substitution-25434" class="Bound">M</a> <a id="plfa_plfa-part2-Substitution-25685" href="../Substitution/#plfa_plfa-part2-Substitution-3385" class="Function Operator">•</a> <a id="plfa_plfa-part2-Substitution-25687" class="Symbol">((</a><a id="plfa_plfa-part2-Substitution-25689" href="../Substitution/#plfa_plfa-part2-Substitution-25428" class="Bound">σ</a> <a id="plfa_plfa-part2-Substitution-25691" href="../Substitution/#plfa_plfa-part2-Substitution-3740" class="Function Operator">⨟</a> <a id="plfa_plfa-part2-Substitution-25693" href="../Substitution/#plfa_plfa-part2-Substitution-3139" class="Function">↑</a><a id="plfa_plfa-part2-Substitution-25694" class="Symbol">)</a> <a id="plfa_plfa-part2-Substitution-25696" href="../Substitution/#plfa_plfa-part2-Substitution-3740" class="Function Operator">⨟</a> <a id="plfa_plfa-part2-Substitution-25698" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-25699" href="../Substitution/#plfa_plfa-part2-Substitution-25434" class="Bound">M</a> <a id="plfa_plfa-part2-Substitution-25701" href="../Substitution/#plfa_plfa-part2-Substitution-3385" class="Function Operator">•</a> <a id="plfa_plfa-part2-Substitution-25703" href="../Substitution/#plfa_plfa-part2-Substitution-2996" class="Function">ids</a><a id="plfa_plfa-part2-Substitution-25706" class="Symbol">))</a>
    <a id="plfa_plfa-part2-Substitution-25713" href="https://agda.github.io/agda-stdlib/v1.3/Relation.Binary.PropositionalEquality.Core.html#2634" class="Function">≡⟨</a> <a id="plfa_plfa-part2-Substitution-25716" href="../Substitution/#plfa_plfa-part2-Substitution-11897" class="Function">cong-cons</a> <a id="plfa_plfa-part2-Substitution-25726" href="https://agda.github.io/agda-stdlib/v1.3/Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a> <a id="plfa_plfa-part2-Substitution-25731" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-25732" href="../Substitution/#plfa_plfa-part2-Substitution-24520" class="Function">sub-assoc</a><a id="plfa_plfa-part2-Substitution-25741" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-25742" class="Argument">σ</a> <a id="plfa_plfa-part2-Substitution-25744" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-25746" href="../Substitution/#plfa_plfa-part2-Substitution-25428" class="Bound">σ</a><a id="plfa_plfa-part2-Substitution-25747" class="Symbol">})</a> <a id="plfa_plfa-part2-Substitution-25750" href="https://agda.github.io/agda-stdlib/v1.3/Relation.Binary.PropositionalEquality.Core.html#2634" class="Function">⟩</a>
      <a id="plfa_plfa-part2-Substitution-25758" href="../Substitution/#plfa_plfa-part2-Substitution-25434" class="Bound">M</a> <a id="plfa_plfa-part2-Substitution-25760" href="../Substitution/#plfa_plfa-part2-Substitution-3385" class="Function Operator">•</a> <a id="plfa_plfa-part2-Substitution-25762" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-25763" href="../Substitution/#plfa_plfa-part2-Substitution-25428" class="Bound">σ</a> <a id="plfa_plfa-part2-Substitution-25765" href="../Substitution/#plfa_plfa-part2-Substitution-3740" class="Function Operator">⨟</a> <a id="plfa_plfa-part2-Substitution-25767" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-25768" href="../Substitution/#plfa_plfa-part2-Substitution-3139" class="Function">↑</a> <a id="plfa_plfa-part2-Substitution-25770" href="../Substitution/#plfa_plfa-part2-Substitution-3740" class="Function Operator">⨟</a> <a id="plfa_plfa-part2-Substitution-25772" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-25773" href="../Substitution/#plfa_plfa-part2-Substitution-25434" class="Bound">M</a> <a id="plfa_plfa-part2-Substitution-25775" href="../Substitution/#plfa_plfa-part2-Substitution-3385" class="Function Operator">•</a> <a id="plfa_plfa-part2-Substitution-25777" href="../Substitution/#plfa_plfa-part2-Substitution-2996" class="Function">ids</a><a id="plfa_plfa-part2-Substitution-25780" class="Symbol">)))</a>
    <a id="plfa_plfa-part2-Substitution-25788" href="https://agda.github.io/agda-stdlib/v1.3/Relation.Binary.PropositionalEquality.Core.html#2634" class="Function">≡⟨</a> <a id="plfa_plfa-part2-Substitution-25791" href="../Substitution/#plfa_plfa-part2-Substitution-11897" class="Function">cong-cons</a> <a id="plfa_plfa-part2-Substitution-25801" href="https://agda.github.io/agda-stdlib/v1.3/Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a> <a id="plfa_plfa-part2-Substitution-25806" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-25807" href="../Substitution/#plfa_plfa-part2-Substitution-12246" class="Function">cong-seq</a><a id="plfa_plfa-part2-Substitution-25815" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-25816" class="Argument">σ</a> <a id="plfa_plfa-part2-Substitution-25818" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-25820" href="../Substitution/#plfa_plfa-part2-Substitution-25428" class="Bound">σ</a><a id="plfa_plfa-part2-Substitution-25821" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-25823" href="https://agda.github.io/agda-stdlib/v1.3/Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a> <a id="plfa_plfa-part2-Substitution-25828" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-25829" href="../Substitution/#plfa_plfa-part2-Substitution-8357" class="Function">sub-tail</a><a id="plfa_plfa-part2-Substitution-25837" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-25838" class="Argument">M</a> <a id="plfa_plfa-part2-Substitution-25840" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-25842" href="../Substitution/#plfa_plfa-part2-Substitution-25434" class="Bound">M</a><a id="plfa_plfa-part2-Substitution-25843" class="Symbol">}{</a><a id="plfa_plfa-part2-Substitution-25845" class="Argument">σ</a> <a id="plfa_plfa-part2-Substitution-25847" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-25849" href="../Substitution/#plfa_plfa-part2-Substitution-2996" class="Function">ids</a><a id="plfa_plfa-part2-Substitution-25852" class="Symbol">}))</a> <a id="plfa_plfa-part2-Substitution-25856" href="https://agda.github.io/agda-stdlib/v1.3/Relation.Binary.PropositionalEquality.Core.html#2634" class="Function">⟩</a>
      <a id="plfa_plfa-part2-Substitution-25864" href="../Substitution/#plfa_plfa-part2-Substitution-25434" class="Bound">M</a> <a id="plfa_plfa-part2-Substitution-25866" href="../Substitution/#plfa_plfa-part2-Substitution-3385" class="Function Operator">•</a> <a id="plfa_plfa-part2-Substitution-25868" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-25869" href="../Substitution/#plfa_plfa-part2-Substitution-25428" class="Bound">σ</a> <a id="plfa_plfa-part2-Substitution-25871" href="../Substitution/#plfa_plfa-part2-Substitution-3740" class="Function Operator">⨟</a> <a id="plfa_plfa-part2-Substitution-25873" href="../Substitution/#plfa_plfa-part2-Substitution-2996" class="Function">ids</a><a id="plfa_plfa-part2-Substitution-25876" class="Symbol">)</a>
    <a id="plfa_plfa-part2-Substitution-25882" href="https://agda.github.io/agda-stdlib/v1.3/Relation.Binary.PropositionalEquality.Core.html#2634" class="Function">≡⟨</a> <a id="plfa_plfa-part2-Substitution-25885" href="../Substitution/#plfa_plfa-part2-Substitution-11897" class="Function">cong-cons</a> <a id="plfa_plfa-part2-Substitution-25895" href="https://agda.github.io/agda-stdlib/v1.3/Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a> <a id="plfa_plfa-part2-Substitution-25900" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-25901" href="../Substitution/#plfa_plfa-part2-Substitution-17702" class="Function">sub-idR</a><a id="plfa_plfa-part2-Substitution-25908" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-25909" class="Argument">σ</a> <a id="plfa_plfa-part2-Substitution-25911" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-25913" href="../Substitution/#plfa_plfa-part2-Substitution-25428" class="Bound">σ</a><a id="plfa_plfa-part2-Substitution-25914" class="Symbol">})</a> <a id="plfa_plfa-part2-Substitution-25917" href="https://agda.github.io/agda-stdlib/v1.3/Relation.Binary.PropositionalEquality.Core.html#2634" class="Function">⟩</a>
      <a id="plfa_plfa-part2-Substitution-25925" href="../Substitution/#plfa_plfa-part2-Substitution-25434" class="Bound">M</a> <a id="plfa_plfa-part2-Substitution-25927" href="../Substitution/#plfa_plfa-part2-Substitution-3385" class="Function Operator">•</a> <a id="plfa_plfa-part2-Substitution-25929" href="../Substitution/#plfa_plfa-part2-Substitution-25428" class="Bound">σ</a>
    <a id="plfa_plfa-part2-Substitution-25935" href="https://agda.github.io/agda-stdlib/v1.3/Relation.Binary.PropositionalEquality.Core.html#2816" class="Function Operator">∎</a>
</pre><h2 id="proof-of-the-substitution-lemma">Proof of the substitution lemma</h2><p>We first prove the generalized form of the substitution lemma, showing that a substitution <code>σ</code> commutes with the substitution of <code>M</code> into <code>N</code>.</p><pre><code>⟪ exts σ ⟫ N [ ⟪ σ ⟫ M ] ≡ ⟪ σ ⟫ (N [ M ])</code></pre><p>This proof is where the σ algebra pays off. The proof is by direct equational reasoning. Starting with the left-hand side, we apply σ algebra equations, oriented left-to-right, until we arrive at the normal form</p><pre><code>⟪ ⟪ σ ⟫ M • σ ⟫ N</code></pre><p>We then do the same with the right-hand side, arriving at the same normal form.</p><pre class="Agda"><a id="plfa_plfa-part2-Substitution-subst-commute"></a><a id="plfa_plfa-part2-Substitution-26497" href="../Substitution/#plfa_plfa-part2-Substitution-26497" class="Function">subst-commute</a> <a id="plfa_plfa-part2-Substitution-26511" class="Symbol">:</a> <a id="plfa_plfa-part2-Substitution-26513" class="Symbol">∀{</a><a id="plfa_plfa-part2-Substitution-26515" href="../Substitution/#plfa_plfa-part2-Substitution-26515" class="Bound">Γ</a> <a id="plfa_plfa-part2-Substitution-26517" href="../Substitution/#plfa_plfa-part2-Substitution-26517" class="Bound">Δ</a><a id="plfa_plfa-part2-Substitution-26518" class="Symbol">}{</a><a id="plfa_plfa-part2-Substitution-26520" href="../Substitution/#plfa_plfa-part2-Substitution-26520" class="Bound">N</a> <a id="plfa_plfa-part2-Substitution-26522" class="Symbol">:</a> <a id="plfa_plfa-part2-Substitution-26524" href="../Substitution/#plfa_plfa-part2-Substitution-26515" class="Bound">Γ</a> <a id="plfa_plfa-part2-Substitution-26526" href="../Untyped/#plfa_plfa-part2-Untyped-3131" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part2-Substitution-26528" href="../Untyped/#plfa_plfa-part2-Untyped-2820" class="InductiveConstructor">★</a> <a id="plfa_plfa-part2-Substitution-26530" href="../Untyped/#plfa_plfa-part2-Untyped-4246" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Substitution-26532" href="../Untyped/#plfa_plfa-part2-Untyped-2820" class="InductiveConstructor">★</a><a id="plfa_plfa-part2-Substitution-26533" class="Symbol">}{</a><a id="plfa_plfa-part2-Substitution-26535" href="../Substitution/#plfa_plfa-part2-Substitution-26535" class="Bound">M</a> <a id="plfa_plfa-part2-Substitution-26537" class="Symbol">:</a> <a id="plfa_plfa-part2-Substitution-26539" href="../Substitution/#plfa_plfa-part2-Substitution-26515" class="Bound">Γ</a> <a id="plfa_plfa-part2-Substitution-26541" href="../Untyped/#plfa_plfa-part2-Untyped-4246" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Substitution-26543" href="../Untyped/#plfa_plfa-part2-Untyped-2820" class="InductiveConstructor">★</a><a id="plfa_plfa-part2-Substitution-26544" class="Symbol">}{</a><a id="plfa_plfa-part2-Substitution-26546" href="../Substitution/#plfa_plfa-part2-Substitution-26546" class="Bound">σ</a> <a id="plfa_plfa-part2-Substitution-26548" class="Symbol">:</a> <a id="plfa_plfa-part2-Substitution-26550" href="../Substitution/#plfa_plfa-part2-Substitution-2341" class="Function">Subst</a> <a id="plfa_plfa-part2-Substitution-26556" href="../Substitution/#plfa_plfa-part2-Substitution-26515" class="Bound">Γ</a> <a id="plfa_plfa-part2-Substitution-26558" href="../Substitution/#plfa_plfa-part2-Substitution-26517" class="Bound">Δ</a> <a id="plfa_plfa-part2-Substitution-26560" class="Symbol">}</a>
    <a id="plfa_plfa-part2-Substitution-26566" class="Symbol">→</a> <a id="plfa_plfa-part2-Substitution-26568" href="../Substitution/#plfa_plfa-part2-Substitution-2490" class="Function Operator">⟪</a> <a id="plfa_plfa-part2-Substitution-26570" href="../Untyped/#plfa_plfa-part2-Untyped-6647" class="Function">exts</a> <a id="plfa_plfa-part2-Substitution-26575" href="../Substitution/#plfa_plfa-part2-Substitution-26546" class="Bound">σ</a> <a id="plfa_plfa-part2-Substitution-26577" href="../Substitution/#plfa_plfa-part2-Substitution-2490" class="Function Operator">⟫</a> <a id="plfa_plfa-part2-Substitution-26579" href="../Substitution/#plfa_plfa-part2-Substitution-26520" class="Bound">N</a> <a id="plfa_plfa-part2-Substitution-26581" href="../Untyped/#plfa_plfa-part2-Untyped-7475" class="Function Operator">[</a> <a id="plfa_plfa-part2-Substitution-26583" href="../Substitution/#plfa_plfa-part2-Substitution-2490" class="Function Operator">⟪</a> <a id="plfa_plfa-part2-Substitution-26585" href="../Substitution/#plfa_plfa-part2-Substitution-26546" class="Bound">σ</a> <a id="plfa_plfa-part2-Substitution-26587" href="../Substitution/#plfa_plfa-part2-Substitution-2490" class="Function Operator">⟫</a> <a id="plfa_plfa-part2-Substitution-26589" href="../Substitution/#plfa_plfa-part2-Substitution-26535" class="Bound">M</a> <a id="plfa_plfa-part2-Substitution-26591" href="../Untyped/#plfa_plfa-part2-Untyped-7475" class="Function Operator">]</a> <a id="plfa_plfa-part2-Substitution-26593" href="https://agda.github.io/agda-stdlib/v1.3/Agda.Builtin.Equality.html#151" class="Datatype Operator">≡</a> <a id="plfa_plfa-part2-Substitution-26595" href="../Substitution/#plfa_plfa-part2-Substitution-2490" class="Function Operator">⟪</a> <a id="plfa_plfa-part2-Substitution-26597" href="../Substitution/#plfa_plfa-part2-Substitution-26546" class="Bound">σ</a> <a id="plfa_plfa-part2-Substitution-26599" href="../Substitution/#plfa_plfa-part2-Substitution-2490" class="Function Operator">⟫</a> <a id="plfa_plfa-part2-Substitution-26601" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-26602" href="../Substitution/#plfa_plfa-part2-Substitution-26520" class="Bound">N</a> <a id="plfa_plfa-part2-Substitution-26604" href="../Untyped/#plfa_plfa-part2-Untyped-7475" class="Function Operator">[</a> <a id="plfa_plfa-part2-Substitution-26606" href="../Substitution/#plfa_plfa-part2-Substitution-26535" class="Bound">M</a> <a id="plfa_plfa-part2-Substitution-26608" href="../Untyped/#plfa_plfa-part2-Untyped-7475" class="Function Operator">]</a><a id="plfa_plfa-part2-Substitution-26609" class="Symbol">)</a>
<a id="plfa_plfa-part2-Substitution-26611" href="../Substitution/#plfa_plfa-part2-Substitution-26497" class="Function">subst-commute</a> <a id="plfa_plfa-part2-Substitution-26625" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-26626" href="../Substitution/#plfa_plfa-part2-Substitution-26626" class="Bound">Γ</a><a id="plfa_plfa-part2-Substitution-26627" class="Symbol">}{</a><a id="plfa_plfa-part2-Substitution-26629" href="../Substitution/#plfa_plfa-part2-Substitution-26629" class="Bound">Δ</a><a id="plfa_plfa-part2-Substitution-26630" class="Symbol">}{</a><a id="plfa_plfa-part2-Substitution-26632" href="../Substitution/#plfa_plfa-part2-Substitution-26632" class="Bound">N</a><a id="plfa_plfa-part2-Substitution-26633" class="Symbol">}{</a><a id="plfa_plfa-part2-Substitution-26635" href="../Substitution/#plfa_plfa-part2-Substitution-26635" class="Bound">M</a><a id="plfa_plfa-part2-Substitution-26636" class="Symbol">}{</a><a id="plfa_plfa-part2-Substitution-26638" href="../Substitution/#plfa_plfa-part2-Substitution-26638" class="Bound">σ</a><a id="plfa_plfa-part2-Substitution-26639" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-26641" class="Symbol">=</a>
     <a id="plfa_plfa-part2-Substitution-26648" href="https://agda.github.io/agda-stdlib/v1.3/Relation.Binary.PropositionalEquality.Core.html#2517" class="Function Operator">begin</a>
       <a id="plfa_plfa-part2-Substitution-26661" href="../Substitution/#plfa_plfa-part2-Substitution-2490" class="Function Operator">⟪</a> <a id="plfa_plfa-part2-Substitution-26663" href="../Untyped/#plfa_plfa-part2-Untyped-6647" class="Function">exts</a> <a id="plfa_plfa-part2-Substitution-26668" href="../Substitution/#plfa_plfa-part2-Substitution-26638" class="Bound">σ</a> <a id="plfa_plfa-part2-Substitution-26670" href="../Substitution/#plfa_plfa-part2-Substitution-2490" class="Function Operator">⟫</a> <a id="plfa_plfa-part2-Substitution-26672" href="../Substitution/#plfa_plfa-part2-Substitution-26632" class="Bound">N</a> <a id="plfa_plfa-part2-Substitution-26674" href="../Untyped/#plfa_plfa-part2-Untyped-7475" class="Function Operator">[</a> <a id="plfa_plfa-part2-Substitution-26676" href="../Substitution/#plfa_plfa-part2-Substitution-2490" class="Function Operator">⟪</a> <a id="plfa_plfa-part2-Substitution-26678" href="../Substitution/#plfa_plfa-part2-Substitution-26638" class="Bound">σ</a> <a id="plfa_plfa-part2-Substitution-26680" href="../Substitution/#plfa_plfa-part2-Substitution-2490" class="Function Operator">⟫</a> <a id="plfa_plfa-part2-Substitution-26682" href="../Substitution/#plfa_plfa-part2-Substitution-26635" class="Bound">M</a> <a id="plfa_plfa-part2-Substitution-26684" href="../Untyped/#plfa_plfa-part2-Untyped-7475" class="Function Operator">]</a>
     <a id="plfa_plfa-part2-Substitution-26691" href="https://agda.github.io/agda-stdlib/v1.3/Relation.Binary.PropositionalEquality.Core.html#2575" class="Function Operator">≡⟨⟩</a>
       <a id="plfa_plfa-part2-Substitution-26702" href="../Substitution/#plfa_plfa-part2-Substitution-2490" class="Function Operator">⟪</a> <a id="plfa_plfa-part2-Substitution-26704" href="../Untyped/#plfa_plfa-part2-Untyped-7359" class="Function">subst-zero</a> <a id="plfa_plfa-part2-Substitution-26715" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-26716" href="../Substitution/#plfa_plfa-part2-Substitution-2490" class="Function Operator">⟪</a> <a id="plfa_plfa-part2-Substitution-26718" href="../Substitution/#plfa_plfa-part2-Substitution-26638" class="Bound">σ</a> <a id="plfa_plfa-part2-Substitution-26720" href="../Substitution/#plfa_plfa-part2-Substitution-2490" class="Function Operator">⟫</a> <a id="plfa_plfa-part2-Substitution-26722" href="../Substitution/#plfa_plfa-part2-Substitution-26635" class="Bound">M</a><a id="plfa_plfa-part2-Substitution-26723" class="Symbol">)</a> <a id="plfa_plfa-part2-Substitution-26725" href="../Substitution/#plfa_plfa-part2-Substitution-2490" class="Function Operator">⟫</a> <a id="plfa_plfa-part2-Substitution-26727" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-26728" href="../Substitution/#plfa_plfa-part2-Substitution-2490" class="Function Operator">⟪</a> <a id="plfa_plfa-part2-Substitution-26730" href="../Untyped/#plfa_plfa-part2-Untyped-6647" class="Function">exts</a> <a id="plfa_plfa-part2-Substitution-26735" href="../Substitution/#plfa_plfa-part2-Substitution-26638" class="Bound">σ</a> <a id="plfa_plfa-part2-Substitution-26737" href="../Substitution/#plfa_plfa-part2-Substitution-2490" class="Function Operator">⟫</a> <a id="plfa_plfa-part2-Substitution-26739" href="../Substitution/#plfa_plfa-part2-Substitution-26632" class="Bound">N</a><a id="plfa_plfa-part2-Substitution-26740" class="Symbol">)</a>
     <a id="plfa_plfa-part2-Substitution-26747" href="https://agda.github.io/agda-stdlib/v1.3/Relation.Binary.PropositionalEquality.Core.html#2634" class="Function">≡⟨</a> <a id="plfa_plfa-part2-Substitution-26750" href="../Substitution/#plfa_plfa-part2-Substitution-11150" class="Function">cong-sub</a> <a id="plfa_plfa-part2-Substitution-26759" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-26760" class="Argument">M</a> <a id="plfa_plfa-part2-Substitution-26762" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-26764" href="../Substitution/#plfa_plfa-part2-Substitution-2490" class="Function Operator">⟪</a> <a id="plfa_plfa-part2-Substitution-26766" href="../Untyped/#plfa_plfa-part2-Untyped-6647" class="Function">exts</a> <a id="plfa_plfa-part2-Substitution-26771" href="../Substitution/#plfa_plfa-part2-Substitution-26638" class="Bound">σ</a> <a id="plfa_plfa-part2-Substitution-26773" href="../Substitution/#plfa_plfa-part2-Substitution-2490" class="Function Operator">⟫</a> <a id="plfa_plfa-part2-Substitution-26775" href="../Substitution/#plfa_plfa-part2-Substitution-26632" class="Bound">N</a><a id="plfa_plfa-part2-Substitution-26776" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-26778" href="../Substitution/#plfa_plfa-part2-Substitution-15817" class="Function">subst-Z-cons-ids</a> <a id="plfa_plfa-part2-Substitution-26795" href="https://agda.github.io/agda-stdlib/v1.3/Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a> <a id="plfa_plfa-part2-Substitution-26800" href="https://agda.github.io/agda-stdlib/v1.3/Relation.Binary.PropositionalEquality.Core.html#2634" class="Function">⟩</a>
       <a id="plfa_plfa-part2-Substitution-26809" href="../Substitution/#plfa_plfa-part2-Substitution-2490" class="Function Operator">⟪</a> <a id="plfa_plfa-part2-Substitution-26811" href="../Substitution/#plfa_plfa-part2-Substitution-2490" class="Function Operator">⟪</a> <a id="plfa_plfa-part2-Substitution-26813" href="../Substitution/#plfa_plfa-part2-Substitution-26638" class="Bound">σ</a> <a id="plfa_plfa-part2-Substitution-26815" href="../Substitution/#plfa_plfa-part2-Substitution-2490" class="Function Operator">⟫</a> <a id="plfa_plfa-part2-Substitution-26817" href="../Substitution/#plfa_plfa-part2-Substitution-26635" class="Bound">M</a> <a id="plfa_plfa-part2-Substitution-26819" href="../Substitution/#plfa_plfa-part2-Substitution-3385" class="Function Operator">•</a> <a id="plfa_plfa-part2-Substitution-26821" href="../Substitution/#plfa_plfa-part2-Substitution-2996" class="Function">ids</a> <a id="plfa_plfa-part2-Substitution-26825" href="../Substitution/#plfa_plfa-part2-Substitution-2490" class="Function Operator">⟫</a> <a id="plfa_plfa-part2-Substitution-26827" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-26828" href="../Substitution/#plfa_plfa-part2-Substitution-2490" class="Function Operator">⟪</a> <a id="plfa_plfa-part2-Substitution-26830" href="../Untyped/#plfa_plfa-part2-Untyped-6647" class="Function">exts</a> <a id="plfa_plfa-part2-Substitution-26835" href="../Substitution/#plfa_plfa-part2-Substitution-26638" class="Bound">σ</a> <a id="plfa_plfa-part2-Substitution-26837" href="../Substitution/#plfa_plfa-part2-Substitution-2490" class="Function Operator">⟫</a> <a id="plfa_plfa-part2-Substitution-26839" href="../Substitution/#plfa_plfa-part2-Substitution-26632" class="Bound">N</a><a id="plfa_plfa-part2-Substitution-26840" class="Symbol">)</a>
     <a id="plfa_plfa-part2-Substitution-26847" href="https://agda.github.io/agda-stdlib/v1.3/Relation.Binary.PropositionalEquality.Core.html#2634" class="Function">≡⟨</a> <a id="plfa_plfa-part2-Substitution-26850" href="../Substitution/#plfa_plfa-part2-Substitution-23037" class="Function">sub-sub</a> <a id="plfa_plfa-part2-Substitution-26858" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-26859" class="Argument">M</a> <a id="plfa_plfa-part2-Substitution-26861" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-26863" href="../Substitution/#plfa_plfa-part2-Substitution-26632" class="Bound">N</a><a id="plfa_plfa-part2-Substitution-26864" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-26866" href="https://agda.github.io/agda-stdlib/v1.3/Relation.Binary.PropositionalEquality.Core.html#2634" class="Function">⟩</a>
       <a id="plfa_plfa-part2-Substitution-26875" href="../Substitution/#plfa_plfa-part2-Substitution-2490" class="Function Operator">⟪</a> <a id="plfa_plfa-part2-Substitution-26877" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-26878" href="../Untyped/#plfa_plfa-part2-Untyped-6647" class="Function">exts</a> <a id="plfa_plfa-part2-Substitution-26883" href="../Substitution/#plfa_plfa-part2-Substitution-26638" class="Bound">σ</a><a id="plfa_plfa-part2-Substitution-26884" class="Symbol">)</a> <a id="plfa_plfa-part2-Substitution-26886" href="../Substitution/#plfa_plfa-part2-Substitution-3740" class="Function Operator">⨟</a> <a id="plfa_plfa-part2-Substitution-26888" class="Symbol">((</a><a id="plfa_plfa-part2-Substitution-26890" href="../Substitution/#plfa_plfa-part2-Substitution-2490" class="Function Operator">⟪</a> <a id="plfa_plfa-part2-Substitution-26892" href="../Substitution/#plfa_plfa-part2-Substitution-26638" class="Bound">σ</a> <a id="plfa_plfa-part2-Substitution-26894" href="../Substitution/#plfa_plfa-part2-Substitution-2490" class="Function Operator">⟫</a> <a id="plfa_plfa-part2-Substitution-26896" href="../Substitution/#plfa_plfa-part2-Substitution-26635" class="Bound">M</a><a id="plfa_plfa-part2-Substitution-26897" class="Symbol">)</a> <a id="plfa_plfa-part2-Substitution-26899" href="../Substitution/#plfa_plfa-part2-Substitution-3385" class="Function Operator">•</a> <a id="plfa_plfa-part2-Substitution-26901" href="../Substitution/#plfa_plfa-part2-Substitution-2996" class="Function">ids</a><a id="plfa_plfa-part2-Substitution-26904" class="Symbol">)</a> <a id="plfa_plfa-part2-Substitution-26906" href="../Substitution/#plfa_plfa-part2-Substitution-2490" class="Function Operator">⟫</a> <a id="plfa_plfa-part2-Substitution-26908" href="../Substitution/#plfa_plfa-part2-Substitution-26632" class="Bound">N</a>
     <a id="plfa_plfa-part2-Substitution-26915" href="https://agda.github.io/agda-stdlib/v1.3/Relation.Binary.PropositionalEquality.Core.html#2634" class="Function">≡⟨</a> <a id="plfa_plfa-part2-Substitution-26918" href="../Substitution/#plfa_plfa-part2-Substitution-11150" class="Function">cong-sub</a> <a id="plfa_plfa-part2-Substitution-26927" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-26928" class="Argument">M</a> <a id="plfa_plfa-part2-Substitution-26930" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-26932" href="../Substitution/#plfa_plfa-part2-Substitution-26632" class="Bound">N</a><a id="plfa_plfa-part2-Substitution-26933" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-26935" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-26936" href="../Substitution/#plfa_plfa-part2-Substitution-12246" class="Function">cong-seq</a> <a id="plfa_plfa-part2-Substitution-26945" href="../Substitution/#plfa_plfa-part2-Substitution-15028" class="Function">exts-cons-shift</a> <a id="plfa_plfa-part2-Substitution-26961" href="https://agda.github.io/agda-stdlib/v1.3/Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a><a id="plfa_plfa-part2-Substitution-26965" class="Symbol">)</a> <a id="plfa_plfa-part2-Substitution-26967" href="https://agda.github.io/agda-stdlib/v1.3/Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a> <a id="plfa_plfa-part2-Substitution-26972" href="https://agda.github.io/agda-stdlib/v1.3/Relation.Binary.PropositionalEquality.Core.html#2634" class="Function">⟩</a>
       <a id="plfa_plfa-part2-Substitution-26981" href="../Substitution/#plfa_plfa-part2-Substitution-2490" class="Function Operator">⟪</a> <a id="plfa_plfa-part2-Substitution-26983" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-26984" href="../Untyped/#plfa_plfa-part2-Untyped-4282" class="InductiveConstructor Operator">`</a> <a id="plfa_plfa-part2-Substitution-26986" href="../Untyped/#plfa_plfa-part2-Untyped-3505" class="InductiveConstructor">Z</a> <a id="plfa_plfa-part2-Substitution-26988" href="../Substitution/#plfa_plfa-part2-Substitution-3385" class="Function Operator">•</a> <a id="plfa_plfa-part2-Substitution-26990" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-26991" href="../Substitution/#plfa_plfa-part2-Substitution-26638" class="Bound">σ</a> <a id="plfa_plfa-part2-Substitution-26993" href="../Substitution/#plfa_plfa-part2-Substitution-3740" class="Function Operator">⨟</a> <a id="plfa_plfa-part2-Substitution-26995" href="../Substitution/#plfa_plfa-part2-Substitution-3139" class="Function">↑</a><a id="plfa_plfa-part2-Substitution-26996" class="Symbol">))</a> <a id="plfa_plfa-part2-Substitution-26999" href="../Substitution/#plfa_plfa-part2-Substitution-3740" class="Function Operator">⨟</a> <a id="plfa_plfa-part2-Substitution-27001" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-27002" href="../Substitution/#plfa_plfa-part2-Substitution-2490" class="Function Operator">⟪</a> <a id="plfa_plfa-part2-Substitution-27004" href="../Substitution/#plfa_plfa-part2-Substitution-26638" class="Bound">σ</a> <a id="plfa_plfa-part2-Substitution-27006" href="../Substitution/#plfa_plfa-part2-Substitution-2490" class="Function Operator">⟫</a> <a id="plfa_plfa-part2-Substitution-27008" href="../Substitution/#plfa_plfa-part2-Substitution-26635" class="Bound">M</a> <a id="plfa_plfa-part2-Substitution-27010" href="../Substitution/#plfa_plfa-part2-Substitution-3385" class="Function Operator">•</a> <a id="plfa_plfa-part2-Substitution-27012" href="../Substitution/#plfa_plfa-part2-Substitution-2996" class="Function">ids</a><a id="plfa_plfa-part2-Substitution-27015" class="Symbol">)</a> <a id="plfa_plfa-part2-Substitution-27017" href="../Substitution/#plfa_plfa-part2-Substitution-2490" class="Function Operator">⟫</a> <a id="plfa_plfa-part2-Substitution-27019" href="../Substitution/#plfa_plfa-part2-Substitution-26632" class="Bound">N</a>
     <a id="plfa_plfa-part2-Substitution-27026" href="https://agda.github.io/agda-stdlib/v1.3/Relation.Binary.PropositionalEquality.Core.html#2634" class="Function">≡⟨</a> <a id="plfa_plfa-part2-Substitution-27029" href="../Substitution/#plfa_plfa-part2-Substitution-11150" class="Function">cong-sub</a> <a id="plfa_plfa-part2-Substitution-27038" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-27039" class="Argument">M</a> <a id="plfa_plfa-part2-Substitution-27041" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-27043" href="../Substitution/#plfa_plfa-part2-Substitution-26632" class="Bound">N</a><a id="plfa_plfa-part2-Substitution-27044" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-27046" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-27047" href="../Substitution/#plfa_plfa-part2-Substitution-9082" class="Function">sub-dist</a> <a id="plfa_plfa-part2-Substitution-27056" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-27057" class="Argument">M</a> <a id="plfa_plfa-part2-Substitution-27059" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-27061" href="../Untyped/#plfa_plfa-part2-Untyped-4282" class="InductiveConstructor Operator">`</a> <a id="plfa_plfa-part2-Substitution-27063" href="../Untyped/#plfa_plfa-part2-Untyped-3505" class="InductiveConstructor">Z</a><a id="plfa_plfa-part2-Substitution-27064" class="Symbol">})</a> <a id="plfa_plfa-part2-Substitution-27067" href="https://agda.github.io/agda-stdlib/v1.3/Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a> <a id="plfa_plfa-part2-Substitution-27072" href="https://agda.github.io/agda-stdlib/v1.3/Relation.Binary.PropositionalEquality.Core.html#2634" class="Function">⟩</a>
       <a id="plfa_plfa-part2-Substitution-27081" href="../Substitution/#plfa_plfa-part2-Substitution-2490" class="Function Operator">⟪</a> <a id="plfa_plfa-part2-Substitution-27083" href="../Substitution/#plfa_plfa-part2-Substitution-2490" class="Function Operator">⟪</a> <a id="plfa_plfa-part2-Substitution-27085" href="../Substitution/#plfa_plfa-part2-Substitution-2490" class="Function Operator">⟪</a> <a id="plfa_plfa-part2-Substitution-27087" href="../Substitution/#plfa_plfa-part2-Substitution-26638" class="Bound">σ</a> <a id="plfa_plfa-part2-Substitution-27089" href="../Substitution/#plfa_plfa-part2-Substitution-2490" class="Function Operator">⟫</a> <a id="plfa_plfa-part2-Substitution-27091" href="../Substitution/#plfa_plfa-part2-Substitution-26635" class="Bound">M</a> <a id="plfa_plfa-part2-Substitution-27093" href="../Substitution/#plfa_plfa-part2-Substitution-3385" class="Function Operator">•</a> <a id="plfa_plfa-part2-Substitution-27095" href="../Substitution/#plfa_plfa-part2-Substitution-2996" class="Function">ids</a> <a id="plfa_plfa-part2-Substitution-27099" href="../Substitution/#plfa_plfa-part2-Substitution-2490" class="Function Operator">⟫</a> <a id="plfa_plfa-part2-Substitution-27101" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-27102" href="../Untyped/#plfa_plfa-part2-Untyped-4282" class="InductiveConstructor Operator">`</a> <a id="plfa_plfa-part2-Substitution-27104" href="../Untyped/#plfa_plfa-part2-Untyped-3505" class="InductiveConstructor">Z</a><a id="plfa_plfa-part2-Substitution-27105" class="Symbol">)</a> <a id="plfa_plfa-part2-Substitution-27107" href="../Substitution/#plfa_plfa-part2-Substitution-3385" class="Function Operator">•</a> <a id="plfa_plfa-part2-Substitution-27109" class="Symbol">((</a><a id="plfa_plfa-part2-Substitution-27111" href="../Substitution/#plfa_plfa-part2-Substitution-26638" class="Bound">σ</a> <a id="plfa_plfa-part2-Substitution-27113" href="../Substitution/#plfa_plfa-part2-Substitution-3740" class="Function Operator">⨟</a> <a id="plfa_plfa-part2-Substitution-27115" href="../Substitution/#plfa_plfa-part2-Substitution-3139" class="Function">↑</a><a id="plfa_plfa-part2-Substitution-27116" class="Symbol">)</a> <a id="plfa_plfa-part2-Substitution-27118" href="../Substitution/#plfa_plfa-part2-Substitution-3740" class="Function Operator">⨟</a> <a id="plfa_plfa-part2-Substitution-27120" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-27121" href="../Substitution/#plfa_plfa-part2-Substitution-2490" class="Function Operator">⟪</a> <a id="plfa_plfa-part2-Substitution-27123" href="../Substitution/#plfa_plfa-part2-Substitution-26638" class="Bound">σ</a> <a id="plfa_plfa-part2-Substitution-27125" href="../Substitution/#plfa_plfa-part2-Substitution-2490" class="Function Operator">⟫</a> <a id="plfa_plfa-part2-Substitution-27127" href="../Substitution/#plfa_plfa-part2-Substitution-26635" class="Bound">M</a> <a id="plfa_plfa-part2-Substitution-27129" href="../Substitution/#plfa_plfa-part2-Substitution-3385" class="Function Operator">•</a> <a id="plfa_plfa-part2-Substitution-27131" href="../Substitution/#plfa_plfa-part2-Substitution-2996" class="Function">ids</a><a id="plfa_plfa-part2-Substitution-27134" class="Symbol">))</a> <a id="plfa_plfa-part2-Substitution-27137" href="../Substitution/#plfa_plfa-part2-Substitution-2490" class="Function Operator">⟫</a> <a id="plfa_plfa-part2-Substitution-27139" href="../Substitution/#plfa_plfa-part2-Substitution-26632" class="Bound">N</a>
     <a id="plfa_plfa-part2-Substitution-27146" href="https://agda.github.io/agda-stdlib/v1.3/Relation.Binary.PropositionalEquality.Core.html#2575" class="Function Operator">≡⟨⟩</a>
       <a id="plfa_plfa-part2-Substitution-27157" href="../Substitution/#plfa_plfa-part2-Substitution-2490" class="Function Operator">⟪</a> <a id="plfa_plfa-part2-Substitution-27159" href="../Substitution/#plfa_plfa-part2-Substitution-2490" class="Function Operator">⟪</a> <a id="plfa_plfa-part2-Substitution-27161" href="../Substitution/#plfa_plfa-part2-Substitution-26638" class="Bound">σ</a> <a id="plfa_plfa-part2-Substitution-27163" href="../Substitution/#plfa_plfa-part2-Substitution-2490" class="Function Operator">⟫</a> <a id="plfa_plfa-part2-Substitution-27165" href="../Substitution/#plfa_plfa-part2-Substitution-26635" class="Bound">M</a> <a id="plfa_plfa-part2-Substitution-27167" href="../Substitution/#plfa_plfa-part2-Substitution-3385" class="Function Operator">•</a> <a id="plfa_plfa-part2-Substitution-27169" class="Symbol">((</a><a id="plfa_plfa-part2-Substitution-27171" href="../Substitution/#plfa_plfa-part2-Substitution-26638" class="Bound">σ</a> <a id="plfa_plfa-part2-Substitution-27173" href="../Substitution/#plfa_plfa-part2-Substitution-3740" class="Function Operator">⨟</a> <a id="plfa_plfa-part2-Substitution-27175" href="../Substitution/#plfa_plfa-part2-Substitution-3139" class="Function">↑</a><a id="plfa_plfa-part2-Substitution-27176" class="Symbol">)</a> <a id="plfa_plfa-part2-Substitution-27178" href="../Substitution/#plfa_plfa-part2-Substitution-3740" class="Function Operator">⨟</a> <a id="plfa_plfa-part2-Substitution-27180" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-27181" href="../Substitution/#plfa_plfa-part2-Substitution-2490" class="Function Operator">⟪</a> <a id="plfa_plfa-part2-Substitution-27183" href="../Substitution/#plfa_plfa-part2-Substitution-26638" class="Bound">σ</a> <a id="plfa_plfa-part2-Substitution-27185" href="../Substitution/#plfa_plfa-part2-Substitution-2490" class="Function Operator">⟫</a> <a id="plfa_plfa-part2-Substitution-27187" href="../Substitution/#plfa_plfa-part2-Substitution-26635" class="Bound">M</a> <a id="plfa_plfa-part2-Substitution-27189" href="../Substitution/#plfa_plfa-part2-Substitution-3385" class="Function Operator">•</a> <a id="plfa_plfa-part2-Substitution-27191" href="../Substitution/#plfa_plfa-part2-Substitution-2996" class="Function">ids</a><a id="plfa_plfa-part2-Substitution-27194" class="Symbol">))</a> <a id="plfa_plfa-part2-Substitution-27197" href="../Substitution/#plfa_plfa-part2-Substitution-2490" class="Function Operator">⟫</a> <a id="plfa_plfa-part2-Substitution-27199" href="../Substitution/#plfa_plfa-part2-Substitution-26632" class="Bound">N</a>
     <a id="plfa_plfa-part2-Substitution-27206" href="https://agda.github.io/agda-stdlib/v1.3/Relation.Binary.PropositionalEquality.Core.html#2634" class="Function">≡⟨</a> <a id="plfa_plfa-part2-Substitution-27209" href="../Substitution/#plfa_plfa-part2-Substitution-11150" class="Function">cong-sub</a><a id="plfa_plfa-part2-Substitution-27217" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-27218" class="Argument">M</a> <a id="plfa_plfa-part2-Substitution-27220" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-27222" href="../Substitution/#plfa_plfa-part2-Substitution-26632" class="Bound">N</a><a id="plfa_plfa-part2-Substitution-27223" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-27225" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-27226" href="../Substitution/#plfa_plfa-part2-Substitution-11897" class="Function">cong-cons</a> <a id="plfa_plfa-part2-Substitution-27236" href="https://agda.github.io/agda-stdlib/v1.3/Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a> <a id="plfa_plfa-part2-Substitution-27241" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-27242" href="../Substitution/#plfa_plfa-part2-Substitution-24520" class="Function">sub-assoc</a><a id="plfa_plfa-part2-Substitution-27251" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-27252" class="Argument">σ</a> <a id="plfa_plfa-part2-Substitution-27254" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-27256" href="../Substitution/#plfa_plfa-part2-Substitution-26638" class="Bound">σ</a><a id="plfa_plfa-part2-Substitution-27257" class="Symbol">}))</a> <a id="plfa_plfa-part2-Substitution-27261" href="https://agda.github.io/agda-stdlib/v1.3/Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a> <a id="plfa_plfa-part2-Substitution-27266" href="https://agda.github.io/agda-stdlib/v1.3/Relation.Binary.PropositionalEquality.Core.html#2634" class="Function">⟩</a>
       <a id="plfa_plfa-part2-Substitution-27275" href="../Substitution/#plfa_plfa-part2-Substitution-2490" class="Function Operator">⟪</a> <a id="plfa_plfa-part2-Substitution-27277" href="../Substitution/#plfa_plfa-part2-Substitution-2490" class="Function Operator">⟪</a> <a id="plfa_plfa-part2-Substitution-27279" href="../Substitution/#plfa_plfa-part2-Substitution-26638" class="Bound">σ</a> <a id="plfa_plfa-part2-Substitution-27281" href="../Substitution/#plfa_plfa-part2-Substitution-2490" class="Function Operator">⟫</a> <a id="plfa_plfa-part2-Substitution-27283" href="../Substitution/#plfa_plfa-part2-Substitution-26635" class="Bound">M</a> <a id="plfa_plfa-part2-Substitution-27285" href="../Substitution/#plfa_plfa-part2-Substitution-3385" class="Function Operator">•</a> <a id="plfa_plfa-part2-Substitution-27287" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-27288" href="../Substitution/#plfa_plfa-part2-Substitution-26638" class="Bound">σ</a> <a id="plfa_plfa-part2-Substitution-27290" href="../Substitution/#plfa_plfa-part2-Substitution-3740" class="Function Operator">⨟</a> <a id="plfa_plfa-part2-Substitution-27292" href="../Substitution/#plfa_plfa-part2-Substitution-3139" class="Function">↑</a> <a id="plfa_plfa-part2-Substitution-27294" href="../Substitution/#plfa_plfa-part2-Substitution-3740" class="Function Operator">⨟</a> <a id="plfa_plfa-part2-Substitution-27296" href="../Substitution/#plfa_plfa-part2-Substitution-2490" class="Function Operator">⟪</a> <a id="plfa_plfa-part2-Substitution-27298" href="../Substitution/#plfa_plfa-part2-Substitution-26638" class="Bound">σ</a> <a id="plfa_plfa-part2-Substitution-27300" href="../Substitution/#plfa_plfa-part2-Substitution-2490" class="Function Operator">⟫</a> <a id="plfa_plfa-part2-Substitution-27302" href="../Substitution/#plfa_plfa-part2-Substitution-26635" class="Bound">M</a> <a id="plfa_plfa-part2-Substitution-27304" href="../Substitution/#plfa_plfa-part2-Substitution-3385" class="Function Operator">•</a> <a id="plfa_plfa-part2-Substitution-27306" href="../Substitution/#plfa_plfa-part2-Substitution-2996" class="Function">ids</a><a id="plfa_plfa-part2-Substitution-27309" class="Symbol">)</a> <a id="plfa_plfa-part2-Substitution-27311" href="../Substitution/#plfa_plfa-part2-Substitution-2490" class="Function Operator">⟫</a> <a id="plfa_plfa-part2-Substitution-27313" href="../Substitution/#plfa_plfa-part2-Substitution-26632" class="Bound">N</a>
     <a id="plfa_plfa-part2-Substitution-27320" href="https://agda.github.io/agda-stdlib/v1.3/Relation.Binary.PropositionalEquality.Core.html#2634" class="Function">≡⟨</a> <a id="plfa_plfa-part2-Substitution-27323" href="../Substitution/#plfa_plfa-part2-Substitution-11150" class="Function">cong-sub</a><a id="plfa_plfa-part2-Substitution-27331" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-27332" class="Argument">M</a> <a id="plfa_plfa-part2-Substitution-27334" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-27336" href="../Substitution/#plfa_plfa-part2-Substitution-26632" class="Bound">N</a><a id="plfa_plfa-part2-Substitution-27337" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-27339" href="https://agda.github.io/agda-stdlib/v1.3/Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a> <a id="plfa_plfa-part2-Substitution-27344" href="https://agda.github.io/agda-stdlib/v1.3/Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a> <a id="plfa_plfa-part2-Substitution-27349" href="https://agda.github.io/agda-stdlib/v1.3/Relation.Binary.PropositionalEquality.Core.html#2634" class="Function">⟩</a>
       <a id="plfa_plfa-part2-Substitution-27358" href="../Substitution/#plfa_plfa-part2-Substitution-2490" class="Function Operator">⟪</a> <a id="plfa_plfa-part2-Substitution-27360" href="../Substitution/#plfa_plfa-part2-Substitution-2490" class="Function Operator">⟪</a> <a id="plfa_plfa-part2-Substitution-27362" href="../Substitution/#plfa_plfa-part2-Substitution-26638" class="Bound">σ</a> <a id="plfa_plfa-part2-Substitution-27364" href="../Substitution/#plfa_plfa-part2-Substitution-2490" class="Function Operator">⟫</a> <a id="plfa_plfa-part2-Substitution-27366" href="../Substitution/#plfa_plfa-part2-Substitution-26635" class="Bound">M</a> <a id="plfa_plfa-part2-Substitution-27368" href="../Substitution/#plfa_plfa-part2-Substitution-3385" class="Function Operator">•</a> <a id="plfa_plfa-part2-Substitution-27370" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-27371" href="../Substitution/#plfa_plfa-part2-Substitution-26638" class="Bound">σ</a> <a id="plfa_plfa-part2-Substitution-27373" href="../Substitution/#plfa_plfa-part2-Substitution-3740" class="Function Operator">⨟</a> <a id="plfa_plfa-part2-Substitution-27375" href="../Substitution/#plfa_plfa-part2-Substitution-2996" class="Function">ids</a><a id="plfa_plfa-part2-Substitution-27378" class="Symbol">)</a> <a id="plfa_plfa-part2-Substitution-27380" href="../Substitution/#plfa_plfa-part2-Substitution-2490" class="Function Operator">⟫</a> <a id="plfa_plfa-part2-Substitution-27382" href="../Substitution/#plfa_plfa-part2-Substitution-26632" class="Bound">N</a>
     <a id="plfa_plfa-part2-Substitution-27389" href="https://agda.github.io/agda-stdlib/v1.3/Relation.Binary.PropositionalEquality.Core.html#2634" class="Function">≡⟨</a> <a id="plfa_plfa-part2-Substitution-27392" href="../Substitution/#plfa_plfa-part2-Substitution-11150" class="Function">cong-sub</a><a id="plfa_plfa-part2-Substitution-27400" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-27401" class="Argument">M</a> <a id="plfa_plfa-part2-Substitution-27403" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-27405" href="../Substitution/#plfa_plfa-part2-Substitution-26632" class="Bound">N</a><a id="plfa_plfa-part2-Substitution-27406" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-27408" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-27409" href="../Substitution/#plfa_plfa-part2-Substitution-11897" class="Function">cong-cons</a> <a id="plfa_plfa-part2-Substitution-27419" href="https://agda.github.io/agda-stdlib/v1.3/Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a> <a id="plfa_plfa-part2-Substitution-27424" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-27425" href="../Substitution/#plfa_plfa-part2-Substitution-17702" class="Function">sub-idR</a><a id="plfa_plfa-part2-Substitution-27432" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-27433" class="Argument">σ</a> <a id="plfa_plfa-part2-Substitution-27435" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-27437" href="../Substitution/#plfa_plfa-part2-Substitution-26638" class="Bound">σ</a><a id="plfa_plfa-part2-Substitution-27438" class="Symbol">}))</a> <a id="plfa_plfa-part2-Substitution-27442" href="https://agda.github.io/agda-stdlib/v1.3/Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a> <a id="plfa_plfa-part2-Substitution-27447" href="https://agda.github.io/agda-stdlib/v1.3/Relation.Binary.PropositionalEquality.Core.html#2634" class="Function">⟩</a>
       <a id="plfa_plfa-part2-Substitution-27456" href="../Substitution/#plfa_plfa-part2-Substitution-2490" class="Function Operator">⟪</a> <a id="plfa_plfa-part2-Substitution-27458" href="../Substitution/#plfa_plfa-part2-Substitution-2490" class="Function Operator">⟪</a> <a id="plfa_plfa-part2-Substitution-27460" href="../Substitution/#plfa_plfa-part2-Substitution-26638" class="Bound">σ</a> <a id="plfa_plfa-part2-Substitution-27462" href="../Substitution/#plfa_plfa-part2-Substitution-2490" class="Function Operator">⟫</a> <a id="plfa_plfa-part2-Substitution-27464" href="../Substitution/#plfa_plfa-part2-Substitution-26635" class="Bound">M</a> <a id="plfa_plfa-part2-Substitution-27466" href="../Substitution/#plfa_plfa-part2-Substitution-3385" class="Function Operator">•</a> <a id="plfa_plfa-part2-Substitution-27468" href="../Substitution/#plfa_plfa-part2-Substitution-26638" class="Bound">σ</a> <a id="plfa_plfa-part2-Substitution-27470" href="../Substitution/#plfa_plfa-part2-Substitution-2490" class="Function Operator">⟫</a> <a id="plfa_plfa-part2-Substitution-27472" href="../Substitution/#plfa_plfa-part2-Substitution-26632" class="Bound">N</a>
     <a id="plfa_plfa-part2-Substitution-27479" href="https://agda.github.io/agda-stdlib/v1.3/Relation.Binary.PropositionalEquality.Core.html#2634" class="Function">≡⟨</a> <a id="plfa_plfa-part2-Substitution-27482" href="../Substitution/#plfa_plfa-part2-Substitution-11150" class="Function">cong-sub</a><a id="plfa_plfa-part2-Substitution-27490" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-27491" class="Argument">M</a> <a id="plfa_plfa-part2-Substitution-27493" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-27495" href="../Substitution/#plfa_plfa-part2-Substitution-26632" class="Bound">N</a><a id="plfa_plfa-part2-Substitution-27496" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-27498" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-27499" href="../Substitution/#plfa_plfa-part2-Substitution-11897" class="Function">cong-cons</a> <a id="plfa_plfa-part2-Substitution-27509" href="https://agda.github.io/agda-stdlib/v1.3/Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a> <a id="plfa_plfa-part2-Substitution-27514" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-27515" href="../Substitution/#plfa_plfa-part2-Substitution-8971" class="Function">sub-idL</a><a id="plfa_plfa-part2-Substitution-27522" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-27523" class="Argument">σ</a> <a id="plfa_plfa-part2-Substitution-27525" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-27527" href="../Substitution/#plfa_plfa-part2-Substitution-26638" class="Bound">σ</a><a id="plfa_plfa-part2-Substitution-27528" class="Symbol">}))</a> <a id="plfa_plfa-part2-Substitution-27532" href="https://agda.github.io/agda-stdlib/v1.3/Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a> <a id="plfa_plfa-part2-Substitution-27537" href="https://agda.github.io/agda-stdlib/v1.3/Relation.Binary.PropositionalEquality.Core.html#2634" class="Function">⟩</a>
       <a id="plfa_plfa-part2-Substitution-27546" href="../Substitution/#plfa_plfa-part2-Substitution-2490" class="Function Operator">⟪</a> <a id="plfa_plfa-part2-Substitution-27548" href="../Substitution/#plfa_plfa-part2-Substitution-2490" class="Function Operator">⟪</a> <a id="plfa_plfa-part2-Substitution-27550" href="../Substitution/#plfa_plfa-part2-Substitution-26638" class="Bound">σ</a> <a id="plfa_plfa-part2-Substitution-27552" href="../Substitution/#plfa_plfa-part2-Substitution-2490" class="Function Operator">⟫</a> <a id="plfa_plfa-part2-Substitution-27554" href="../Substitution/#plfa_plfa-part2-Substitution-26635" class="Bound">M</a> <a id="plfa_plfa-part2-Substitution-27556" href="../Substitution/#plfa_plfa-part2-Substitution-3385" class="Function Operator">•</a> <a id="plfa_plfa-part2-Substitution-27558" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-27559" href="../Substitution/#plfa_plfa-part2-Substitution-2996" class="Function">ids</a> <a id="plfa_plfa-part2-Substitution-27563" href="../Substitution/#plfa_plfa-part2-Substitution-3740" class="Function Operator">⨟</a> <a id="plfa_plfa-part2-Substitution-27565" href="../Substitution/#plfa_plfa-part2-Substitution-26638" class="Bound">σ</a><a id="plfa_plfa-part2-Substitution-27566" class="Symbol">)</a> <a id="plfa_plfa-part2-Substitution-27568" href="../Substitution/#plfa_plfa-part2-Substitution-2490" class="Function Operator">⟫</a> <a id="plfa_plfa-part2-Substitution-27570" href="../Substitution/#plfa_plfa-part2-Substitution-26632" class="Bound">N</a>
     <a id="plfa_plfa-part2-Substitution-27577" href="https://agda.github.io/agda-stdlib/v1.3/Relation.Binary.PropositionalEquality.Core.html#2634" class="Function">≡⟨</a> <a id="plfa_plfa-part2-Substitution-27580" href="../Substitution/#plfa_plfa-part2-Substitution-11150" class="Function">cong-sub</a><a id="plfa_plfa-part2-Substitution-27588" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-27589" class="Argument">M</a> <a id="plfa_plfa-part2-Substitution-27591" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-27593" href="../Substitution/#plfa_plfa-part2-Substitution-26632" class="Bound">N</a><a id="plfa_plfa-part2-Substitution-27594" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-27596" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-27597" href="https://agda.github.io/agda-stdlib/v1.3/Relation.Binary.PropositionalEquality.Core.html#980" class="Function">sym</a> <a id="plfa_plfa-part2-Substitution-27601" href="../Substitution/#plfa_plfa-part2-Substitution-9082" class="Function">sub-dist</a><a id="plfa_plfa-part2-Substitution-27609" class="Symbol">)</a> <a id="plfa_plfa-part2-Substitution-27611" href="https://agda.github.io/agda-stdlib/v1.3/Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a> <a id="plfa_plfa-part2-Substitution-27616" href="https://agda.github.io/agda-stdlib/v1.3/Relation.Binary.PropositionalEquality.Core.html#2634" class="Function">⟩</a>
       <a id="plfa_plfa-part2-Substitution-27625" href="../Substitution/#plfa_plfa-part2-Substitution-2490" class="Function Operator">⟪</a> <a id="plfa_plfa-part2-Substitution-27627" href="../Substitution/#plfa_plfa-part2-Substitution-26635" class="Bound">M</a> <a id="plfa_plfa-part2-Substitution-27629" href="../Substitution/#plfa_plfa-part2-Substitution-3385" class="Function Operator">•</a> <a id="plfa_plfa-part2-Substitution-27631" href="../Substitution/#plfa_plfa-part2-Substitution-2996" class="Function">ids</a> <a id="plfa_plfa-part2-Substitution-27635" href="../Substitution/#plfa_plfa-part2-Substitution-3740" class="Function Operator">⨟</a> <a id="plfa_plfa-part2-Substitution-27637" href="../Substitution/#plfa_plfa-part2-Substitution-26638" class="Bound">σ</a> <a id="plfa_plfa-part2-Substitution-27639" href="../Substitution/#plfa_plfa-part2-Substitution-2490" class="Function Operator">⟫</a> <a id="plfa_plfa-part2-Substitution-27641" href="../Substitution/#plfa_plfa-part2-Substitution-26632" class="Bound">N</a>
     <a id="plfa_plfa-part2-Substitution-27648" href="https://agda.github.io/agda-stdlib/v1.3/Relation.Binary.PropositionalEquality.Core.html#2634" class="Function">≡⟨</a> <a id="plfa_plfa-part2-Substitution-27651" href="https://agda.github.io/agda-stdlib/v1.3/Relation.Binary.PropositionalEquality.Core.html#980" class="Function">sym</a> <a id="plfa_plfa-part2-Substitution-27655" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-27656" href="../Substitution/#plfa_plfa-part2-Substitution-23037" class="Function">sub-sub</a><a id="plfa_plfa-part2-Substitution-27663" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-27664" class="Argument">M</a> <a id="plfa_plfa-part2-Substitution-27666" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-27668" href="../Substitution/#plfa_plfa-part2-Substitution-26632" class="Bound">N</a><a id="plfa_plfa-part2-Substitution-27669" class="Symbol">})</a> <a id="plfa_plfa-part2-Substitution-27672" href="https://agda.github.io/agda-stdlib/v1.3/Relation.Binary.PropositionalEquality.Core.html#2634" class="Function">⟩</a>
       <a id="plfa_plfa-part2-Substitution-27681" href="../Substitution/#plfa_plfa-part2-Substitution-2490" class="Function Operator">⟪</a> <a id="plfa_plfa-part2-Substitution-27683" href="../Substitution/#plfa_plfa-part2-Substitution-26638" class="Bound">σ</a> <a id="plfa_plfa-part2-Substitution-27685" href="../Substitution/#plfa_plfa-part2-Substitution-2490" class="Function Operator">⟫</a> <a id="plfa_plfa-part2-Substitution-27687" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-27688" href="../Substitution/#plfa_plfa-part2-Substitution-2490" class="Function Operator">⟪</a> <a id="plfa_plfa-part2-Substitution-27690" href="../Substitution/#plfa_plfa-part2-Substitution-26635" class="Bound">M</a> <a id="plfa_plfa-part2-Substitution-27692" href="../Substitution/#plfa_plfa-part2-Substitution-3385" class="Function Operator">•</a> <a id="plfa_plfa-part2-Substitution-27694" href="../Substitution/#plfa_plfa-part2-Substitution-2996" class="Function">ids</a> <a id="plfa_plfa-part2-Substitution-27698" href="../Substitution/#plfa_plfa-part2-Substitution-2490" class="Function Operator">⟫</a> <a id="plfa_plfa-part2-Substitution-27700" href="../Substitution/#plfa_plfa-part2-Substitution-26632" class="Bound">N</a><a id="plfa_plfa-part2-Substitution-27701" class="Symbol">)</a>
     <a id="plfa_plfa-part2-Substitution-27708" href="https://agda.github.io/agda-stdlib/v1.3/Relation.Binary.PropositionalEquality.Core.html#2634" class="Function">≡⟨</a> <a id="plfa_plfa-part2-Substitution-27711" href="https://agda.github.io/agda-stdlib/v1.3/Relation.Binary.PropositionalEquality.Core.html#1131" class="Function">cong</a> <a id="plfa_plfa-part2-Substitution-27716" href="../Substitution/#plfa_plfa-part2-Substitution-2490" class="Function Operator">⟪</a> <a id="plfa_plfa-part2-Substitution-27718" href="../Substitution/#plfa_plfa-part2-Substitution-26638" class="Bound">σ</a> <a id="plfa_plfa-part2-Substitution-27720" href="../Substitution/#plfa_plfa-part2-Substitution-2490" class="Function Operator">⟫</a> <a id="plfa_plfa-part2-Substitution-27722" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-27723" href="https://agda.github.io/agda-stdlib/v1.3/Relation.Binary.PropositionalEquality.Core.html#980" class="Function">sym</a> <a id="plfa_plfa-part2-Substitution-27727" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-27728" href="../Substitution/#plfa_plfa-part2-Substitution-11150" class="Function">cong-sub</a><a id="plfa_plfa-part2-Substitution-27736" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-27737" class="Argument">M</a> <a id="plfa_plfa-part2-Substitution-27739" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-27741" href="../Substitution/#plfa_plfa-part2-Substitution-26632" class="Bound">N</a><a id="plfa_plfa-part2-Substitution-27742" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-27744" href="../Substitution/#plfa_plfa-part2-Substitution-15817" class="Function">subst-Z-cons-ids</a> <a id="plfa_plfa-part2-Substitution-27761" href="https://agda.github.io/agda-stdlib/v1.3/Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a><a id="plfa_plfa-part2-Substitution-27765" class="Symbol">))</a> <a id="plfa_plfa-part2-Substitution-27768" href="https://agda.github.io/agda-stdlib/v1.3/Relation.Binary.PropositionalEquality.Core.html#2634" class="Function">⟩</a>
       <a id="plfa_plfa-part2-Substitution-27777" href="../Substitution/#plfa_plfa-part2-Substitution-2490" class="Function Operator">⟪</a> <a id="plfa_plfa-part2-Substitution-27779" href="../Substitution/#plfa_plfa-part2-Substitution-26638" class="Bound">σ</a> <a id="plfa_plfa-part2-Substitution-27781" href="../Substitution/#plfa_plfa-part2-Substitution-2490" class="Function Operator">⟫</a> <a id="plfa_plfa-part2-Substitution-27783" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-27784" href="../Substitution/#plfa_plfa-part2-Substitution-26632" class="Bound">N</a> <a id="plfa_plfa-part2-Substitution-27786" href="../Untyped/#plfa_plfa-part2-Untyped-7475" class="Function Operator">[</a> <a id="plfa_plfa-part2-Substitution-27788" href="../Substitution/#plfa_plfa-part2-Substitution-26635" class="Bound">M</a> <a id="plfa_plfa-part2-Substitution-27790" href="../Untyped/#plfa_plfa-part2-Untyped-7475" class="Function Operator">]</a><a id="plfa_plfa-part2-Substitution-27791" class="Symbol">)</a>
     <a id="plfa_plfa-part2-Substitution-27798" href="https://agda.github.io/agda-stdlib/v1.3/Relation.Binary.PropositionalEquality.Core.html#2816" class="Function Operator">∎</a>
</pre><p>A corollary of <code>subst-commute</code> is that <code>rename</code> also commutes with substitution. In the proof below, we first exchange <code>rename ρ</code> for the substitution <code>⟪ ren ρ ⟫</code>, and apply <code>subst-commute</code>, and then convert back to <code>rename ρ</code>.</p><pre class="Agda"><a id="plfa_plfa-part2-Substitution-rename-subst-commute"></a><a id="plfa_plfa-part2-Substitution-28042" href="../Substitution/#plfa_plfa-part2-Substitution-28042" class="Function">rename-subst-commute</a> <a id="plfa_plfa-part2-Substitution-28063" class="Symbol">:</a> <a id="plfa_plfa-part2-Substitution-28065" class="Symbol">∀{</a><a id="plfa_plfa-part2-Substitution-28067" href="../Substitution/#plfa_plfa-part2-Substitution-28067" class="Bound">Γ</a> <a id="plfa_plfa-part2-Substitution-28069" href="../Substitution/#plfa_plfa-part2-Substitution-28069" class="Bound">Δ</a><a id="plfa_plfa-part2-Substitution-28070" class="Symbol">}{</a><a id="plfa_plfa-part2-Substitution-28072" href="../Substitution/#plfa_plfa-part2-Substitution-28072" class="Bound">N</a> <a id="plfa_plfa-part2-Substitution-28074" class="Symbol">:</a> <a id="plfa_plfa-part2-Substitution-28076" href="../Substitution/#plfa_plfa-part2-Substitution-28067" class="Bound">Γ</a> <a id="plfa_plfa-part2-Substitution-28078" href="../Untyped/#plfa_plfa-part2-Untyped-3131" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part2-Substitution-28080" href="../Untyped/#plfa_plfa-part2-Untyped-2820" class="InductiveConstructor">★</a> <a id="plfa_plfa-part2-Substitution-28082" href="../Untyped/#plfa_plfa-part2-Untyped-4246" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Substitution-28084" href="../Untyped/#plfa_plfa-part2-Untyped-2820" class="InductiveConstructor">★</a><a id="plfa_plfa-part2-Substitution-28085" class="Symbol">}{</a><a id="plfa_plfa-part2-Substitution-28087" href="../Substitution/#plfa_plfa-part2-Substitution-28087" class="Bound">M</a> <a id="plfa_plfa-part2-Substitution-28089" class="Symbol">:</a> <a id="plfa_plfa-part2-Substitution-28091" href="../Substitution/#plfa_plfa-part2-Substitution-28067" class="Bound">Γ</a> <a id="plfa_plfa-part2-Substitution-28093" href="../Untyped/#plfa_plfa-part2-Untyped-4246" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Substitution-28095" href="../Untyped/#plfa_plfa-part2-Untyped-2820" class="InductiveConstructor">★</a><a id="plfa_plfa-part2-Substitution-28096" class="Symbol">}{</a><a id="plfa_plfa-part2-Substitution-28098" href="../Substitution/#plfa_plfa-part2-Substitution-28098" class="Bound">ρ</a> <a id="plfa_plfa-part2-Substitution-28100" class="Symbol">:</a> <a id="plfa_plfa-part2-Substitution-28102" href="../Substitution/#plfa_plfa-part2-Substitution-2124" class="Function">Rename</a> <a id="plfa_plfa-part2-Substitution-28109" href="../Substitution/#plfa_plfa-part2-Substitution-28067" class="Bound">Γ</a> <a id="plfa_plfa-part2-Substitution-28111" href="../Substitution/#plfa_plfa-part2-Substitution-28069" class="Bound">Δ</a> <a id="plfa_plfa-part2-Substitution-28113" class="Symbol">}</a>
    <a id="plfa_plfa-part2-Substitution-28119" class="Symbol">→</a> <a id="plfa_plfa-part2-Substitution-28121" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-28122" href="../Untyped/#plfa_plfa-part2-Untyped-6207" class="Function">rename</a> <a id="plfa_plfa-part2-Substitution-28129" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-28130" href="../Untyped/#plfa_plfa-part2-Untyped-5893" class="Function">ext</a> <a id="plfa_plfa-part2-Substitution-28134" href="../Substitution/#plfa_plfa-part2-Substitution-28098" class="Bound">ρ</a><a id="plfa_plfa-part2-Substitution-28135" class="Symbol">)</a> <a id="plfa_plfa-part2-Substitution-28137" href="../Substitution/#plfa_plfa-part2-Substitution-28072" class="Bound">N</a><a id="plfa_plfa-part2-Substitution-28138" class="Symbol">)</a> <a id="plfa_plfa-part2-Substitution-28140" href="../Untyped/#plfa_plfa-part2-Untyped-7475" class="Function Operator">[</a> <a id="plfa_plfa-part2-Substitution-28142" href="../Untyped/#plfa_plfa-part2-Untyped-6207" class="Function">rename</a> <a id="plfa_plfa-part2-Substitution-28149" href="../Substitution/#plfa_plfa-part2-Substitution-28098" class="Bound">ρ</a> <a id="plfa_plfa-part2-Substitution-28151" href="../Substitution/#plfa_plfa-part2-Substitution-28087" class="Bound">M</a> <a id="plfa_plfa-part2-Substitution-28153" href="../Untyped/#plfa_plfa-part2-Untyped-7475" class="Function Operator">]</a> <a id="plfa_plfa-part2-Substitution-28155" href="https://agda.github.io/agda-stdlib/v1.3/Agda.Builtin.Equality.html#151" class="Datatype Operator">≡</a> <a id="plfa_plfa-part2-Substitution-28157" href="../Untyped/#plfa_plfa-part2-Untyped-6207" class="Function">rename</a> <a id="plfa_plfa-part2-Substitution-28164" href="../Substitution/#plfa_plfa-part2-Substitution-28098" class="Bound">ρ</a> <a id="plfa_plfa-part2-Substitution-28166" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-28167" href="../Substitution/#plfa_plfa-part2-Substitution-28072" class="Bound">N</a> <a id="plfa_plfa-part2-Substitution-28169" href="../Untyped/#plfa_plfa-part2-Untyped-7475" class="Function Operator">[</a> <a id="plfa_plfa-part2-Substitution-28171" href="../Substitution/#plfa_plfa-part2-Substitution-28087" class="Bound">M</a> <a id="plfa_plfa-part2-Substitution-28173" href="../Untyped/#plfa_plfa-part2-Untyped-7475" class="Function Operator">]</a><a id="plfa_plfa-part2-Substitution-28174" class="Symbol">)</a>
<a id="plfa_plfa-part2-Substitution-28176" href="../Substitution/#plfa_plfa-part2-Substitution-28042" class="Function">rename-subst-commute</a> <a id="plfa_plfa-part2-Substitution-28197" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-28198" href="../Substitution/#plfa_plfa-part2-Substitution-28198" class="Bound">Γ</a><a id="plfa_plfa-part2-Substitution-28199" class="Symbol">}{</a><a id="plfa_plfa-part2-Substitution-28201" href="../Substitution/#plfa_plfa-part2-Substitution-28201" class="Bound">Δ</a><a id="plfa_plfa-part2-Substitution-28202" class="Symbol">}{</a><a id="plfa_plfa-part2-Substitution-28204" href="../Substitution/#plfa_plfa-part2-Substitution-28204" class="Bound">N</a><a id="plfa_plfa-part2-Substitution-28205" class="Symbol">}{</a><a id="plfa_plfa-part2-Substitution-28207" href="../Substitution/#plfa_plfa-part2-Substitution-28207" class="Bound">M</a><a id="plfa_plfa-part2-Substitution-28208" class="Symbol">}{</a><a id="plfa_plfa-part2-Substitution-28210" href="../Substitution/#plfa_plfa-part2-Substitution-28210" class="Bound">ρ</a><a id="plfa_plfa-part2-Substitution-28211" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-28213" class="Symbol">=</a>
     <a id="plfa_plfa-part2-Substitution-28220" href="https://agda.github.io/agda-stdlib/v1.3/Relation.Binary.PropositionalEquality.Core.html#2517" class="Function Operator">begin</a>
       <a id="plfa_plfa-part2-Substitution-28233" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-28234" href="../Untyped/#plfa_plfa-part2-Untyped-6207" class="Function">rename</a> <a id="plfa_plfa-part2-Substitution-28241" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-28242" href="../Untyped/#plfa_plfa-part2-Untyped-5893" class="Function">ext</a> <a id="plfa_plfa-part2-Substitution-28246" href="../Substitution/#plfa_plfa-part2-Substitution-28210" class="Bound">ρ</a><a id="plfa_plfa-part2-Substitution-28247" class="Symbol">)</a> <a id="plfa_plfa-part2-Substitution-28249" href="../Substitution/#plfa_plfa-part2-Substitution-28204" class="Bound">N</a><a id="plfa_plfa-part2-Substitution-28250" class="Symbol">)</a> <a id="plfa_plfa-part2-Substitution-28252" href="../Untyped/#plfa_plfa-part2-Untyped-7475" class="Function Operator">[</a> <a id="plfa_plfa-part2-Substitution-28254" href="../Untyped/#plfa_plfa-part2-Untyped-6207" class="Function">rename</a> <a id="plfa_plfa-part2-Substitution-28261" href="../Substitution/#plfa_plfa-part2-Substitution-28210" class="Bound">ρ</a> <a id="plfa_plfa-part2-Substitution-28263" href="../Substitution/#plfa_plfa-part2-Substitution-28207" class="Bound">M</a> <a id="plfa_plfa-part2-Substitution-28265" href="../Untyped/#plfa_plfa-part2-Untyped-7475" class="Function Operator">]</a>
     <a id="plfa_plfa-part2-Substitution-28272" href="https://agda.github.io/agda-stdlib/v1.3/Relation.Binary.PropositionalEquality.Core.html#2634" class="Function">≡⟨</a> <a id="plfa_plfa-part2-Substitution-28275" href="../Substitution/#plfa_plfa-part2-Substitution-11150" class="Function">cong-sub</a> <a id="plfa_plfa-part2-Substitution-28284" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-28285" href="../Substitution/#plfa_plfa-part2-Substitution-11642" class="Function">cong-sub-zero</a> <a id="plfa_plfa-part2-Substitution-28299" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-28300" href="../Substitution/#plfa_plfa-part2-Substitution-13652" class="Function">rename-subst-ren</a><a id="plfa_plfa-part2-Substitution-28316" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-28317" class="Argument">M</a> <a id="plfa_plfa-part2-Substitution-28319" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-28321" href="../Substitution/#plfa_plfa-part2-Substitution-28207" class="Bound">M</a><a id="plfa_plfa-part2-Substitution-28322" class="Symbol">}))</a>
                 <a id="plfa_plfa-part2-Substitution-28343" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-28344" href="../Substitution/#plfa_plfa-part2-Substitution-13652" class="Function">rename-subst-ren</a><a id="plfa_plfa-part2-Substitution-28360" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-28361" class="Argument">M</a> <a id="plfa_plfa-part2-Substitution-28363" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-28365" href="../Substitution/#plfa_plfa-part2-Substitution-28204" class="Bound">N</a><a id="plfa_plfa-part2-Substitution-28366" class="Symbol">})</a> <a id="plfa_plfa-part2-Substitution-28369" href="https://agda.github.io/agda-stdlib/v1.3/Relation.Binary.PropositionalEquality.Core.html#2634" class="Function">⟩</a>
       <a id="plfa_plfa-part2-Substitution-28378" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-28379" href="../Substitution/#plfa_plfa-part2-Substitution-2490" class="Function Operator">⟪</a> <a id="plfa_plfa-part2-Substitution-28381" href="../Substitution/#plfa_plfa-part2-Substitution-6482" class="Function">ren</a> <a id="plfa_plfa-part2-Substitution-28385" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-28386" href="../Untyped/#plfa_plfa-part2-Untyped-5893" class="Function">ext</a> <a id="plfa_plfa-part2-Substitution-28390" href="../Substitution/#plfa_plfa-part2-Substitution-28210" class="Bound">ρ</a><a id="plfa_plfa-part2-Substitution-28391" class="Symbol">)</a> <a id="plfa_plfa-part2-Substitution-28393" href="../Substitution/#plfa_plfa-part2-Substitution-2490" class="Function Operator">⟫</a> <a id="plfa_plfa-part2-Substitution-28395" href="../Substitution/#plfa_plfa-part2-Substitution-28204" class="Bound">N</a><a id="plfa_plfa-part2-Substitution-28396" class="Symbol">)</a> <a id="plfa_plfa-part2-Substitution-28398" href="../Untyped/#plfa_plfa-part2-Untyped-7475" class="Function Operator">[</a> <a id="plfa_plfa-part2-Substitution-28400" href="../Substitution/#plfa_plfa-part2-Substitution-2490" class="Function Operator">⟪</a> <a id="plfa_plfa-part2-Substitution-28402" href="../Substitution/#plfa_plfa-part2-Substitution-6482" class="Function">ren</a> <a id="plfa_plfa-part2-Substitution-28406" href="../Substitution/#plfa_plfa-part2-Substitution-28210" class="Bound">ρ</a> <a id="plfa_plfa-part2-Substitution-28408" href="../Substitution/#plfa_plfa-part2-Substitution-2490" class="Function Operator">⟫</a> <a id="plfa_plfa-part2-Substitution-28410" href="../Substitution/#plfa_plfa-part2-Substitution-28207" class="Bound">M</a> <a id="plfa_plfa-part2-Substitution-28412" href="../Untyped/#plfa_plfa-part2-Untyped-7475" class="Function Operator">]</a>
     <a id="plfa_plfa-part2-Substitution-28419" href="https://agda.github.io/agda-stdlib/v1.3/Relation.Binary.PropositionalEquality.Core.html#2634" class="Function">≡⟨</a> <a id="plfa_plfa-part2-Substitution-28422" href="../Substitution/#plfa_plfa-part2-Substitution-11150" class="Function">cong-sub</a> <a id="plfa_plfa-part2-Substitution-28431" href="https://agda.github.io/agda-stdlib/v1.3/Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a> <a id="plfa_plfa-part2-Substitution-28436" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-28437" href="../Substitution/#plfa_plfa-part2-Substitution-11150" class="Function">cong-sub</a><a id="plfa_plfa-part2-Substitution-28445" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-28446" class="Argument">M</a> <a id="plfa_plfa-part2-Substitution-28448" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-28450" href="../Substitution/#plfa_plfa-part2-Substitution-28204" class="Bound">N</a><a id="plfa_plfa-part2-Substitution-28451" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-28453" href="../Substitution/#plfa_plfa-part2-Substitution-13279" class="Function">ren-ext</a> <a id="plfa_plfa-part2-Substitution-28461" href="https://agda.github.io/agda-stdlib/v1.3/Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a><a id="plfa_plfa-part2-Substitution-28465" class="Symbol">)</a> <a id="plfa_plfa-part2-Substitution-28467" href="https://agda.github.io/agda-stdlib/v1.3/Relation.Binary.PropositionalEquality.Core.html#2634" class="Function">⟩</a>
       <a id="plfa_plfa-part2-Substitution-28476" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-28477" href="../Substitution/#plfa_plfa-part2-Substitution-2490" class="Function Operator">⟪</a> <a id="plfa_plfa-part2-Substitution-28479" href="../Untyped/#plfa_plfa-part2-Untyped-6647" class="Function">exts</a> <a id="plfa_plfa-part2-Substitution-28484" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-28485" href="../Substitution/#plfa_plfa-part2-Substitution-6482" class="Function">ren</a> <a id="plfa_plfa-part2-Substitution-28489" href="../Substitution/#plfa_plfa-part2-Substitution-28210" class="Bound">ρ</a><a id="plfa_plfa-part2-Substitution-28490" class="Symbol">)</a> <a id="plfa_plfa-part2-Substitution-28492" href="../Substitution/#plfa_plfa-part2-Substitution-2490" class="Function Operator">⟫</a> <a id="plfa_plfa-part2-Substitution-28494" href="../Substitution/#plfa_plfa-part2-Substitution-28204" class="Bound">N</a><a id="plfa_plfa-part2-Substitution-28495" class="Symbol">)</a> <a id="plfa_plfa-part2-Substitution-28497" href="../Untyped/#plfa_plfa-part2-Untyped-7475" class="Function Operator">[</a> <a id="plfa_plfa-part2-Substitution-28499" href="../Substitution/#plfa_plfa-part2-Substitution-2490" class="Function Operator">⟪</a> <a id="plfa_plfa-part2-Substitution-28501" href="../Substitution/#plfa_plfa-part2-Substitution-6482" class="Function">ren</a> <a id="plfa_plfa-part2-Substitution-28505" href="../Substitution/#plfa_plfa-part2-Substitution-28210" class="Bound">ρ</a> <a id="plfa_plfa-part2-Substitution-28507" href="../Substitution/#plfa_plfa-part2-Substitution-2490" class="Function Operator">⟫</a> <a id="plfa_plfa-part2-Substitution-28509" href="../Substitution/#plfa_plfa-part2-Substitution-28207" class="Bound">M</a> <a id="plfa_plfa-part2-Substitution-28511" href="../Untyped/#plfa_plfa-part2-Untyped-7475" class="Function Operator">]</a>
     <a id="plfa_plfa-part2-Substitution-28518" href="https://agda.github.io/agda-stdlib/v1.3/Relation.Binary.PropositionalEquality.Core.html#2634" class="Function">≡⟨</a> <a id="plfa_plfa-part2-Substitution-28521" href="../Substitution/#plfa_plfa-part2-Substitution-26497" class="Function">subst-commute</a><a id="plfa_plfa-part2-Substitution-28534" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-28535" class="Argument">N</a> <a id="plfa_plfa-part2-Substitution-28537" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-28539" href="../Substitution/#plfa_plfa-part2-Substitution-28204" class="Bound">N</a><a id="plfa_plfa-part2-Substitution-28540" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-28542" href="https://agda.github.io/agda-stdlib/v1.3/Relation.Binary.PropositionalEquality.Core.html#2634" class="Function">⟩</a>
       <a id="plfa_plfa-part2-Substitution-28551" href="../Untyped/#plfa_plfa-part2-Untyped-6943" class="Function">subst</a> <a id="plfa_plfa-part2-Substitution-28557" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-28558" href="../Substitution/#plfa_plfa-part2-Substitution-6482" class="Function">ren</a> <a id="plfa_plfa-part2-Substitution-28562" href="../Substitution/#plfa_plfa-part2-Substitution-28210" class="Bound">ρ</a><a id="plfa_plfa-part2-Substitution-28563" class="Symbol">)</a> <a id="plfa_plfa-part2-Substitution-28565" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-28566" href="../Substitution/#plfa_plfa-part2-Substitution-28204" class="Bound">N</a> <a id="plfa_plfa-part2-Substitution-28568" href="../Untyped/#plfa_plfa-part2-Untyped-7475" class="Function Operator">[</a> <a id="plfa_plfa-part2-Substitution-28570" href="../Substitution/#plfa_plfa-part2-Substitution-28207" class="Bound">M</a> <a id="plfa_plfa-part2-Substitution-28572" href="../Untyped/#plfa_plfa-part2-Untyped-7475" class="Function Operator">]</a><a id="plfa_plfa-part2-Substitution-28573" class="Symbol">)</a>
     <a id="plfa_plfa-part2-Substitution-28580" href="https://agda.github.io/agda-stdlib/v1.3/Relation.Binary.PropositionalEquality.Core.html#2634" class="Function">≡⟨</a> <a id="plfa_plfa-part2-Substitution-28583" href="https://agda.github.io/agda-stdlib/v1.3/Relation.Binary.PropositionalEquality.Core.html#980" class="Function">sym</a> <a id="plfa_plfa-part2-Substitution-28587" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-28588" href="../Substitution/#plfa_plfa-part2-Substitution-13652" class="Function">rename-subst-ren</a><a id="plfa_plfa-part2-Substitution-28604" class="Symbol">)</a> <a id="plfa_plfa-part2-Substitution-28606" href="https://agda.github.io/agda-stdlib/v1.3/Relation.Binary.PropositionalEquality.Core.html#2634" class="Function">⟩</a>
       <a id="plfa_plfa-part2-Substitution-28615" href="../Untyped/#plfa_plfa-part2-Untyped-6207" class="Function">rename</a> <a id="plfa_plfa-part2-Substitution-28622" href="../Substitution/#plfa_plfa-part2-Substitution-28210" class="Bound">ρ</a> <a id="plfa_plfa-part2-Substitution-28624" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-28625" href="../Substitution/#plfa_plfa-part2-Substitution-28204" class="Bound">N</a> <a id="plfa_plfa-part2-Substitution-28627" href="../Untyped/#plfa_plfa-part2-Untyped-7475" class="Function Operator">[</a> <a id="plfa_plfa-part2-Substitution-28629" href="../Substitution/#plfa_plfa-part2-Substitution-28207" class="Bound">M</a> <a id="plfa_plfa-part2-Substitution-28631" href="../Untyped/#plfa_plfa-part2-Untyped-7475" class="Function Operator">]</a><a id="plfa_plfa-part2-Substitution-28632" class="Symbol">)</a>
     <a id="plfa_plfa-part2-Substitution-28639" href="https://agda.github.io/agda-stdlib/v1.3/Relation.Binary.PropositionalEquality.Core.html#2816" class="Function Operator">∎</a>
</pre><p>To present the substitution lemma, we introduce the following notation for substituting a term <code>M</code> for index 1 within term <code>N</code>.</p><pre class="Agda"><a id="plfa_plfa-part2-Substitution-_〔_〕"></a><a id="plfa_plfa-part2-Substitution-28783" href="../Substitution/#plfa_plfa-part2-Substitution-28783" class="Function Operator">_〔_〕</a> <a id="plfa_plfa-part2-Substitution-28788" class="Symbol">:</a> <a id="plfa_plfa-part2-Substitution-28790" class="Symbol">∀</a> <a id="plfa_plfa-part2-Substitution-28792" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-28793" href="../Substitution/#plfa_plfa-part2-Substitution-28793" class="Bound">Γ</a> <a id="plfa_plfa-part2-Substitution-28795" href="../Substitution/#plfa_plfa-part2-Substitution-28795" class="Bound">A</a> <a id="plfa_plfa-part2-Substitution-28797" href="../Substitution/#plfa_plfa-part2-Substitution-28797" class="Bound">B</a> <a id="plfa_plfa-part2-Substitution-28799" href="../Substitution/#plfa_plfa-part2-Substitution-28799" class="Bound">C</a><a id="plfa_plfa-part2-Substitution-28800" class="Symbol">}</a>
        <a id="plfa_plfa-part2-Substitution-28810" class="Symbol">→</a> <a id="plfa_plfa-part2-Substitution-28812" href="../Substitution/#plfa_plfa-part2-Substitution-28793" class="Bound">Γ</a> <a id="plfa_plfa-part2-Substitution-28814" href="../Untyped/#plfa_plfa-part2-Untyped-3131" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part2-Substitution-28816" href="../Substitution/#plfa_plfa-part2-Substitution-28797" class="Bound">B</a> <a id="plfa_plfa-part2-Substitution-28818" href="../Untyped/#plfa_plfa-part2-Untyped-3131" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part2-Substitution-28820" href="../Substitution/#plfa_plfa-part2-Substitution-28799" class="Bound">C</a> <a id="plfa_plfa-part2-Substitution-28822" href="../Untyped/#plfa_plfa-part2-Untyped-4246" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Substitution-28824" href="../Substitution/#plfa_plfa-part2-Substitution-28795" class="Bound">A</a>
        <a id="plfa_plfa-part2-Substitution-28834" class="Symbol">→</a> <a id="plfa_plfa-part2-Substitution-28836" href="../Substitution/#plfa_plfa-part2-Substitution-28793" class="Bound">Γ</a> <a id="plfa_plfa-part2-Substitution-28838" href="../Untyped/#plfa_plfa-part2-Untyped-4246" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Substitution-28840" href="../Substitution/#plfa_plfa-part2-Substitution-28797" class="Bound">B</a>
          <a id="plfa_plfa-part2-Substitution-28852" class="Comment">---------</a>
        <a id="plfa_plfa-part2-Substitution-28870" class="Symbol">→</a> <a id="plfa_plfa-part2-Substitution-28872" href="../Substitution/#plfa_plfa-part2-Substitution-28793" class="Bound">Γ</a> <a id="plfa_plfa-part2-Substitution-28874" href="../Untyped/#plfa_plfa-part2-Untyped-3131" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part2-Substitution-28876" href="../Substitution/#plfa_plfa-part2-Substitution-28799" class="Bound">C</a> <a id="plfa_plfa-part2-Substitution-28878" href="../Untyped/#plfa_plfa-part2-Untyped-4246" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Substitution-28880" href="../Substitution/#plfa_plfa-part2-Substitution-28795" class="Bound">A</a>
<a id="plfa_plfa-part2-Substitution-28882" href="../Substitution/#plfa_plfa-part2-Substitution-28783" class="Function Operator">_〔_〕</a> <a id="plfa_plfa-part2-Substitution-28887" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-28888" href="../Substitution/#plfa_plfa-part2-Substitution-28888" class="Bound">Γ</a><a id="plfa_plfa-part2-Substitution-28889" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-28891" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-28892" href="../Substitution/#plfa_plfa-part2-Substitution-28892" class="Bound">A</a><a id="plfa_plfa-part2-Substitution-28893" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-28895" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-28896" href="../Substitution/#plfa_plfa-part2-Substitution-28896" class="Bound">B</a><a id="plfa_plfa-part2-Substitution-28897" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-28899" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-28900" href="../Substitution/#plfa_plfa-part2-Substitution-28900" class="Bound">C</a><a id="plfa_plfa-part2-Substitution-28901" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-28903" href="../Substitution/#plfa_plfa-part2-Substitution-28903" class="Bound">N</a> <a id="plfa_plfa-part2-Substitution-28905" href="../Substitution/#plfa_plfa-part2-Substitution-28905" class="Bound">M</a> <a id="plfa_plfa-part2-Substitution-28907" class="Symbol">=</a>
   <a id="plfa_plfa-part2-Substitution-28912" href="../Untyped/#plfa_plfa-part2-Untyped-6943" class="Function">subst</a> <a id="plfa_plfa-part2-Substitution-28918" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-28919" href="../Substitution/#plfa_plfa-part2-Substitution-28888" class="Bound">Γ</a> <a id="plfa_plfa-part2-Substitution-28921" href="../Untyped/#plfa_plfa-part2-Untyped-3131" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part2-Substitution-28923" href="../Substitution/#plfa_plfa-part2-Substitution-28896" class="Bound">B</a> <a id="plfa_plfa-part2-Substitution-28925" href="../Untyped/#plfa_plfa-part2-Untyped-3131" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part2-Substitution-28927" href="../Substitution/#plfa_plfa-part2-Substitution-28900" class="Bound">C</a><a id="plfa_plfa-part2-Substitution-28928" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-28930" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-28931" href="../Substitution/#plfa_plfa-part2-Substitution-28888" class="Bound">Γ</a> <a id="plfa_plfa-part2-Substitution-28933" href="../Untyped/#plfa_plfa-part2-Untyped-3131" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part2-Substitution-28935" href="../Substitution/#plfa_plfa-part2-Substitution-28900" class="Bound">C</a><a id="plfa_plfa-part2-Substitution-28936" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-28938" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-28939" href="../Untyped/#plfa_plfa-part2-Untyped-6647" class="Function">exts</a> <a id="plfa_plfa-part2-Substitution-28944" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-28945" href="../Untyped/#plfa_plfa-part2-Untyped-7359" class="Function">subst-zero</a> <a id="plfa_plfa-part2-Substitution-28956" href="../Substitution/#plfa_plfa-part2-Substitution-28905" class="Bound">M</a><a id="plfa_plfa-part2-Substitution-28957" class="Symbol">))</a> <a id="plfa_plfa-part2-Substitution-28960" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-28961" href="../Substitution/#plfa_plfa-part2-Substitution-28892" class="Bound">A</a><a id="plfa_plfa-part2-Substitution-28962" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-28964" href="../Substitution/#plfa_plfa-part2-Substitution-28903" class="Bound">N</a>
</pre><p>The substitution lemma is stated as follows and proved as a corollary of the <code>subst-commute</code> lemma.</p><pre class="Agda"><a id="plfa_plfa-part2-Substitution-substitution"></a><a id="plfa_plfa-part2-Substitution-29080" href="../Substitution/#plfa_plfa-part2-Substitution-29080" class="Function">substitution</a> <a id="plfa_plfa-part2-Substitution-29093" class="Symbol">:</a> <a id="plfa_plfa-part2-Substitution-29095" class="Symbol">∀{</a><a id="plfa_plfa-part2-Substitution-29097" href="../Substitution/#plfa_plfa-part2-Substitution-29097" class="Bound">Γ</a><a id="plfa_plfa-part2-Substitution-29098" class="Symbol">}{</a><a id="plfa_plfa-part2-Substitution-29100" href="../Substitution/#plfa_plfa-part2-Substitution-29100" class="Bound">M</a> <a id="plfa_plfa-part2-Substitution-29102" class="Symbol">:</a> <a id="plfa_plfa-part2-Substitution-29104" href="../Substitution/#plfa_plfa-part2-Substitution-29097" class="Bound">Γ</a> <a id="plfa_plfa-part2-Substitution-29106" href="../Untyped/#plfa_plfa-part2-Untyped-3131" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part2-Substitution-29108" href="../Untyped/#plfa_plfa-part2-Untyped-2820" class="InductiveConstructor">★</a> <a id="plfa_plfa-part2-Substitution-29110" href="../Untyped/#plfa_plfa-part2-Untyped-3131" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part2-Substitution-29112" href="../Untyped/#plfa_plfa-part2-Untyped-2820" class="InductiveConstructor">★</a> <a id="plfa_plfa-part2-Substitution-29114" href="../Untyped/#plfa_plfa-part2-Untyped-4246" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Substitution-29116" href="../Untyped/#plfa_plfa-part2-Untyped-2820" class="InductiveConstructor">★</a><a id="plfa_plfa-part2-Substitution-29117" class="Symbol">}{</a><a id="plfa_plfa-part2-Substitution-29119" href="../Substitution/#plfa_plfa-part2-Substitution-29119" class="Bound">N</a> <a id="plfa_plfa-part2-Substitution-29121" class="Symbol">:</a> <a id="plfa_plfa-part2-Substitution-29123" href="../Substitution/#plfa_plfa-part2-Substitution-29097" class="Bound">Γ</a> <a id="plfa_plfa-part2-Substitution-29125" href="../Untyped/#plfa_plfa-part2-Untyped-3131" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part2-Substitution-29127" href="../Untyped/#plfa_plfa-part2-Untyped-2820" class="InductiveConstructor">★</a> <a id="plfa_plfa-part2-Substitution-29129" href="../Untyped/#plfa_plfa-part2-Untyped-4246" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Substitution-29131" href="../Untyped/#plfa_plfa-part2-Untyped-2820" class="InductiveConstructor">★</a><a id="plfa_plfa-part2-Substitution-29132" class="Symbol">}{</a><a id="plfa_plfa-part2-Substitution-29134" href="../Substitution/#plfa_plfa-part2-Substitution-29134" class="Bound">L</a> <a id="plfa_plfa-part2-Substitution-29136" class="Symbol">:</a> <a id="plfa_plfa-part2-Substitution-29138" href="../Substitution/#plfa_plfa-part2-Substitution-29097" class="Bound">Γ</a> <a id="plfa_plfa-part2-Substitution-29140" href="../Untyped/#plfa_plfa-part2-Untyped-4246" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Substitution-29142" href="../Untyped/#plfa_plfa-part2-Untyped-2820" class="InductiveConstructor">★</a><a id="plfa_plfa-part2-Substitution-29143" class="Symbol">}</a>
    <a id="plfa_plfa-part2-Substitution-29149" class="Symbol">→</a> <a id="plfa_plfa-part2-Substitution-29151" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-29152" href="../Substitution/#plfa_plfa-part2-Substitution-29100" class="Bound">M</a> <a id="plfa_plfa-part2-Substitution-29154" href="../Untyped/#plfa_plfa-part2-Untyped-7475" class="Function Operator">[</a> <a id="plfa_plfa-part2-Substitution-29156" href="../Substitution/#plfa_plfa-part2-Substitution-29119" class="Bound">N</a> <a id="plfa_plfa-part2-Substitution-29158" href="../Untyped/#plfa_plfa-part2-Untyped-7475" class="Function Operator">]</a><a id="plfa_plfa-part2-Substitution-29159" class="Symbol">)</a> <a id="plfa_plfa-part2-Substitution-29161" href="../Untyped/#plfa_plfa-part2-Untyped-7475" class="Function Operator">[</a> <a id="plfa_plfa-part2-Substitution-29163" href="../Substitution/#plfa_plfa-part2-Substitution-29134" class="Bound">L</a> <a id="plfa_plfa-part2-Substitution-29165" href="../Untyped/#plfa_plfa-part2-Untyped-7475" class="Function Operator">]</a> <a id="plfa_plfa-part2-Substitution-29167" href="https://agda.github.io/agda-stdlib/v1.3/Agda.Builtin.Equality.html#151" class="Datatype Operator">≡</a> <a id="plfa_plfa-part2-Substitution-29169" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-29170" href="../Substitution/#plfa_plfa-part2-Substitution-29100" class="Bound">M</a> <a id="plfa_plfa-part2-Substitution-29172" href="../Substitution/#plfa_plfa-part2-Substitution-28783" class="Function Operator">〔</a> <a id="plfa_plfa-part2-Substitution-29174" href="../Substitution/#plfa_plfa-part2-Substitution-29134" class="Bound">L</a> <a id="plfa_plfa-part2-Substitution-29176" href="../Substitution/#plfa_plfa-part2-Substitution-28783" class="Function Operator">〕</a><a id="plfa_plfa-part2-Substitution-29177" class="Symbol">)</a> <a id="plfa_plfa-part2-Substitution-29179" href="../Untyped/#plfa_plfa-part2-Untyped-7475" class="Function Operator">[</a> <a id="plfa_plfa-part2-Substitution-29181" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-29182" href="../Substitution/#plfa_plfa-part2-Substitution-29119" class="Bound">N</a> <a id="plfa_plfa-part2-Substitution-29184" href="../Untyped/#plfa_plfa-part2-Untyped-7475" class="Function Operator">[</a> <a id="plfa_plfa-part2-Substitution-29186" href="../Substitution/#plfa_plfa-part2-Substitution-29134" class="Bound">L</a> <a id="plfa_plfa-part2-Substitution-29188" href="../Untyped/#plfa_plfa-part2-Untyped-7475" class="Function Operator">]</a><a id="plfa_plfa-part2-Substitution-29189" class="Symbol">)</a> <a id="plfa_plfa-part2-Substitution-29191" href="../Untyped/#plfa_plfa-part2-Untyped-7475" class="Function Operator">]</a>
<a id="plfa_plfa-part2-Substitution-29193" href="../Substitution/#plfa_plfa-part2-Substitution-29080" class="Function">substitution</a><a id="plfa_plfa-part2-Substitution-29205" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-29206" class="Argument">M</a> <a id="plfa_plfa-part2-Substitution-29208" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-29210" href="../Substitution/#plfa_plfa-part2-Substitution-29210" class="Bound">M</a><a id="plfa_plfa-part2-Substitution-29211" class="Symbol">}{</a><a id="plfa_plfa-part2-Substitution-29213" class="Argument">N</a> <a id="plfa_plfa-part2-Substitution-29215" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-29217" href="../Substitution/#plfa_plfa-part2-Substitution-29217" class="Bound">N</a><a id="plfa_plfa-part2-Substitution-29218" class="Symbol">}{</a><a id="plfa_plfa-part2-Substitution-29220" class="Argument">L</a> <a id="plfa_plfa-part2-Substitution-29222" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-29224" href="../Substitution/#plfa_plfa-part2-Substitution-29224" class="Bound">L</a><a id="plfa_plfa-part2-Substitution-29225" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-29227" class="Symbol">=</a>
   <a id="plfa_plfa-part2-Substitution-29232" href="https://agda.github.io/agda-stdlib/v1.3/Relation.Binary.PropositionalEquality.Core.html#980" class="Function">sym</a> <a id="plfa_plfa-part2-Substitution-29236" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-29237" href="../Substitution/#plfa_plfa-part2-Substitution-26497" class="Function">subst-commute</a><a id="plfa_plfa-part2-Substitution-29250" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-29251" class="Argument">N</a> <a id="plfa_plfa-part2-Substitution-29253" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-29255" href="../Substitution/#plfa_plfa-part2-Substitution-29210" class="Bound">M</a><a id="plfa_plfa-part2-Substitution-29256" class="Symbol">}{</a><a id="plfa_plfa-part2-Substitution-29258" class="Argument">M</a> <a id="plfa_plfa-part2-Substitution-29260" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-29262" href="../Substitution/#plfa_plfa-part2-Substitution-29217" class="Bound">N</a><a id="plfa_plfa-part2-Substitution-29263" class="Symbol">}{</a><a id="plfa_plfa-part2-Substitution-29265" class="Argument">σ</a> <a id="plfa_plfa-part2-Substitution-29267" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-29269" href="../Untyped/#plfa_plfa-part2-Untyped-7359" class="Function">subst-zero</a> <a id="plfa_plfa-part2-Substitution-29280" href="../Substitution/#plfa_plfa-part2-Substitution-29224" class="Bound">L</a><a id="plfa_plfa-part2-Substitution-29281" class="Symbol">})</a>
</pre><h2 id="notes">Notes</h2><p>Most of the properties and proofs in this file are based on the paper <em>Autosubst: Reasoning with de Bruijn Terms and Parallel Substitution</em> by Schafer, Tebbi, and Smolka (ITP 2015). That paper, in turn, is based on the paper of Abadi, Cardelli, Curien, and Levy (1991) that defines the σ algebra.</p><h2 id="unicode">Unicode</h2><p>This chapter uses the following unicode:</p><pre><code>⟪  U+27EA  MATHEMATICAL LEFT DOUBLE ANGLE BRACKET (\&lt;&lt;)
⟫  U+27EA  MATHEMATICAL RIGHT DOUBLE ANGLE BRACKET (\&gt;&gt;)
↑  U+2191  UPWARDS ARROW (\u)
•  U+2022  BULLET (\bub)
⨟  U+2A1F  Z NOTATION SCHEMA COMPOSITION (C-x 8 RET Z NOTATION SCHEMA COMPOSITION)
〔  U+3014  LEFT TORTOISE SHELL BRACKET (\( option 9 on page 2)
〕  U+3015  RIGHT TORTOISE SHELL BRACKET (\) option 9 on page 2)</code></pre></div><nav class="pager"><ul class="pagination"><li><a class="pagelink" href="../ContextualEquivalence/">Prev</a></li><li class="separator">•</li><li><a class="pagelink" href="https://github.com/plfa/plfa.github.io/blob/dev/src/plfa/part2/Substitution.lagda.md">Source</a></li><li class="separator">•</li><li><a class="pagelink" href="../Acknowledgements/">Next</a></li><li class="separator">•</li></ul></nav></article></div></main><footer class="site-footer h-card"><data class="u-url" href="../"></data><div class="wrapper"><h2 class="footer-heading">Programming Language Foundations in Agda</h2><div class="footer-col-wrapper"><div class="footer-col footer-col-1"><ul class="contact-list"><li class="p-name">Philip Wadler</li><li><a class="u-email" href="mailto:wadler@inf.ed.ac.uk"><i class="far fa-envelope"></i>  wadler@inf.ed.ac.uk</a></li></ul></div><div class="footer-col footer-col-2"><ul class="social-media-list"><li><a rel="me" href="https://github.com/wadler" title="wadler"><i class="fab fa-github"></i>  wadler</a></li></ul></div><div class="footer-col footer-col-3"></div></div><div class="footer-col-wrapper"><div class="footer-col footer-col-1"><ul class="contact-list"><li class="p-name">Wen Kokke</li><li><a class="u-email" href="mailto:me@wen.works"><i class="far fa-envelope"></i>  me@wen.works</a></li></ul></div><div class="footer-col footer-col-2"><ul class="social-media-list"><li><a rel="me" href="https://github.com/wenkokke" title="wenkokke"><i class="fab fa-github"></i>  wenkokke</a></li><li><a rel="me" href="https://twitter.com/wenkokke" title="wenkokke"><i class="fab fa-twitter"></i>  wenkokke</a></li></ul></div><div class="footer-col footer-col-3"></div></div><div class="footer-col-wrapper"><div class="footer-col footer-col-1"><ul class="contact-list"><li class="p-name">Jeremy G. Siek</li><li><a class="u-email" href="mailto:jsiek@indiana.edu"><i class="far fa-envelope"></i>  jsiek@indiana.edu</a></li></ul></div><div class="footer-col footer-col-2"><ul class="social-media-list"><li><a rel="me" href="https://github.com/jsiek" title="jsiek"><i class="fab fa-github"></i>  jsiek</a></li><li><a rel="me" href="https://twitter.com/jeremysiek" title="jeremysiek"><i class="fab fa-twitter"></i>  jeremysiek</a></li></ul></div><div class="footer-col footer-col-3"></div></div>This work is licensed under a <a rel="license" href="https://creativecommons.org/licenses/by/4.0/">Creative Commons Attribution 4.0 International License</a></div></footer></body></html>